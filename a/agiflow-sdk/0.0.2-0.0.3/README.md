# Comparing `tmp/agiflow_sdk-0.0.2.tar.gz` & `tmp/agiflow_sdk-0.0.3.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "agiflow_sdk-0.0.2.tar", max compression
+gzip compressed data, was "agiflow_sdk-0.0.3.tar", max compression
```

## Comparing `agiflow_sdk-0.0.2.tar` & `agiflow_sdk-0.0.3.tar`

### file list

```diff
@@ -1,177 +1,264 @@
--rw-r--r--   0        0        0      394 2024-05-31 11:14:13.770101 agiflow_sdk-0.0.2/README.md
--rw-r--r--   0        0        0     5857 2024-05-31 11:14:13.770531 agiflow_sdk-0.0.2/agiflow/__init__.py
--rw-r--r--   0        0        0      622 2024-05-31 11:14:13.771864 agiflow_sdk-0.0.2/agiflow/config/__init__.py
--rw-r--r--   0        0        0     1663 2024-05-31 11:14:13.772521 agiflow_sdk-0.0.2/agiflow/config/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     1451 2024-05-31 11:14:13.772738 agiflow_sdk-0.0.2/agiflow/config/__pycache__/environment_vars.cpython-311.pyc
--rw-r--r--   0        0        0     1338 2024-05-31 11:14:13.773131 agiflow_sdk-0.0.2/agiflow/config/environment_vars.py
--rw-r--r--   0        0        0     6148 2024-05-31 11:14:13.773607 agiflow_sdk-0.0.2/agiflow/opentelemetry/.DS_Store
--rw-r--r--   0        0        0      756 2024-05-31 11:14:13.773900 agiflow_sdk-0.0.2/agiflow/opentelemetry/__init__.py
--rw-r--r--   0        0        0     1371 2024-05-31 11:14:13.774996 agiflow_sdk-0.0.2/agiflow/opentelemetry/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     4092 2024-05-31 11:14:13.775175 agiflow_sdk-0.0.2/agiflow/opentelemetry/__pycache__/trace_store.cpython-311.pyc
--rw-r--r--   0        0        0      223 2024-05-31 11:14:13.775495 agiflow_sdk-0.0.2/agiflow/opentelemetry/__pycache__/version.cpython-311.pyc
--rw-r--r--   0        0        0     1407 2024-05-31 11:14:13.775849 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__init__.py
--rw-r--r--   0        0        0     2019 2024-05-31 11:14:13.776457 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     3110 2024-05-31 11:14:13.777239 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/agiflow_attributes.cpython-311.pyc
--rw-r--r--   0        0        0     7212 2024-05-31 11:14:13.778052 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/constants.cpython-311.pyc
--rw-r--r--   0        0        0     2369 2024-05-31 11:14:13.778313 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/database_span_attributes.cpython-311.pyc
--rw-r--r--   0        0        0     1665 2024-05-31 11:14:13.778530 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/framework_span_attributes.cpython-311.pyc
--rw-r--r--   0        0        0     6920 2024-05-31 11:14:13.778989 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/llm_span_attributes.cpython-311.pyc
--rw-r--r--   0        0        0     2211 2024-05-31 11:14:13.779157 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/agiflow_attributes.py
--rw-r--r--   0        0        0     3240 2024-05-31 11:14:13.779282 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/constants.py
--rw-r--r--   0        0        0     1496 2024-05-31 11:14:13.779404 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/database_span_attributes.py
--rw-r--r--   0        0        0      875 2024-05-31 11:14:13.779627 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/framework_span_attributes.py
--rw-r--r--   0        0        0     5855 2024-05-31 11:14:13.779758 agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/llm_span_attributes.py
--rw-r--r--   0        0        0      747 2024-05-31 11:14:13.780120 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/__init__.py
--rw-r--r--   0        0        0      999 2024-05-31 11:14:13.780464 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     3069 2024-05-31 11:14:13.780968 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/__pycache__/instrumentation.cpython-311.pyc
--rw-r--r--   0        0        0      106 2024-05-31 11:14:13.781288 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/hooks/__init__.py
--rw-r--r--   0        0        0      367 2024-05-31 11:14:13.781539 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/hooks/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     2482 2024-05-31 11:14:13.781809 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/hooks/__pycache__/base.cpython-311.pyc
--rw-r--r--   0        0        0    10219 2024-05-31 11:14:13.781985 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/hooks/__pycache__/message_create.cpython-311.pyc
--rw-r--r--   0        0        0     1486 2024-05-31 11:14:13.782352 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/hooks/base.py
--rw-r--r--   0        0        0     7600 2024-05-31 11:14:13.782605 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py
--rw-r--r--   0        0        0     1787 2024-05-31 11:14:13.782840 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py
--rw-r--r--   0        0        0      391 2024-05-31 11:14:13.783182 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/__init__.py
--rw-r--r--   0        0        0      649 2024-05-31 11:14:13.783819 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0      346 2024-05-31 11:14:13.784006 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/__pycache__/anthropic.cpython-311.pyc
--rw-r--r--   0        0        0      902 2024-05-31 11:14:13.784354 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/__pycache__/common.cpython-311.pyc
--rw-r--r--   0        0        0     1074 2024-05-31 11:14:13.784663 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/__pycache__/openai.cpython-311.pyc
--rw-r--r--   0        0        0      126 2024-05-31 11:14:13.784855 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/anthropic.py
--rw-r--r--   0        0        0      750 2024-05-31 11:14:13.784970 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/common.py
--rw-r--r--   0        0        0     1054 2024-05-31 11:14:13.785106 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/openai.py
--rw-r--r--   0        0        0     6148 2024-05-31 11:14:13.785589 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/.DS_Store
--rw-r--r--   0        0        0        0 2024-05-31 11:14:13.785679 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/__init__.py
--rw-r--r--   0        0        0      230 2024-05-31 11:14:13.786038 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     3537 2024-05-31 11:14:13.786182 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/__pycache__/instrumentation.cpython-311.pyc
--rw-r--r--   0        0        0     4136 2024-05-31 11:14:13.786403 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/__pycache__/patch.cpython-311.pyc
--rw-r--r--   0        0        0      180 2024-05-31 11:14:13.786720 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/__init__.py
--rw-r--r--   0        0        0      468 2024-05-31 11:14:13.787262 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     2044 2024-05-31 11:14:13.787716 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/base.cpython-311.pyc
--rw-r--r--   0        0        0     7533 2024-05-31 11:14:13.788082 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/chat.cpython-311.pyc
--rw-r--r--   0        0        0     3122 2024-05-31 11:14:13.788322 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/generic.cpython-311.pyc
--rw-r--r--   0        0        0     1229 2024-05-31 11:14:13.788494 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/base.py
--rw-r--r--   0        0        0     5041 2024-05-31 11:14:13.788834 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py
--rw-r--r--   0        0        0     1741 2024-05-31 11:14:13.789182 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/generic.py
--rw-r--r--   0        0        0     2382 2024-05-31 11:14:13.789429 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py
--rw-r--r--   0        0        0     6148 2024-05-31 11:14:13.789979 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/.DS_Store
--rw-r--r--   0        0        0        0 2024-05-31 11:14:13.790078 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/__init__.py
--rw-r--r--   0        0        0      240 2024-05-31 11:14:13.790351 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     3653 2024-05-31 11:14:13.790623 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/__pycache__/instrumentation.cpython-311.pyc
--rw-r--r--   0        0        0    11425 2024-05-31 11:14:13.790897 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/__pycache__/patch.cpython-311.pyc
--rw-r--r--   0        0        0     6148 2024-05-31 11:14:13.791412 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/.DS_Store
--rw-r--r--   0        0        0      141 2024-05-31 11:14:13.791655 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__init__.py
--rw-r--r--   0        0        0      404 2024-05-31 11:14:13.791981 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     2221 2024-05-31 11:14:13.792225 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/base.cpython-311.pyc
--rw-r--r--   0        0        0     6863 2024-05-31 11:14:13.792537 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/chat.cpython-311.pyc
--rw-r--r--   0        0        0     3163 2024-05-31 11:14:13.792681 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/generic.cpython-311.pyc
--rw-r--r--   0        0        0     5119 2024-05-31 11:14:13.793031 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/llm.cpython-311.pyc
--rw-r--r--   0        0        0     1307 2024-05-31 11:14:13.793176 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py
--rw-r--r--   0        0        0     1769 2024-05-31 11:14:13.793385 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/generic.py
--rw-r--r--   0        0        0     3108 2024-05-31 11:14:13.793625 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py
--rw-r--r--   0        0        0     6148 2024-05-31 11:14:13.794060 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/.DS_Store
--rw-r--r--   0        0        0        0 2024-05-31 11:14:13.794160 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/__init__.py
--rw-r--r--   0        0        0      235 2024-05-31 11:14:13.794413 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     4115 2024-05-31 11:14:13.794663 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/__pycache__/instrumentation.cpython-311.pyc
--rw-r--r--   0        0        0     8316 2024-05-31 11:14:13.794929 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/__pycache__/patch.cpython-311.pyc
--rw-r--r--   0        0        0      288 2024-05-31 11:14:13.795355 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__init__.py
--rw-r--r--   0        0        0      608 2024-05-31 11:14:13.795936 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     2362 2024-05-31 11:14:13.796460 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/base.cpython-311.pyc
--rw-r--r--   0        0        0     3502 2024-05-31 11:14:13.796755 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/generic.cpython-311.pyc
--rw-r--r--   0        0        0     5466 2024-05-31 11:14:13.797635 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/llm.cpython-311.pyc
--rw-r--r--   0        0        0     4621 2024-05-31 11:14:13.797875 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/runnable.cpython-311.pyc
--rw-r--r--   0        0        0     1378 2024-05-31 11:14:13.798010 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/base.py
--rw-r--r--   0        0        0     2107 2024-05-31 11:14:13.798132 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py
--rw-r--r--   0        0        0     3201 2024-05-31 11:14:13.798434 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py
--rw-r--r--   0        0        0     3205 2024-05-31 11:14:13.798674 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py
--rw-r--r--   0        0        0     3460 2024-05-31 11:14:13.799035 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py
--rw-r--r--   0        0        0     6148 2024-05-31 11:14:13.799502 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/.DS_Store
--rw-r--r--   0        0        0        0 2024-05-31 11:14:13.799677 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/__init__.py
--rw-r--r--   0        0        0      227 2024-05-31 11:14:13.799961 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     3782 2024-05-31 11:14:13.800422 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/__pycache__/instrumentation.cpython-311.pyc
--rw-r--r--   0        0        0    20526 2024-05-31 11:14:13.801018 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/__pycache__/patch.cpython-311.pyc
--rw-r--r--   0        0        0     6148 2024-05-31 11:14:13.801563 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/.DS_Store
--rw-r--r--   0        0        0      302 2024-05-31 11:14:13.801795 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__init__.py
--rw-r--r--   0        0        0      614 2024-05-31 11:14:13.802085 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     3945 2024-05-31 11:14:13.802394 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/base.cpython-311.pyc
--rw-r--r--   0        0        0     4744 2024-05-31 11:14:13.802651 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/base_llm.cpython-311.pyc
--rw-r--r--   0        0        0    12454 2024-05-31 11:14:13.802913 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/chat_completion.cpython-311.pyc
--rw-r--r--   0        0        0    11736 2024-05-31 11:14:13.804204 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/completion.cpython-311.pyc
--rw-r--r--   0        0        0     3391 2024-05-31 11:14:13.804588 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/embedding.cpython-311.pyc
--rw-r--r--   0        0        0     3885 2024-05-31 11:14:13.805010 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/image_generate.cpython-311.pyc
--rw-r--r--   0        0        0     2374 2024-05-31 11:14:13.805414 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/utils.cpython-311.pyc
--rw-r--r--   0        0        0     2437 2024-05-31 11:14:13.805544 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/base.py
--rw-r--r--   0        0        0     3115 2024-05-31 11:14:13.805657 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/base_llm.py
--rw-r--r--   0        0        0    10767 2024-05-31 11:14:13.805888 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py
--rw-r--r--   0        0        0     2257 2024-05-31 11:14:13.806150 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/embedding.py
--rw-r--r--   0        0        0     2555 2024-05-31 11:14:13.806384 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/image_generate.py
--rw-r--r--   0        0        0     2211 2024-05-31 11:14:13.806536 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/utils.py
--rw-r--r--   0        0        0     2967 2024-05-31 11:14:13.806789 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/instrumentation.py
--rw-r--r--   0        0        0     2423 2024-05-31 11:14:13.807067 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/utils/__init__.py
--rw-r--r--   0        0        0     2872 2024-05-31 11:14:13.807400 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/utils/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0    17056 2024-05-31 11:14:13.807724 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/utils/__pycache__/wrapper.cpython-311.pyc
--rw-r--r--   0        0        0    11293 2024-05-31 11:14:13.807970 agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/utils/wrapper.py
--rw-r--r--   0        0        0      101 2024-05-31 11:14:13.808350 agiflow_sdk-0.0.2/agiflow/opentelemetry/span_processors/__init__.py
--rw-r--r--   0        0        0      346 2024-05-31 11:14:13.808699 agiflow_sdk-0.0.2/agiflow/opentelemetry/span_processors/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     4742 2024-05-31 11:14:13.808981 agiflow_sdk-0.0.2/agiflow/opentelemetry/span_processors/__pycache__/thread_pool_span_processor.cpython-311.pyc
--rw-r--r--   0        0        0     2178 2024-05-31 11:14:13.809173 agiflow_sdk-0.0.2/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py
--rw-r--r--   0        0        0      176 2024-05-31 11:14:13.809526 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_decorators/__init__.py
--rw-r--r--   0        0        0      539 2024-05-31 11:14:13.809776 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_decorators/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     2488 2024-05-31 11:14:13.810179 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_decorators/__pycache__/helper.cpython-311.pyc
--rw-r--r--   0        0        0    10430 2024-05-31 11:14:13.810424 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_decorators/__pycache__/task.cpython-311.pyc
--rw-r--r--   0        0        0     8845 2024-05-31 11:14:13.810678 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_decorators/__pycache__/workflow.cpython-311.pyc
--rw-r--r--   0        0        0     1320 2024-05-31 11:14:13.810825 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_decorators/helper.py
--rw-r--r--   0        0        0     8310 2024-05-31 11:14:13.811061 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_decorators/task.py
--rw-r--r--   0        0        0     6433 2024-05-31 11:14:13.811300 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_decorators/workflow.py
--rw-r--r--   0        0        0       75 2024-05-31 11:14:13.811544 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/__init__.py
--rw-r--r--   0        0        0      319 2024-05-31 11:14:13.811757 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     2687 2024-05-31 11:14:13.811891 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/__pycache__/config.cpython-311.pyc
--rw-r--r--   0        0        0     9661 2024-05-31 11:14:13.812032 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/__pycache__/json.cpython-311.pyc
--rw-r--r--   0        0        0      238 2024-05-31 11:14:13.812188 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/__pycache__/version.cpython-311.pyc
--rw-r--r--   0        0        0     2757 2024-05-31 11:14:13.812323 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/config.py
--rw-r--r--   0        0        0     7123 2024-05-31 11:14:13.812456 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/json.py
--rw-r--r--   0        0        0       22 2024-05-31 11:14:13.814043 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/version.py
--rw-r--r--   0        0        0       69 2024-05-31 11:14:13.814319 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_sampler/__init__.py
--rw-r--r--   0        0        0      312 2024-05-31 11:14:13.814554 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_sampler/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     1678 2024-05-31 11:14:13.814710 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_sampler/__pycache__/no_sampler.cpython-311.pyc
--rw-r--r--   0        0        0      757 2024-05-31 11:14:13.814865 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_sampler/no_sampler.py
--rw-r--r--   0        0        0     3160 2024-05-31 11:14:13.815145 agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_store.py
--rw-r--r--   0        0        0      336 2024-05-31 11:14:13.815357 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__init__.py
--rw-r--r--   0        0        0      694 2024-05-31 11:14:13.815631 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     1978 2024-05-31 11:14:13.816009 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/content_alow_list.cpython-311.pyc
--rw-r--r--   0        0        0     5230 2024-05-31 11:14:13.816190 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/context.cpython-311.pyc
--rw-r--r--   0        0        0      897 2024-05-31 11:14:13.816337 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/context_manager.cpython-311.pyc
--rw-r--r--   0        0        0     1282 2024-05-31 11:14:13.816486 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/context_propagation.cpython-311.pyc
--rw-r--r--   0        0        0     2581 2024-05-31 11:14:13.816720 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/span_from_context.cpython-311.pyc
--rw-r--r--   0        0        0    13225 2024-05-31 11:14:13.816879 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/tracing.cpython-311.pyc
--rw-r--r--   0        0        0      846 2024-05-31 11:14:13.817131 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/content_alow_list.py
--rw-r--r--   0        0        0     2820 2024-05-31 11:14:13.817262 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/context.py
--rw-r--r--   0        0        0      307 2024-05-31 11:14:13.817381 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/context_manager.py
--rw-r--r--   0        0        0      679 2024-05-31 11:14:13.817592 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/context_propagation.py
--rw-r--r--   0        0        0     1723 2024-05-31 11:14:13.817707 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/span_from_context.py
--rw-r--r--   0        0        0     9812 2024-05-31 11:14:13.817831 agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/tracing.py
--rw-r--r--   0        0        0      787 2024-05-31 11:14:13.818074 agiflow_sdk-0.0.2/agiflow/opentelemetry/types/__init__.py
--rw-r--r--   0        0        0     1836 2024-05-31 11:14:13.818296 agiflow_sdk-0.0.2/agiflow/opentelemetry/types/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     6148 2024-05-31 11:14:13.818626 agiflow_sdk-0.0.2/agiflow/opentelemetry/utils/.DS_Store
--rw-r--r--   0        0        0      204 2024-05-31 11:14:13.818736 agiflow_sdk-0.0.2/agiflow/opentelemetry/utils/__init__.py
--rw-r--r--   0        0        0      533 2024-05-31 11:14:13.819599 agiflow_sdk-0.0.2/agiflow/opentelemetry/utils/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     3705 2024-05-31 11:14:13.819785 agiflow_sdk-0.0.2/agiflow/opentelemetry/utils/__pycache__/llm.cpython-311.pyc
--rw-r--r--   0        0        0     2391 2024-05-31 11:14:13.819945 agiflow_sdk-0.0.2/agiflow/opentelemetry/utils/llm.py
--rw-r--r--   0        0        0       43 2024-05-31 11:14:13.820238 agiflow_sdk-0.0.2/agiflow/services/__init__.py
--rw-r--r--   0        0        0      267 2024-05-31 11:14:13.820483 agiflow_sdk-0.0.2/agiflow/services/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     5364 2024-05-31 11:14:13.820726 agiflow_sdk-0.0.2/agiflow/services/__pycache__/fetch.cpython-311.pyc
--rw-r--r--   0        0        0     2695 2024-05-31 11:14:13.820972 agiflow_sdk-0.0.2/agiflow/services/fetch.py
--rw-r--r--   0        0        0     2492 2024-05-31 11:14:13.821284 agiflow_sdk-0.0.2/agiflow/telemetry/__init__.py
--rw-r--r--   0        0        0     4807 2024-05-31 11:14:13.821597 agiflow_sdk-0.0.2/agiflow/telemetry/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0     6148 2024-05-31 11:14:13.822053 agiflow_sdk-0.0.2/agiflow/utils/.DS_Store
--rw-r--r--   0        0        0      175 2024-05-31 11:14:13.822238 agiflow_sdk-0.0.2/agiflow/utils/__init__.py
--rw-r--r--   0        0        0      480 2024-05-31 11:14:13.822805 agiflow_sdk-0.0.2/agiflow/utils/__pycache__/__init__.cpython-311.pyc
--rw-r--r--   0        0        0      532 2024-05-31 11:14:13.823049 agiflow_sdk-0.0.2/agiflow/utils/__pycache__/assertion.cpython-311.pyc
--rw-r--r--   0        0        0      858 2024-05-31 11:14:13.823951 agiflow_sdk-0.0.2/agiflow/utils/__pycache__/error.cpython-311.pyc
--rw-r--r--   0        0        0     3268 2024-05-31 11:14:13.824131 agiflow_sdk-0.0.2/agiflow/utils/__pycache__/llm.cpython-311.pyc
--rw-r--r--   0        0        0     3422 2024-05-31 11:14:13.824495 agiflow_sdk-0.0.2/agiflow/utils/__pycache__/string.cpython-311.pyc
--rw-r--r--   0        0        0      207 2024-05-31 11:14:13.824947 agiflow_sdk-0.0.2/agiflow/utils/assertion.py
--rw-r--r--   0        0        0      317 2024-05-31 11:14:13.825116 agiflow_sdk-0.0.2/agiflow/utils/error.py
--rw-r--r--   0        0        0     1576 2024-05-31 11:14:13.825256 agiflow_sdk-0.0.2/agiflow/utils/string.py
--rw-r--r--   0        0        0       22 2024-05-31 11:14:13.825390 agiflow_sdk-0.0.2/agiflow/version.py
--rw-r--r--   0        0        0     1106 2024-05-31 11:14:13.832264 agiflow_sdk-0.0.2/pyproject.toml
--rw-r--r--   0        0        0     1760 1970-01-01 00:00:00.000000 agiflow_sdk-0.0.2/PKG-INFO
+-rw-r--r--   0        0        0      394 2024-06-02 02:24:45.176730 agiflow_sdk-0.0.3/README.md
+-rw-r--r--   0        0        0     5480 2024-06-02 02:24:45.177105 agiflow_sdk-0.0.3/agiflow/__init__.py
+-rw-r--r--   0        0        0      889 2024-06-02 02:24:45.178092 agiflow_sdk-0.0.3/agiflow/config/__init__.py
+-rw-r--r--   0        0        0     1838 2024-06-02 02:24:45.178403 agiflow_sdk-0.0.3/agiflow/config/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0      274 2024-06-02 02:24:45.178660 agiflow_sdk-0.0.3/agiflow/config/__pycache__/constants.cpython-311.pyc
+-rw-r--r--   0        0        0     1451 2024-06-02 02:24:45.178841 agiflow_sdk-0.0.3/agiflow/config/__pycache__/environment_vars.cpython-311.pyc
+-rw-r--r--   0        0        0       72 2024-06-02 02:24:45.179100 agiflow_sdk-0.0.3/agiflow/config/constants.py
+-rw-r--r--   0        0        0     1338 2024-06-02 02:24:45.179350 agiflow_sdk-0.0.3/agiflow/config/environment_vars.py
+-rw-r--r--   0        0        0     6148 2024-06-02 02:24:45.179714 agiflow_sdk-0.0.3/agiflow/opentelemetry/.DS_Store
+-rw-r--r--   0        0        0     1037 2024-06-02 02:24:45.180029 agiflow_sdk-0.0.3/agiflow/opentelemetry/__init__.py
+-rw-r--r--   0        0        0     1379 2024-06-02 02:24:45.180588 agiflow_sdk-0.0.3/agiflow/opentelemetry/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     4092 2024-06-02 02:24:45.180858 agiflow_sdk-0.0.3/agiflow/opentelemetry/__pycache__/trace_store.cpython-311.pyc
+-rw-r--r--   0        0        0      223 2024-06-02 02:24:45.181102 agiflow_sdk-0.0.3/agiflow/opentelemetry/__pycache__/version.cpython-311.pyc
+-rw-r--r--   0        0        0     1112 2024-06-02 02:24:45.181463 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/__init__.py
+-rw-r--r--   0        0        0     1289 2024-06-02 02:24:45.181798 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     1682 2024-06-02 02:24:45.181979 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/__pycache__/constants.cpython-311.pyc
+-rw-r--r--   0        0        0     2868 2024-06-02 02:24:45.182221 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/__pycache__/context.cpython-311.pyc
+-rw-r--r--   0        0        0     2653 2024-06-02 02:24:45.182452 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/__pycache__/context_propagation.cpython-311.pyc
+-rw-r--r--   0        0        0     2105 2024-06-02 02:24:45.182688 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/__pycache__/set_span_from_context.cpython-311.pyc
+-rw-r--r--   0        0        0     2101 2024-06-02 02:24:45.183005 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/__pycache__/span_from_context.cpython-311.pyc
+-rw-r--r--   0        0        0      673 2024-06-02 02:24:45.183246 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/constants.py
+-rw-r--r--   0        0        0     1231 2024-06-02 02:24:45.183544 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/context.py
+-rw-r--r--   0        0        0     1644 2024-06-02 02:24:45.183785 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/context_propagation.py
+-rw-r--r--   0        0        0     1285 2024-06-02 02:24:45.184012 agiflow_sdk-0.0.3/agiflow/opentelemetry/context/span_from_context.py
+-rw-r--r--   0        0        0     1583 2024-06-02 02:24:45.184357 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__init__.py
+-rw-r--r--   0        0        0     2184 2024-06-02 02:24:45.184637 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     2922 2024-06-02 02:24:45.184871 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/agiflow_attributes.cpython-311.pyc
+-rw-r--r--   0        0        0     7800 2024-06-02 02:24:45.185109 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/constants.cpython-311.pyc
+-rw-r--r--   0        0        0     3106 2024-06-02 02:24:45.185374 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/database_span_attributes.cpython-311.pyc
+-rw-r--r--   0        0        0     1665 2024-06-02 02:24:45.185630 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/framework_span_attributes.cpython-311.pyc
+-rw-r--r--   0        0        0     7042 2024-06-02 02:24:45.185924 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/llm_span_attributes.cpython-311.pyc
+-rw-r--r--   0        0        0     2477 2024-06-02 02:24:45.186179 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/agiflow_attributes.py
+-rw-r--r--   0        0        0     3893 2024-06-02 02:24:45.186406 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/constants.py
+-rw-r--r--   0        0        0     2279 2024-06-02 02:24:45.186640 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/database_span_attributes.py
+-rw-r--r--   0        0        0      875 2024-06-02 02:24:45.186857 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/framework_span_attributes.py
+-rw-r--r--   0        0        0     6050 2024-06-02 02:24:45.187048 agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/llm_span_attributes.py
+-rw-r--r--   0        0        0    10305 2024-06-02 02:24:45.187394 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/__init__.py
+-rw-r--r--   0        0        0    13104 2024-06-02 02:24:45.187698 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0      154 2024-06-02 02:24:45.188077 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/__init__.py
+-rw-r--r--   0        0        0      398 2024-06-02 02:24:45.188291 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     2946 2024-06-02 02:24:45.188421 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/__pycache__/instrumentation.cpython-311.pyc
+-rw-r--r--   0        0        0      158 2024-06-02 02:24:45.188726 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/hooks/__init__.py
+-rw-r--r--   0        0        0      409 2024-06-02 02:24:45.188941 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/hooks/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     2606 2024-06-02 02:24:45.189178 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/hooks/__pycache__/base.cpython-311.pyc
+-rw-r--r--   0        0        0     9937 2024-06-02 02:24:45.189374 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/hooks/__pycache__/message_create.cpython-311.pyc
+-rw-r--r--   0        0        0     1581 2024-06-02 02:24:45.189679 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/hooks/base.py
+-rw-r--r--   0        0        0     7481 2024-06-02 02:24:45.189915 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py
+-rw-r--r--   0        0        0     1730 2024-06-02 02:24:45.190162 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py
+-rw-r--r--   0        0        0      145 2024-06-02 02:24:45.190471 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/__init__.py
+-rw-r--r--   0        0        0      389 2024-06-02 02:24:45.190767 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     3196 2024-06-02 02:24:45.191004 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/__pycache__/instrumentation.cpython-311.pyc
+-rw-r--r--   0        0        0      157 2024-06-02 02:24:45.191313 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/hooks/__init__.py
+-rw-r--r--   0        0        0      405 2024-06-02 02:24:45.191523 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/hooks/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     2297 2024-06-02 02:24:45.191673 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/hooks/__pycache__/base.cpython-311.pyc
+-rw-r--r--   0        0        0    16999 2024-06-02 02:24:45.191847 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/hooks/__pycache__/collection_call.cpython-311.pyc
+-rw-r--r--   0        0        0     1385 2024-06-02 02:24:45.192093 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/hooks/base.py
+-rw-r--r--   0        0        0    10704 2024-06-02 02:24:45.192326 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/hooks/collection_call.py
+-rw-r--r--   0        0        0     1910 2024-06-02 02:24:45.192645 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/instrumentation.py
+-rw-r--r--   0        0        0      145 2024-06-02 02:24:45.192945 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/__init__.py
+-rw-r--r--   0        0        0      389 2024-06-02 02:24:45.193150 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     3487 2024-06-02 02:24:45.193289 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/__pycache__/instrumentation.cpython-311.pyc
+-rw-r--r--   0        0        0      511 2024-06-02 02:24:45.193664 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/__init__.py
+-rw-r--r--   0        0        0      809 2024-06-02 02:24:45.193885 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     2247 2024-06-02 02:24:45.194026 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/__pycache__/base.cpython-311.pyc
+-rw-r--r--   0        0        0     8362 2024-06-02 02:24:45.194263 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/__pycache__/base_chat.cpython-311.pyc
+-rw-r--r--   0        0        0     6177 2024-06-02 02:24:45.194475 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/__pycache__/chat_create.cpython-311.pyc
+-rw-r--r--   0        0        0     7073 2024-06-02 02:24:45.194688 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/__pycache__/chat_stream.cpython-311.pyc
+-rw-r--r--   0        0        0     5336 2024-06-02 02:24:45.194819 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/__pycache__/embed.cpython-311.pyc
+-rw-r--r--   0        0        0     5930 2024-06-02 02:24:45.194958 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/__pycache__/rerank.cpython-311.pyc
+-rw-r--r--   0        0        0     1328 2024-06-02 02:24:45.195180 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/base.py
+-rw-r--r--   0        0        0     5765 2024-06-02 02:24:45.195426 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/base_chat.py
+-rw-r--r--   0        0        0     4975 2024-06-02 02:24:45.195653 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/chat_create.py
+-rw-r--r--   0        0        0     7065 2024-06-02 02:24:45.195877 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/chat_stream.py
+-rw-r--r--   0        0        0     3919 2024-06-02 02:24:45.196098 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/embed.py
+-rw-r--r--   0        0        0     4364 2024-06-02 02:24:45.196324 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/rerank.py
+-rw-r--r--   0        0        0     2425 2024-06-02 02:24:45.196558 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/instrumentation.py
+-rw-r--r--   0        0        0      391 2024-06-02 02:24:45.196851 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/__init__.py
+-rw-r--r--   0        0        0      649 2024-06-02 02:24:45.197064 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0      346 2024-06-02 02:24:45.197300 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/__pycache__/anthropic.cpython-311.pyc
+-rw-r--r--   0        0        0     1014 2024-06-02 02:24:45.197436 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/__pycache__/chroma.cpython-311.pyc
+-rw-r--r--   0        0        0      595 2024-06-02 02:24:45.197572 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/__pycache__/cohere.cpython-311.pyc
+-rw-r--r--   0        0        0      902 2024-06-02 02:24:45.197820 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/__pycache__/common.cpython-311.pyc
+-rw-r--r--   0        0        0     1074 2024-06-02 02:24:45.198055 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/__pycache__/openai.cpython-311.pyc
+-rw-r--r--   0        0        0      126 2024-06-02 02:24:45.198291 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/anthropic.py
+-rw-r--r--   0        0        0      972 2024-06-02 02:24:45.198543 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/chroma.py
+-rw-r--r--   0        0        0      577 2024-06-02 02:24:45.198766 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/cohere.py
+-rw-r--r--   0        0        0      750 2024-06-02 02:24:45.198931 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/common.py
+-rw-r--r--   0        0        0      134 2024-06-02 02:24:45.199148 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/groq.py
+-rw-r--r--   0        0        0     1054 2024-06-02 02:24:45.199366 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/openai.py
+-rw-r--r--   0        0        0      490 2024-06-02 02:24:45.199585 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/pinecone.py
+-rw-r--r--   0        0        0     2016 2024-06-02 02:24:45.199833 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/qdrant.py
+-rw-r--r--   0        0        0     1518 2024-06-02 02:24:45.200069 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/weaviate.py
+-rw-r--r--   0        0        0      139 2024-06-02 02:24:45.200388 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/groq/__init__.py
+-rw-r--r--   0        0        0      156 2024-06-02 02:24:45.200707 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/groq/hooks/__init__.py
+-rw-r--r--   0        0        0     1934 2024-06-02 02:24:45.200941 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/groq/hooks/base.py
+-rw-r--r--   0        0        0    12481 2024-06-02 02:24:45.201219 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/groq/hooks/chat_completion.py
+-rw-r--r--   0        0        0     1993 2024-06-02 02:24:45.201499 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/groq/instrumentation.py
+-rw-r--r--   0        0        0     6148 2024-06-02 02:24:45.201810 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/.DS_Store
+-rw-r--r--   0        0        0      154 2024-06-02 02:24:45.202026 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/__init__.py
+-rw-r--r--   0        0        0      398 2024-06-02 02:24:45.202308 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     3233 2024-06-02 02:24:45.202521 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/__pycache__/instrumentation.cpython-311.pyc
+-rw-r--r--   0        0        0     4136 2024-06-02 02:24:45.202756 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/__pycache__/patch.cpython-311.pyc
+-rw-r--r--   0        0        0      252 2024-06-02 02:24:45.203071 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/__init__.py
+-rw-r--r--   0        0        0      532 2024-06-02 02:24:45.203366 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     2313 2024-06-02 02:24:45.203583 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/base.cpython-311.pyc
+-rw-r--r--   0        0        0     7286 2024-06-02 02:24:45.203799 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/chat.cpython-311.pyc
+-rw-r--r--   0        0        0     3122 2024-06-02 02:24:45.204033 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/generic.cpython-311.pyc
+-rw-r--r--   0        0        0     1384 2024-06-02 02:24:45.204253 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/base.py
+-rw-r--r--   0        0        0     5021 2024-06-02 02:24:45.204488 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py
+-rw-r--r--   0        0        0     1741 2024-06-02 02:24:45.204708 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/generic.py
+-rw-r--r--   0        0        0     2232 2024-06-02 02:24:45.204940 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py
+-rw-r--r--   0        0        0     6148 2024-06-02 02:24:45.205242 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/.DS_Store
+-rw-r--r--   0        0        0      182 2024-06-02 02:24:45.205448 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/__init__.py
+-rw-r--r--   0        0        0      427 2024-06-02 02:24:45.205740 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     3462 2024-06-02 02:24:45.205974 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/__pycache__/instrumentation.cpython-311.pyc
+-rw-r--r--   0        0        0    11425 2024-06-02 02:24:45.206220 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/__pycache__/patch.cpython-311.pyc
+-rw-r--r--   0        0        0     6148 2024-06-02 02:24:45.206631 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/.DS_Store
+-rw-r--r--   0        0        0      141 2024-06-02 02:24:45.206854 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__init__.py
+-rw-r--r--   0        0        0      404 2024-06-02 02:24:45.207102 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     2481 2024-06-02 02:24:45.207324 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/base.cpython-311.pyc
+-rw-r--r--   0        0        0     6863 2024-06-02 02:24:45.207545 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/chat.cpython-311.pyc
+-rw-r--r--   0        0        0     3163 2024-06-02 02:24:45.207723 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/generic.cpython-311.pyc
+-rw-r--r--   0        0        0     5119 2024-06-02 02:24:45.207943 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/llm.cpython-311.pyc
+-rw-r--r--   0        0        0     1499 2024-06-02 02:24:45.208164 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py
+-rw-r--r--   0        0        0     1769 2024-06-02 02:24:45.208348 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/generic.py
+-rw-r--r--   0        0        0     3005 2024-06-02 02:24:45.208575 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py
+-rw-r--r--   0        0        0     6148 2024-06-02 02:24:45.208867 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/.DS_Store
+-rw-r--r--   0        0        0      167 2024-06-02 02:24:45.209076 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/__init__.py
+-rw-r--r--   0        0        0      412 2024-06-02 02:24:45.209362 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     3928 2024-06-02 02:24:45.209532 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/__pycache__/instrumentation.cpython-311.pyc
+-rw-r--r--   0        0        0     8316 2024-06-02 02:24:45.209754 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/__pycache__/patch.cpython-311.pyc
+-rw-r--r--   0        0        0      390 2024-06-02 02:24:45.210145 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__init__.py
+-rw-r--r--   0        0        0      693 2024-06-02 02:24:45.210447 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     2558 2024-06-02 02:24:45.210621 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/base.cpython-311.pyc
+-rw-r--r--   0        0        0     3573 2024-06-02 02:24:45.210855 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/generic.cpython-311.pyc
+-rw-r--r--   0        0        0     5208 2024-06-02 02:24:45.211082 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/llm.cpython-311.pyc
+-rw-r--r--   0        0        0     4692 2024-06-02 02:24:45.211311 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/runnable.cpython-311.pyc
+-rw-r--r--   0        0        0     1533 2024-06-02 02:24:45.211547 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/base.py
+-rw-r--r--   0        0        0     2152 2024-06-02 02:24:45.211778 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py
+-rw-r--r--   0        0        0     3178 2024-06-02 02:24:45.212000 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py
+-rw-r--r--   0        0        0     3248 2024-06-02 02:24:45.212220 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py
+-rw-r--r--   0        0        0     3346 2024-06-02 02:24:45.212446 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py
+-rw-r--r--   0        0        0      154 2024-06-02 02:24:45.212730 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langgraph/__init__.py
+-rw-r--r--   0        0        0      146 2024-06-02 02:24:45.213004 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langgraph/hooks/__init__.py
+-rw-r--r--   0        0        0     1343 2024-06-02 02:24:45.213226 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langgraph/hooks/base.py
+-rw-r--r--   0        0        0     3352 2024-06-02 02:24:45.213449 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langgraph/hooks/graph_call.py
+-rw-r--r--   0        0        0     2873 2024-06-02 02:24:45.213680 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langgraph/instrumentation.py
+-rw-r--r--   0        0        0      157 2024-06-02 02:24:45.213973 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/llamaindex/__init__.py
+-rw-r--r--   0        0        0      140 2024-06-02 02:24:45.214172 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/llamaindex/hooks/__init__.py
+-rw-r--r--   0        0        0     1347 2024-06-02 02:24:45.214392 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/llamaindex/hooks/base.py
+-rw-r--r--   0        0        0     1718 2024-06-02 02:24:45.214719 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/llamaindex/hooks/generic.py
+-rw-r--r--   0        0        0     2944 2024-06-02 02:24:45.214962 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/llamaindex/instrumentation.py
+-rw-r--r--   0        0        0     6148 2024-06-02 02:24:45.215250 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/.DS_Store
+-rw-r--r--   0        0        0      145 2024-06-02 02:24:45.215475 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/__init__.py
+-rw-r--r--   0        0        0      389 2024-06-02 02:24:45.215762 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     3659 2024-06-02 02:24:45.215985 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/__pycache__/instrumentation.cpython-311.pyc
+-rw-r--r--   0        0        0    20526 2024-06-02 02:24:45.216324 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/__pycache__/patch.cpython-311.pyc
+-rw-r--r--   0        0        0     6148 2024-06-02 02:24:45.216648 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/.DS_Store
+-rw-r--r--   0        0        0      424 2024-06-02 02:24:45.216858 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__init__.py
+-rw-r--r--   0        0        0      699 2024-06-02 02:24:45.217090 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     4035 2024-06-02 02:24:45.217297 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/base.cpython-311.pyc
+-rw-r--r--   0        0        0     4744 2024-06-02 02:24:45.217526 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/base_llm.cpython-311.pyc
+-rw-r--r--   0        0        0    12171 2024-06-02 02:24:45.217777 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/chat_completion.cpython-311.pyc
+-rw-r--r--   0        0        0    11736 2024-06-02 02:24:45.218089 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/completion.cpython-311.pyc
+-rw-r--r--   0        0        0     3391 2024-06-02 02:24:45.218334 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/embedding.cpython-311.pyc
+-rw-r--r--   0        0        0     3885 2024-06-02 02:24:45.218498 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/image_generate.cpython-311.pyc
+-rw-r--r--   0        0        0     2374 2024-06-02 02:24:45.218685 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/utils.cpython-311.pyc
+-rw-r--r--   0        0        0     2474 2024-06-02 02:24:45.218904 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/base.py
+-rw-r--r--   0        0        0     3115 2024-06-02 02:24:45.219079 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/base_llm.py
+-rw-r--r--   0        0        0    10648 2024-06-02 02:24:45.219381 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py
+-rw-r--r--   0        0        0     2257 2024-06-02 02:24:45.219729 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/embedding.py
+-rw-r--r--   0        0        0     2555 2024-06-02 02:24:45.219988 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/image_generate.py
+-rw-r--r--   0        0        0     2211 2024-06-02 02:24:45.220201 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/utils.py
+-rw-r--r--   0        0        0     2910 2024-06-02 02:24:45.220519 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/instrumentation.py
+-rw-r--r--   0        0        0      151 2024-06-02 02:24:45.220974 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/pinecone/__init__.py
+-rw-r--r--   0        0        0      137 2024-06-02 02:24:45.221301 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/pinecone/hooks/__init__.py
+-rw-r--r--   0        0        0     1396 2024-06-02 02:24:45.221529 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/pinecone/hooks/base.py
+-rw-r--r--   0        0        0     6892 2024-06-02 02:24:45.221810 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/pinecone/hooks/generic.py
+-rw-r--r--   0        0        0     2019 2024-06-02 02:24:45.222069 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/pinecone/instrumentation.py
+-rw-r--r--   0        0        0      145 2024-06-02 02:24:45.222389 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/qdrant/__init__.py
+-rw-r--r--   0        0        0      152 2024-06-02 02:24:45.222691 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/qdrant/hooks/__init__.py
+-rw-r--r--   0        0        0     1388 2024-06-02 02:24:45.222972 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/qdrant/hooks/base.py
+-rw-r--r--   0        0        0     3113 2024-06-02 02:24:45.223188 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/qdrant/hooks/collection.py
+-rw-r--r--   0        0        0     1913 2024-06-02 02:24:45.223402 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/qdrant/instrumentation.py
+-rw-r--r--   0        0        0     2309 2024-06-02 02:24:45.223723 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/utils/__init__.py
+-rw-r--r--   0        0        0     2790 2024-06-02 02:24:45.224020 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/utils/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0    17396 2024-06-02 02:24:45.224369 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/utils/__pycache__/wrapper.cpython-311.pyc
+-rw-r--r--   0        0        0    11559 2024-06-02 02:24:45.224654 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/utils/wrapper.py
+-rw-r--r--   0        0        0      151 2024-06-02 02:24:45.225213 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/weaviate/__init__.py
+-rw-r--r--   0        0        0      306 2024-06-02 02:24:45.225573 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/weaviate/hooks/__init__.py
+-rw-r--r--   0        0        0     1396 2024-06-02 02:24:45.225826 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/weaviate/hooks/base.py
+-rw-r--r--   0        0        0     1776 2024-06-02 02:24:45.226061 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/weaviate/hooks/generic_collection.py
+-rw-r--r--   0        0        0     4091 2024-06-02 02:24:45.226343 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/weaviate/hooks/generic_query.py
+-rw-r--r--   0        0        0     2754 2024-06-02 02:24:45.226607 agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/weaviate/instrumentation.py
+-rw-r--r--   0        0        0      144 2024-06-02 02:24:45.227121 agiflow_sdk-0.0.3/agiflow/opentelemetry/span_processors/__init__.py
+-rw-r--r--   0        0        0      376 2024-06-02 02:24:45.227476 agiflow_sdk-0.0.3/agiflow/opentelemetry/span_processors/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     4786 2024-06-02 02:24:45.227744 agiflow_sdk-0.0.3/agiflow/opentelemetry/span_processors/__pycache__/thread_pool_span_processor.cpython-311.pyc
+-rw-r--r--   0        0        0     2347 2024-06-02 02:24:45.227998 agiflow_sdk-0.0.3/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py
+-rw-r--r--   0        0        0      644 2024-06-02 02:24:45.228330 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_decorators/__init__.py
+-rw-r--r--   0        0        0      910 2024-06-02 02:24:45.228696 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_decorators/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     1831 2024-06-02 02:24:45.228938 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_decorators/__pycache__/helper.cpython-311.pyc
+-rw-r--r--   0        0        0     4548 2024-06-02 02:24:45.229175 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_decorators/__pycache__/task.cpython-311.pyc
+-rw-r--r--   0        0        0     3260 2024-06-02 02:24:45.229393 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_decorators/__pycache__/workflow.cpython-311.pyc
+-rw-r--r--   0        0        0    18659 2024-06-02 02:24:45.229722 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_decorators/__pycache__/wrapper.cpython-311.pyc
+-rw-r--r--   0        0        0     1657 2024-06-02 02:24:45.229960 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_decorators/helper.py
+-rw-r--r--   0        0        0     3514 2024-06-02 02:24:45.230178 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_decorators/task.py
+-rw-r--r--   0        0        0     2174 2024-06-02 02:24:45.230377 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_decorators/workflow.py
+-rw-r--r--   0        0        0    14099 2024-06-02 02:24:45.230649 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_decorators/wrapper.py
+-rw-r--r--   0        0        0      115 2024-06-02 02:24:45.231275 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/__init__.py
+-rw-r--r--   0        0        0      349 2024-06-02 02:24:45.231623 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     2687 2024-06-02 02:24:45.231898 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/__pycache__/config.cpython-311.pyc
+-rw-r--r--   0        0        0     9661 2024-06-02 02:24:45.232184 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/__pycache__/json.cpython-311.pyc
+-rw-r--r--   0        0        0      238 2024-06-02 02:24:45.232429 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/__pycache__/version.cpython-311.pyc
+-rw-r--r--   0        0        0     2757 2024-06-02 02:24:45.232711 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/config.py
+-rw-r--r--   0        0        0     7123 2024-06-02 02:24:45.232979 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/json.py
+-rw-r--r--   0        0        0       22 2024-06-02 02:24:45.233143 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/version.py
+-rw-r--r--   0        0        0       99 2024-06-02 02:24:45.233497 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_sampler/__init__.py
+-rw-r--r--   0        0        0      342 2024-06-02 02:24:45.233851 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_sampler/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     1787 2024-06-02 02:24:45.234098 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_sampler/__pycache__/no_sampler.cpython-311.pyc
+-rw-r--r--   0        0        0      862 2024-06-02 02:24:45.234365 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_sampler/no_sampler.py
+-rw-r--r--   0        0        0     3160 2024-06-02 02:24:45.234631 agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_store.py
+-rw-r--r--   0        0        0     6148 2024-06-02 02:24:45.234998 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/.DS_Store
+-rw-r--r--   0        0        0      182 2024-06-02 02:24:45.235165 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__init__.py
+-rw-r--r--   0        0        0      437 2024-06-02 02:24:45.235472 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     1979 2024-06-02 02:24:45.235723 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/content_allow_list.cpython-311.pyc
+-rw-r--r--   0        0        0     1978 2024-06-02 02:24:45.235897 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/content_alow_list.cpython-311.pyc
+-rw-r--r--   0        0        0     5230 2024-06-02 02:24:45.236070 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/context.cpython-311.pyc
+-rw-r--r--   0        0        0      897 2024-06-02 02:24:45.236233 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/context_manager.cpython-311.pyc
+-rw-r--r--   0        0        0     1507 2024-06-02 02:24:45.236485 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/context_propagation.cpython-311.pyc
+-rw-r--r--   0        0        0     2581 2024-06-02 02:24:45.236696 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/span_from_context.cpython-311.pyc
+-rw-r--r--   0        0        0    10065 2024-06-02 02:24:45.236950 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/tracing.cpython-311.pyc
+-rw-r--r--   0        0        0      846 2024-06-02 02:24:45.237242 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/content_allow_list.py
+-rw-r--r--   0        0        0      307 2024-06-02 02:24:45.237394 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/context_manager.py
+-rw-r--r--   0        0        0     7265 2024-06-02 02:24:45.237615 agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/tracing.py
+-rw-r--r--   0        0        0      813 2024-06-02 02:24:45.237931 agiflow_sdk-0.0.3/agiflow/opentelemetry/types/__init__.py
+-rw-r--r--   0        0        0     1865 2024-06-02 02:24:45.238251 agiflow_sdk-0.0.3/agiflow/opentelemetry/types/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     6148 2024-06-02 02:24:45.238921 agiflow_sdk-0.0.3/agiflow/opentelemetry/utils/.DS_Store
+-rw-r--r--   0        0        0      340 2024-06-02 02:24:45.239185 agiflow_sdk-0.0.3/agiflow/opentelemetry/utils/__init__.py
+-rw-r--r--   0        0        0      521 2024-06-02 02:24:45.239490 agiflow_sdk-0.0.3/agiflow/opentelemetry/utils/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     3447 2024-06-02 02:24:45.239717 agiflow_sdk-0.0.3/agiflow/opentelemetry/utils/__pycache__/llm.cpython-311.pyc
+-rw-r--r--   0        0        0     2240 2024-06-02 02:24:45.239964 agiflow_sdk-0.0.3/agiflow/opentelemetry/utils/llm.py
+-rw-r--r--   0        0        0       71 2024-06-02 02:24:45.240315 agiflow_sdk-0.0.3/agiflow/services/__init__.py
+-rw-r--r--   0        0        0      297 2024-06-02 02:24:45.240606 agiflow_sdk-0.0.3/agiflow/services/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     5452 2024-06-02 02:24:45.240790 agiflow_sdk-0.0.3/agiflow/services/__pycache__/fetch.cpython-311.pyc
+-rw-r--r--   0        0        0     2731 2024-06-02 02:24:45.241057 agiflow_sdk-0.0.3/agiflow/services/fetch.py
+-rw-r--r--   0        0        0     2522 2024-06-02 02:24:45.241399 agiflow_sdk-0.0.3/agiflow/telemetry/__init__.py
+-rw-r--r--   0        0        0     4829 2024-06-02 02:24:45.241613 agiflow_sdk-0.0.3/agiflow/telemetry/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0     6148 2024-06-02 02:24:45.241817 agiflow_sdk-0.0.3/agiflow/utils/.DS_Store
+-rw-r--r--   0        0        0      444 2024-06-02 02:24:45.242025 agiflow_sdk-0.0.3/agiflow/utils/__init__.py
+-rw-r--r--   0        0        0      728 2024-06-02 02:24:45.242317 agiflow_sdk-0.0.3/agiflow/utils/__pycache__/__init__.cpython-311.pyc
+-rw-r--r--   0        0        0      532 2024-06-02 02:24:45.242558 agiflow_sdk-0.0.3/agiflow/utils/__pycache__/assertion.cpython-311.pyc
+-rw-r--r--   0        0        0     1923 2024-06-02 02:24:45.242796 agiflow_sdk-0.0.3/agiflow/utils/__pycache__/debugging.cpython-311.pyc
+-rw-r--r--   0        0        0     1719 2024-06-02 02:24:45.243023 agiflow_sdk-0.0.3/agiflow/utils/__pycache__/error.cpython-311.pyc
+-rw-r--r--   0        0        0     3268 2024-06-02 02:24:45.243178 agiflow_sdk-0.0.3/agiflow/utils/__pycache__/llm.cpython-311.pyc
+-rw-r--r--   0        0        0     4718 2024-06-02 02:24:45.243396 agiflow_sdk-0.0.3/agiflow/utils/__pycache__/string.cpython-311.pyc
+-rw-r--r--   0        0        0      583 2024-06-02 02:24:45.243621 agiflow_sdk-0.0.3/agiflow/utils/__pycache__/time.cpython-311.pyc
+-rw-r--r--   0        0        0      207 2024-06-02 02:24:45.243871 agiflow_sdk-0.0.3/agiflow/utils/assertion.py
+-rw-r--r--   0        0        0      580 2024-06-02 02:24:45.244088 agiflow_sdk-0.0.3/agiflow/utils/debugging.py
+-rw-r--r--   0        0        0      847 2024-06-02 02:24:45.244311 agiflow_sdk-0.0.3/agiflow/utils/error.py
+-rw-r--r--   0        0        0     1965 2024-06-02 02:24:45.244521 agiflow_sdk-0.0.3/agiflow/utils/string.py
+-rw-r--r--   0        0        0      264 2024-06-02 02:24:45.244732 agiflow_sdk-0.0.3/agiflow/utils/time.py
+-rw-r--r--   0        0        0       22 2024-06-02 02:24:45.244854 agiflow_sdk-0.0.3/agiflow/version.py
+-rw-r--r--   0        0        0     1106 2024-06-02 02:24:45.251875 agiflow_sdk-0.0.3/pyproject.toml
+-rw-r--r--   0        0        0     1760 1970-01-01 00:00:00.000000 agiflow_sdk-0.0.3/PKG-INFO
```

### Comparing `agiflow_sdk-0.0.2/agiflow/__init__.py` & `agiflow_sdk-0.0.3/agiflow/__init__.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,49 +1,53 @@
-import os
 import sys
 
-from typing import Any, Optional
-from colorama import Fore
+from typing import Any, Optional, Dict
 from opentelemetry.sdk.trace import SpanProcessor
 from opentelemetry.sdk.trace.export import SpanExporter
 from opentelemetry.sdk.resources import SERVICE_NAME, SERVICE_VERSION, TELEMETRY_SDK_NAME, TELEMETRY_SDK_VERSION
 from opentelemetry.sdk.trace.sampling import Sampler
 from opentelemetry.util.re import parse_env_headers
+from agiflow.opentelemetry.context.constants import PromptSettings
 from agiflow.opentelemetry.convention import SpanAttributes
 from agiflow.opentelemetry.types import DisableInstrumentations
 from opentelemetry.propagators.textmap import TextMapPropagator
 
 from agiflow.opentelemetry.trace_store import get_current_span
 from agiflow.telemetry import Telemetry
+from agiflow.utils import Debugger
 from agiflow.config import (
     is_content_tracing_enabled,
     is_tracing_enabled,
+    API_ENDPOINT,
+    EnvironmentVars,
+    SDK_NAME
 )
 from agiflow.services.fetch import Fetcher
 from agiflow.opentelemetry.tracing.tracing import (
     TracerWrapper,
 )
-from agiflow.opentelemetry.tracing.context import (
+from agiflow.opentelemetry.context import (
     set_association_properties,
+    set_prompt_settings_context,
+    AssociationProperties,
 )
 from agiflow.version import __version__
-from agiflow.config.environment_vars import EnvironmentVars
-from agiflow.opentelemetry import SDK_NAME
-from typing import Dict
+
+debugger = Debugger(__name__)
 
 
 class Agiflow:
     __tracer_wrapper: TracerWrapper
     __fetcher: Fetcher
 
     @staticmethod
     def init(
         app_name: Optional[str] = sys.argv[0],
         app_version: Optional[str] = None,
-        api_endpoint: str = "https://analytics-api.agiflow.io",
+        api_endpoint: str = API_ENDPOINT,
         api_key: Optional[str] = None,
         headers: Optional[Dict[str, str]] = None,
         exporter: Optional[SpanExporter] = None,
         resource_attributes: dict = {},
         disable_instrumentations: Optional[DisableInstrumentations] = None,
         propagator: Optional[TextMapPropagator] = None,
         Processor: Optional[type[SpanProcessor]] = None,
@@ -52,43 +56,35 @@
         Telemetry()
 
         api_endpoint = EnvironmentVars.AGIFLOW_BASE_URL or api_endpoint
         api_key = EnvironmentVars.AGIFLOW_API_KEY or api_key
 
         headersConf = Agiflow.get_header(headers)
         if not exporter and headersConf:
-            print(
-                Fore.GREEN
-                + f"Agiflow exporting traces to {api_endpoint}, authenticating with custom headers"
-            )
+            debugger.info(f"Agiflow exporting traces to {api_endpoint}, authenticating with custom headers")
 
         if api_key and not exporter and not headersConf:
-            print(
-                Fore.GREEN
-                + f"Agiflow exporting traces to {api_endpoint} authenticating with bearer token"
-            )
+            debugger.info(f"Agiflow exporting traces to {api_endpoint} authenticating with bearer token")
             headersConf = {
                 "Authorization": f"Bearer {api_key}",
             }
 
         if api_key:
             Agiflow.__fetcher = Fetcher(base_url=api_endpoint, api_key=api_key)
 
         if not is_tracing_enabled():
-            print(Fore.YELLOW + "Tracing is disabled" + Fore.RESET)
+            debugger.warn("Tracing is disabled")
             return
 
         enable_content_tracing = is_content_tracing_enabled()
 
-        print(Fore.RESET)
-
         # Tracer init
         resource_attributes.update({
           SERVICE_NAME: app_name,
-          SERVICE_VERSION: app_version,
+          SERVICE_VERSION: app_version or '',
           TELEMETRY_SDK_NAME: SDK_NAME,
           TELEMETRY_SDK_VERSION: __version__,
         })
         TracerWrapper.set_static_params(
             resource_attributes, enable_content_tracing, api_endpoint, headersConf
         )
         Agiflow.__tracer_wrapper = TracerWrapper(
@@ -105,33 +101,31 @@
 
         if isinstance(headersConf, str):
             headersConf = parse_env_headers(headersConf)
 
         return headersConf
 
     @staticmethod
-    def set_association_properties(properties: dict) -> None:
+    def set_association_properties(properties: AssociationProperties) -> None:
         set_association_properties(properties)
 
     @staticmethod
+    def set_prompt_settings(properties: PromptSettings) -> None:
+        set_prompt_settings_context(properties)
+
+    @staticmethod
     def report_score(
         id: Optional[str],
         score: float,
     ):
         """Apply score to all llm steps belongs to action
         id: action_id or unique id linked by associate_trace method
         """
         if not Agiflow.__fetcher:
-            print(
-                Fore.RED
-                + "Error: Cannot report score. Missing Agiflow API key,"
-                + " go to https://app.agiflow.com/settings/api-keys to create one"
-            )
-            print("Set the AGIFLOW_API_KEY environment variable to the key")
-            print(Fore.RESET)
+            debugger.error("Set the AGIFLOW_API_KEY environment variable to the key")
             return
 
         Agiflow.__fetcher.patch(
             f"actions/{id}/score",
             {
                 "score": score,
             },
@@ -156,20 +150,19 @@
 
     @staticmethod
     def update_span(id: str, body: Dict[str, str]):
         """Update span value with data if processed asynchronously
         id: span_id or unique id linked with span
         """
         if not Agiflow.__fetcher:
-            print(
-                Fore.RED
-                + "Error: Cannot report score. Missing Agiflow API key,"
-                + " go to https://app.agiflow.com/settings/api-keys to create one"
-            )
-            print("Set the AGIFLOW_API_KEY environment variable to the key")
-            print(Fore.RESET)
+            debugger.error("Set the AGIFLOW_API_KEY environment variable to the key")
             return
 
         Agiflow.__fetcher.patch(
             f"steps/{id}",
             body,
         )
+
+
+__all__ = [
+  'Agiflow'
+]
```

### Comparing `agiflow_sdk-0.0.2/agiflow/config/__pycache__/environment_vars.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/config/__pycache__/environment_vars.cpython-311.pyc`

 * *Files 1% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0xec035866 (Thu May 30 04:43:24 2024 UTC)
+moddate:  0xf7bc5b66 (Sun Jun  2 00:29:43 2024 UTC)
 files sz: 1338
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 4
    flags     : 0
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/config/environment_vars.py` & `agiflow_sdk-0.0.3/agiflow/config/environment_vars.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/.DS_Store` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/.DS_Store`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/__pycache__/__init__.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/__pycache__/__init__.cpython-311.pyc`

 * *Files 10% similar despite different names*

#### Python bytecode

```diff
@@ -1,21 +1,21 @@
 magic:    0xa70d0d0a
-moddate:  0x02ca5666 (Wed May 29 06:24:02 2024 UTC)
-files sz: 756
+moddate:  0x39b55b66 (Sat Jun  1 23:56:41 2024 UTC)
+files sz: 1037
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 2
    flags     : 0
    code
       0x9700640064016c006d015a010100640064026c026d035a030100640064
       036c046d055a050100640064046c066d075a076d085a086d095a096d0a5a
       0a6d0b5a0b6d0c5a0c6d0d5a0d6d0e5a0e0100640064056c0f6d105a1001
-      00640064066c116d125a120100640064076c136d145a146d155a15010064
-      0064086c166d175a176d185a186d195a19010064095a1a640a5300
+      00640064066c116d125a120100640064076c136d145a146d155a156d165a
+      166d175a176d185a18010067006408a2015a1964095300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 (0)
                  4 LOAD_CONST               1 (('ThreadPoolSpanProcessor',))
                  6 IMPORT_NAME              0 (agiflow.opentelemetry.span_processors)
                  8 IMPORT_FROM              1 (ThreadPoolSpanProcessor)
                 10 STORE_NAME               1 (ThreadPoolSpanProcessor)
@@ -67,50 +67,46 @@
                 92 LOAD_CONST               6 (('get_tracer',))
                 94 IMPORT_NAME             17 (agiflow.opentelemetry.tracing.context_manager)
                 96 IMPORT_FROM             18 (get_tracer)
                 98 STORE_NAME              18 (get_tracer)
                100 POP_TOP
    
     16         102 LOAD_CONST               0 (0)
-               104 LOAD_CONST               7 (('get_trace_context_from_carrier', 'get_carrier_from_trace_context'))
-               106 IMPORT_NAME             19 (agiflow.opentelemetry.tracing.context_propagation)
+               104 LOAD_CONST               7 (('get_trace_context_from_carrier', 'get_carrier_from_trace_context', 'set_association_properties', 'set_workflow_name', 'set_prompt_settings_context'))
+               106 IMPORT_NAME             19 (agiflow.opentelemetry.context)
                108 IMPORT_FROM             20 (get_trace_context_from_carrier)
                110 STORE_NAME              20 (get_trace_context_from_carrier)
                112 IMPORT_FROM             21 (get_carrier_from_trace_context)
                114 STORE_NAME              21 (get_carrier_from_trace_context)
-               116 POP_TOP
-   
-    20         118 LOAD_CONST               0 (0)
-               120 LOAD_CONST               8 (('set_association_properties', 'set_workflow_name', 'set_prompt_tracing_context'))
-               122 IMPORT_NAME             22 (agiflow.opentelemetry.tracing.context)
-               124 IMPORT_FROM             23 (set_association_properties)
-               126 STORE_NAME              23 (set_association_properties)
-               128 IMPORT_FROM             24 (set_workflow_name)
-               130 STORE_NAME              24 (set_workflow_name)
-               132 IMPORT_FROM             25 (set_prompt_tracing_context)
-               134 STORE_NAME              25 (set_prompt_tracing_context)
-               136 POP_TOP
-   
-    26         138 LOAD_CONST               9 ('AGIFlow')
-               140 STORE_NAME              26 (SDK_NAME)
-               142 LOAD_CONST              10 (None)
-               144 RETURN_VALUE
+               116 IMPORT_FROM             22 (set_association_properties)
+               118 STORE_NAME              22 (set_association_properties)
+               120 IMPORT_FROM             23 (set_workflow_name)
+               122 STORE_NAME              23 (set_workflow_name)
+               124 IMPORT_FROM             24 (set_prompt_settings_context)
+               126 STORE_NAME              24 (set_prompt_settings_context)
+               128 POP_TOP
+   
+    24         130 BUILD_LIST               0
+               132 LOAD_CONST               8 (('ThreadPoolSpanProcessor', 'OTLPJsonSpanExporter', 'NoSampler', 'task', 'atask', 'agent', 'aagent', 'tool', 'atool', 'workflow', 'aworkflow', 'TracerWrapper', 'get_tracer', 'get_trace_context_from_carrier', 'get_carrier_from_trace_context', 'set_association_properties', 'set_workflow_name', 'set_prompt_settings_context'))
+               134 LIST_EXTEND              1
+               136 STORE_NAME              25 (__all__)
+               138 LOAD_CONST               9 (None)
+               140 RETURN_VALUE
    consts
       0
       ('ThreadPoolSpanProcessor',)
       ('OTLPJsonSpanExporter',)
       ('NoSampler',)
       ('task', 'atask', 'agent', 'aagent', 'tool', 'atool', 'workflow', 'aworkflow')
       ('TracerWrapper',)
       ('get_tracer',)
-      ('get_trace_context_from_carrier', 'get_carrier_from_trace_context')
-      ('set_association_properties', 'set_workflow_name', 'set_prompt_tracing_context')
-      'AGIFlow'
+      ('get_trace_context_from_carrier', 'get_carrier_from_trace_context', 'set_association_properties', 'set_workflow_name', 'set_prompt_settings_context')
+      ('ThreadPoolSpanProcessor', 'OTLPJsonSpanExporter', 'NoSampler', 'task', 'atask', 'agent', 'aagent', 'tool', 'atool', 'workflow', 'aworkflow', 'TracerWrapper', 'get_tracer', 'get_trace_context_from_carrier', 'get_carrier_from_trace_context', 'set_association_properties', 'set_workflow_name', 'set_prompt_settings_context')
       None
-   names      ('agiflow.opentelemetry.span_processors', 'ThreadPoolSpanProcessor', 'agiflow.opentelemetry.trace_exporter', 'OTLPJsonSpanExporter', 'agiflow.opentelemetry.trace_sampler', 'NoSampler', 'agiflow.opentelemetry.trace_decorators', 'task', 'atask', 'agent', 'aagent', 'tool', 'atool', 'workflow', 'aworkflow', 'agiflow.opentelemetry.tracing.tracing', 'TracerWrapper', 'agiflow.opentelemetry.tracing.context_manager', 'get_tracer', 'agiflow.opentelemetry.tracing.context_propagation', 'get_trace_context_from_carrier', 'get_carrier_from_trace_context', 'agiflow.opentelemetry.tracing.context', 'set_association_properties', 'set_workflow_name', 'set_prompt_tracing_context', 'SDK_NAME')
+   names      ('agiflow.opentelemetry.span_processors', 'ThreadPoolSpanProcessor', 'agiflow.opentelemetry.trace_exporter', 'OTLPJsonSpanExporter', 'agiflow.opentelemetry.trace_sampler', 'NoSampler', 'agiflow.opentelemetry.trace_decorators', 'task', 'atask', 'agent', 'aagent', 'tool', 'atool', 'workflow', 'aworkflow', 'agiflow.opentelemetry.tracing.tracing', 'TracerWrapper', 'agiflow.opentelemetry.tracing.context_manager', 'get_tracer', 'agiflow.opentelemetry.context', 'get_trace_context_from_carrier', 'get_carrier_from_trace_context', 'set_association_properties', 'set_workflow_name', 'set_prompt_settings_context', '__all__')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/__init__.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010c010c010c01280a0c010c0110041406
+   lnotab 0x00ff02010c010c010c01280a0c010c011c08
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/__pycache__/trace_store.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/__pycache__/trace_store.cpython-311.pyc`

 * *Files 0% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0x62015866 (Thu May 30 04:32:34 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 3160
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 10
    flags     : 0
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__init__.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__init__.py`

 * *Files 18% similar despite different names*

```diff
@@ -15,29 +15,49 @@
   AgiflowSpanAttributesValidator
 )
 from agiflow.opentelemetry.convention.constants import (
   Event,
   OpenAIMethods,
   ChromaDBMethods,
   PineconeMethods,
-  AgiflowSpanKindValues,
   AgiflowServiceTypes,
+  WeaviateMethods,
   LLMTypes,
   LLMPromptKeys,
   LLMPromptRoles,
   LLMResponseKeys,
   LLMTokenUsageKeys,
 )
 
 
 class SpanAttributes(AgiflowSpanAttributes, LLMSpanAttributes, FrameworkSpanAttributes, DatabaseSpanAttributes):
+    """
+    All span attributes collected by Agiflow.
+    Using this for key value instead of hard coding to ensure
+    consistent telemetry schema.
+    """
     def __init__(self):
         super()
 
 
 __all__ = [
-  'LLMSpanAttributes', 'DatabaseSpanAttributes', 'FrameworkSpanAttributes', 'Event',
-  'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'AgiflowSpanKindValues',
-  'FrameworkSpanAttributesValidator', 'DatabaseSpanAttributesValidator', 'LLMSpanAttributesValidator',
-  'AgiflowSpanAttributesValidator', 'AgiflowSpanAttributes', 'AgiflowServiceTypes', "LLMTypes",
-  "LLMPromptKeys", "LLMPromptRoles", "LLMResponseKeys", "LLMTokenUsageKeys", "SpanAttributes"
+  'LLMSpanAttributes',
+  'DatabaseSpanAttributes',
+  'FrameworkSpanAttributes',
+  'Event',
+  'OpenAIMethods',
+  'ChromaDBMethods',
+  'PineconeMethods',
+  'FrameworkSpanAttributesValidator',
+  'DatabaseSpanAttributesValidator',
+  'LLMSpanAttributesValidator',
+  'AgiflowSpanAttributesValidator',
+  'AgiflowSpanAttributes',
+  'AgiflowServiceTypes',
+  "LLMTypes",
+  "LLMPromptKeys",
+  "LLMPromptRoles",
+  "LLMResponseKeys",
+  "LLMTokenUsageKeys",
+  "SpanAttributes",
+  "WeaviateMethods",
   ]
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/__init__.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/__init__.cpython-311.pyc`

 * *Files 21% similar despite different names*

#### Python bytecode

```diff
@@ -1,10 +1,10 @@
 magic:    0xa70d0d0a
-moddate:  0x1b2e5966 (Fri May 31 01:55:39 2024 UTC)
-files sz: 1407
+moddate:  0x4f935b66 (Sat Jun  1 21:31:59 2024 UTC)
+files sz: 1583
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 8
    flags     : 0
    code
       0x9700640064016c006d015a016d025a020100640064026c036d045a046d
@@ -48,28 +48,28 @@
                 56 IMPORT_FROM             10 (AgiflowSpanAttributes)
                 58 STORE_NAME              10 (AgiflowSpanAttributes)
                 60 IMPORT_FROM             11 (AgiflowSpanAttributesValidator)
                 62 STORE_NAME              11 (AgiflowSpanAttributesValidator)
                 64 POP_TOP
    
     17          66 LOAD_CONST               0 (0)
-                68 LOAD_CONST               5 (('Event', 'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'AgiflowSpanKindValues', 'AgiflowServiceTypes', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys'))
+                68 LOAD_CONST               5 (('Event', 'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'AgiflowServiceTypes', 'WeaviateMethods', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys'))
                 70 IMPORT_NAME             12 (agiflow.opentelemetry.convention.constants)
                 72 IMPORT_FROM             13 (Event)
                 74 STORE_NAME              13 (Event)
                 76 IMPORT_FROM             14 (OpenAIMethods)
                 78 STORE_NAME              14 (OpenAIMethods)
                 80 IMPORT_FROM             15 (ChromaDBMethods)
                 82 STORE_NAME              15 (ChromaDBMethods)
                 84 IMPORT_FROM             16 (PineconeMethods)
                 86 STORE_NAME              16 (PineconeMethods)
-                88 IMPORT_FROM             17 (AgiflowSpanKindValues)
-                90 STORE_NAME              17 (AgiflowSpanKindValues)
-                92 IMPORT_FROM             18 (AgiflowServiceTypes)
-                94 STORE_NAME              18 (AgiflowServiceTypes)
+                88 IMPORT_FROM             17 (AgiflowServiceTypes)
+                90 STORE_NAME              17 (AgiflowServiceTypes)
+                92 IMPORT_FROM             18 (WeaviateMethods)
+                94 STORE_NAME              18 (WeaviateMethods)
                 96 IMPORT_FROM             19 (LLMTypes)
                 98 STORE_NAME              19 (LLMTypes)
                100 IMPORT_FROM             20 (LLMPromptKeys)
                102 STORE_NAME              20 (LLMPromptKeys)
                104 IMPORT_FROM             21 (LLMPromptRoles)
                106 STORE_NAME              21 (LLMPromptRoles)
                108 IMPORT_FROM             22 (LLMResponseKeys)
@@ -87,94 +87,98 @@
                130 LOAD_NAME                7 (LLMSpanAttributes)
                132 LOAD_NAME                4 (FrameworkSpanAttributes)
                134 LOAD_NAME                1 (DatabaseSpanAttributes)
                136 PRECALL                  6
                140 CALL                     6
                150 STORE_NAME              24 (SpanAttributes)
    
-    37         152 BUILD_LIST               0
-               154 LOAD_CONST               8 (('LLMSpanAttributes', 'DatabaseSpanAttributes', 'FrameworkSpanAttributes', 'Event', 'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'AgiflowSpanKindValues', 'FrameworkSpanAttributesValidator', 'DatabaseSpanAttributesValidator', 'LLMSpanAttributesValidator', 'AgiflowSpanAttributesValidator', 'AgiflowSpanAttributes', 'AgiflowServiceTypes', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'SpanAttributes'))
+    42         152 BUILD_LIST               0
+               154 LOAD_CONST               8 (('LLMSpanAttributes', 'DatabaseSpanAttributes', 'FrameworkSpanAttributes', 'Event', 'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'FrameworkSpanAttributesValidator', 'DatabaseSpanAttributesValidator', 'LLMSpanAttributesValidator', 'AgiflowSpanAttributesValidator', 'AgiflowSpanAttributes', 'AgiflowServiceTypes', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'SpanAttributes', 'WeaviateMethods'))
                156 LIST_EXTEND              1
                158 STORE_NAME              25 (__all__)
                160 LOAD_CONST               9 (None)
                162 RETURN_VALUE
    consts
       0
       ('DatabaseSpanAttributes', 'DatabaseSpanAttributesValidator')
       ('FrameworkSpanAttributes', 'FrameworkSpanAttributesValidator')
       ('LLMSpanAttributes', 'LLMSpanAttributesValidator')
       ('AgiflowSpanAttributes', 'AgiflowSpanAttributesValidator')
-      ('Event', 'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'AgiflowSpanKindValues', 'AgiflowServiceTypes', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys')
+      ('Event', 'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'AgiflowServiceTypes', 'WeaviateMethods', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys')
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 2
          flags     : 0
          code
-            0x8700970065005a0164005a0288006601640184085a03880078015a0453
-            00
+            0x8700970065005a0164005a0264015a0388006601640284085a04880078
+            015a055300
                        0 MAKE_CELL                0 (__class__)
          
           32           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
                        8 LOAD_CONST               0 ('SpanAttributes')
                       10 STORE_NAME               2 (__qualname__)
          
-          33          12 LOAD_CLOSURE             0 (__class__)
-                      14 BUILD_TUPLE              1
-                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/__init__.py", line 33>)
-                      18 MAKE_FUNCTION            8 (closure)
-                      20 STORE_NAME               3 (__init__)
-                      22 LOAD_CLOSURE             0 (__class__)
-                      24 COPY                     1
-                      26 STORE_NAME               4 (__classcell__)
-                      28 RETURN_VALUE
+          33          12 LOAD_CONST               1 ('\n    All span attributes collected by Agiflow.\n    Using this for key value instead of hard coding to ensure\n    consistent telemetry schema.\n    ')
+                      14 STORE_NAME               3 (__doc__)
+         
+          38          16 LOAD_CLOSURE             0 (__class__)
+                      18 BUILD_TUPLE              1
+                      20 LOAD_CONST               2 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/__init__.py", line 38>)
+                      22 MAKE_FUNCTION            8 (closure)
+                      24 STORE_NAME               4 (__init__)
+                      26 LOAD_CLOSURE             0 (__class__)
+                      28 COPY                     1
+                      30 STORE_NAME               5 (__classcell__)
+                      32 RETURN_VALUE
          consts
             'SpanAttributes'
+            '\n    All span attributes collected by Agiflow.\n    Using this for key value instead of hard coding to ensure\n    consistent telemetry schema.\n    '
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 2
                flags     : 3
                code
                   0x95019700740100000000000000000000a6000000ab0000000000000000
                   00010064005300
                              0 COPY_FREE_VARS           1
                
-                33           2 RESUME                   0
+                38           2 RESUME                   0
                
-                34           4 LOAD_GLOBAL              1 (NULL + super)
+                39           4 LOAD_GLOBAL              1 (NULL + super)
                             16 PRECALL                  0
                             20 CALL                     0
                             30 POP_TOP
                             32 LOAD_CONST               0 (None)
                             34 RETURN_VALUE
                consts
                   None
                names      ('super',)
                varnames   ('self',)
                freevars   ('__class__',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/__init__.py'
                name       '__init__'
-               firstlineno 33
+               firstlineno 38
                lnotab 0x0401
-         names      ('__name__', '__module__', '__qualname__', '__init__', '__classcell__')
+         names      ('__name__', '__module__', '__qualname__', '__doc__', '__init__', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/__init__.py'
          name       'SpanAttributes'
          firstlineno 32
-         lnotab 0x0c01
+         lnotab 0x0c010405
       'SpanAttributes'
-      ('LLMSpanAttributes', 'DatabaseSpanAttributes', 'FrameworkSpanAttributes', 'Event', 'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'AgiflowSpanKindValues', 'FrameworkSpanAttributesValidator', 'DatabaseSpanAttributesValidator', 'LLMSpanAttributesValidator', 'AgiflowSpanAttributesValidator', 'AgiflowSpanAttributes', 'AgiflowServiceTypes', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'SpanAttributes')
+      ('LLMSpanAttributes', 'DatabaseSpanAttributes', 'FrameworkSpanAttributes', 'Event', 'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'FrameworkSpanAttributesValidator', 'DatabaseSpanAttributesValidator', 'LLMSpanAttributesValidator', 'AgiflowSpanAttributesValidator', 'AgiflowSpanAttributes', 'AgiflowServiceTypes', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'SpanAttributes', 'WeaviateMethods')
       None
-   names      ('agiflow.opentelemetry.convention.database_span_attributes', 'DatabaseSpanAttributes', 'DatabaseSpanAttributesValidator', 'agiflow.opentelemetry.convention.framework_span_attributes', 'FrameworkSpanAttributes', 'FrameworkSpanAttributesValidator', 'agiflow.opentelemetry.convention.llm_span_attributes', 'LLMSpanAttributes', 'LLMSpanAttributesValidator', 'agiflow.opentelemetry.convention.agiflow_attributes', 'AgiflowSpanAttributes', 'AgiflowSpanAttributesValidator', 'agiflow.opentelemetry.convention.constants', 'Event', 'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'AgiflowSpanKindValues', 'AgiflowServiceTypes', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'SpanAttributes', '__all__')
+   names      ('agiflow.opentelemetry.convention.database_span_attributes', 'DatabaseSpanAttributes', 'DatabaseSpanAttributesValidator', 'agiflow.opentelemetry.convention.framework_span_attributes', 'FrameworkSpanAttributes', 'FrameworkSpanAttributesValidator', 'agiflow.opentelemetry.convention.llm_span_attributes', 'LLMSpanAttributes', 'LLMSpanAttributesValidator', 'agiflow.opentelemetry.convention.agiflow_attributes', 'AgiflowSpanAttributes', 'AgiflowSpanAttributesValidator', 'agiflow.opentelemetry.convention.constants', 'Event', 'OpenAIMethods', 'ChromaDBMethods', 'PineconeMethods', 'AgiflowServiceTypes', 'WeaviateMethods', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'SpanAttributes', '__all__')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/__init__.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02011004100410041004340f2205
+   lnotab 0x00ff02011004100410041004340f220a
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/agiflow_attributes.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/agiflow_attributes.cpython-311.pyc`

 * *Files 16% similar despite different names*

#### Python bytecode

```diff
@@ -1,10 +1,10 @@
 magic:    0xa70d0d0a
-moddate:  0xcc555966 (Fri May 31 04:45:00 2024 UTC)
-files sz: 2211
+moddate:  0x43985a66 (Sat Jun  1 03:40:51 2024 UTC)
+files sz: 2477
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 16777216
    code
       0x9700640064016c006d015a010100640064026c026d035a030100640064
@@ -24,49 +24,49 @@
                 16 LOAD_CONST               2 (('Optional',))
                 18 IMPORT_NAME              2 (typing)
                 20 IMPORT_FROM              3 (Optional)
                 22 STORE_NAME               3 (Optional)
                 24 POP_TOP
    
      5          26 LOAD_CONST               0 (0)
-                28 LOAD_CONST               3 (('BaseModel', 'Extra', 'Field'))
+                28 LOAD_CONST               3 (('BaseModel', 'Field', 'ConfigDict'))
                 30 IMPORT_NAME              4 (pydantic)
                 32 IMPORT_FROM              5 (BaseModel)
                 34 STORE_NAME               5 (BaseModel)
-                36 IMPORT_FROM              6 (Extra)
-                38 STORE_NAME               6 (Extra)
-                40 IMPORT_FROM              7 (Field)
-                42 STORE_NAME               7 (Field)
+                36 IMPORT_FROM              6 (Field)
+                38 STORE_NAME               6 (Field)
+                40 IMPORT_FROM              7 (ConfigDict)
+                42 STORE_NAME               7 (ConfigDict)
                 44 POP_TOP
    
      8          46 PUSH_NULL
                 48 LOAD_BUILD_CLASS
                 50 LOAD_CONST               4 (<code object AgiflowSpanAttributes, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/agiflow_attributes.py", line 8>)
                 52 MAKE_FUNCTION            0
                 54 LOAD_CONST               5 ('AgiflowSpanAttributes')
                 56 PRECALL                  2
                 60 CALL                     2
                 70 STORE_NAME               8 (AgiflowSpanAttributes)
    
-    30          72 PUSH_NULL
+    40          72 PUSH_NULL
                 74 LOAD_BUILD_CLASS
-                76 LOAD_CONST               6 (<code object AgiflowSpanAttributesValidator, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/agiflow_attributes.py", line 30>)
+                76 LOAD_CONST               6 (<code object AgiflowSpanAttributesValidator, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/agiflow_attributes.py", line 40>)
                 78 MAKE_FUNCTION            0
                 80 LOAD_CONST               7 ('AgiflowSpanAttributesValidator')
                 82 LOAD_NAME                5 (BaseModel)
                 84 PRECALL                  3
                 88 CALL                     3
                 98 STORE_NAME               9 (AgiflowSpanAttributesValidator)
                100 LOAD_CONST               8 (None)
                102 RETURN_VALUE
    consts
       0
       ('annotations',)
       ('Optional',)
-      ('BaseModel', 'Extra', 'Field')
+      ('BaseModel', 'Field', 'ConfigDict')
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 16777216
          code
             0x970065005a0164005a0264015a0364025a0464035a0564045a0664055a
@@ -74,324 +74,292 @@
             0d5a0f640e5a10640f5a1164105a1264115300
            8           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('AgiflowSpanAttributes')
                        8 STORE_NAME               2 (__qualname__)
          
-           9          10 LOAD_CONST               1 ('agiflow.entity.name')
-                      12 STORE_NAME               3 (AGIFLOW_ENTITY_NAME)
+          10          10 LOAD_CONST               1 ('agiflow.service.name')
+                      12 STORE_NAME               3 (AGIFLOW_SERVICE_NAME)
          
-          10          14 LOAD_CONST               2 ('agiflow.entity.input')
-                      16 STORE_NAME               4 (AGIFLOW_ENTITY_INPUT)
+          12          14 LOAD_CONST               2 ('agiflow.service.type')
+                      16 STORE_NAME               4 (AGIFLOW_SERVICE_TYPE)
          
-          11          18 LOAD_CONST               3 ('agiflow.entity.output')
-                      20 STORE_NAME               5 (AGIFLOW_ENTITY_OUTPUT)
+          14          18 LOAD_CONST               3 ('agiflow.service.version')
+                      20 STORE_NAME               5 (AGIFLOW_SERVICE_VERSION)
          
-          12          22 LOAD_CONST               4 ('agiflow.entity.description')
-                      24 STORE_NAME               6 (AGIFLOW_ENTITY_DESCRIPTION)
+          17          22 LOAD_CONST               4 ('agiflow.entity.name')
+                      24 STORE_NAME               6 (AGIFLOW_ENTITY_NAME)
          
-          13          26 LOAD_CONST               5 ('agiflow.association.properties')
-                      28 STORE_NAME               7 (AGIFLOW_ASSOCIATION_PROPERTIES)
+          19          26 LOAD_CONST               5 ('agiflow.entity.input')
+                      28 STORE_NAME               7 (AGIFLOW_ENTITY_INPUT)
          
-          16          30 LOAD_CONST               6 ('agiflow.service.name')
-                      32 STORE_NAME               8 (AGIFLOW_SERVICE_NAME)
+          21          30 LOAD_CONST               6 ('agiflow.entity.output')
+                      32 STORE_NAME               8 (AGIFLOW_ENTITY_OUTPUT)
          
-          17          34 LOAD_CONST               7 ('agiflow.service.type')
-                      36 STORE_NAME               9 (AGIFLOW_SERVICE_TYPE)
+          23          34 LOAD_CONST               7 ('agiflow.entity.description')
+                      36 STORE_NAME               9 (AGIFLOW_ENTITY_DESCRIPTION)
          
-          18          38 LOAD_CONST               8 ('agiflow.service.version')
-                      40 STORE_NAME              10 (AGIFLOW_SERVICE_VERSION)
+          26          38 LOAD_CONST               8 ('agiflow.association.properties')
+                      40 STORE_NAME              10 (AGIFLOW_ASSOCIATION_PROPERTIES)
          
-          19          42 LOAD_CONST               9 ('agiflow.testId')
+          28          42 LOAD_CONST               9 ('agiflow.testId')
                       44 STORE_NAME              11 (AGIFLOW_TEST_ID)
          
-          20          46 LOAD_CONST              10 ('agiflow.sdk.name')
+          29          46 LOAD_CONST              10 ('agiflow.sdk.name')
                       48 STORE_NAME              12 (AGIFLOW_SDK_NAME)
          
-          21          50 LOAD_CONST              11 ('agiflow.sdk.version')
+          30          50 LOAD_CONST              11 ('agiflow.sdk.version')
                       52 STORE_NAME              13 (AGIFLOW_SDK_VERSION)
          
-          23          54 LOAD_CONST              12 ('agiflow.prompt.key')
+          33          54 LOAD_CONST              12 ('agiflow.prompt.key')
                       56 STORE_NAME              14 (AGIFLOW_PROMPT_KEY)
          
-          24          58 LOAD_CONST              13 ('agiflow.prompt.version')
+          34          58 LOAD_CONST              13 ('agiflow.prompt.version')
                       60 STORE_NAME              15 (AGIFLOW_PROMPT_VERSION)
          
-          25          62 LOAD_CONST              14 ('agiflow.prompt.version_name')
+          35          62 LOAD_CONST              14 ('agiflow.prompt.version_name')
                       64 STORE_NAME              16 (AGIFLOW_PROMPT_VERSION_NAME)
          
-          26          66 LOAD_CONST              15 ('agiflow.prompt.version_hash')
+          36          66 LOAD_CONST              15 ('agiflow.prompt.version_hash')
                       68 STORE_NAME              17 (AGIFLOW_PROMPT_VERSION_HASH)
          
-          27          70 LOAD_CONST              16 ('agiflow.prompt.template_variables')
+          37          70 LOAD_CONST              16 ('agiflow.prompt.template_variables')
                       72 STORE_NAME              18 (AGIFLOW_PROMPT_TEMPLATE_VARIABLES)
                       74 LOAD_CONST              17 (None)
                       76 RETURN_VALUE
          consts
             'AgiflowSpanAttributes'
+            'agiflow.service.name'
+            'agiflow.service.type'
+            'agiflow.service.version'
             'agiflow.entity.name'
             'agiflow.entity.input'
             'agiflow.entity.output'
             'agiflow.entity.description'
             'agiflow.association.properties'
-            'agiflow.service.name'
-            'agiflow.service.type'
-            'agiflow.service.version'
             'agiflow.testId'
             'agiflow.sdk.name'
             'agiflow.sdk.version'
             'agiflow.prompt.key'
             'agiflow.prompt.version'
             'agiflow.prompt.version_name'
             'agiflow.prompt.version_hash'
             'agiflow.prompt.template_variables'
             None
-         names      ('__name__', '__module__', '__qualname__', 'AGIFLOW_ENTITY_NAME', 'AGIFLOW_ENTITY_INPUT', 'AGIFLOW_ENTITY_OUTPUT', 'AGIFLOW_ENTITY_DESCRIPTION', 'AGIFLOW_ASSOCIATION_PROPERTIES', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_TYPE', 'AGIFLOW_SERVICE_VERSION', 'AGIFLOW_TEST_ID', 'AGIFLOW_SDK_NAME', 'AGIFLOW_SDK_VERSION', 'AGIFLOW_PROMPT_KEY', 'AGIFLOW_PROMPT_VERSION', 'AGIFLOW_PROMPT_VERSION_NAME', 'AGIFLOW_PROMPT_VERSION_HASH', 'AGIFLOW_PROMPT_TEMPLATE_VARIABLES')
+         names      ('__name__', '__module__', '__qualname__', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_TYPE', 'AGIFLOW_SERVICE_VERSION', 'AGIFLOW_ENTITY_NAME', 'AGIFLOW_ENTITY_INPUT', 'AGIFLOW_ENTITY_OUTPUT', 'AGIFLOW_ENTITY_DESCRIPTION', 'AGIFLOW_ASSOCIATION_PROPERTIES', 'AGIFLOW_TEST_ID', 'AGIFLOW_SDK_NAME', 'AGIFLOW_SDK_VERSION', 'AGIFLOW_PROMPT_KEY', 'AGIFLOW_PROMPT_VERSION', 'AGIFLOW_PROMPT_VERSION_NAME', 'AGIFLOW_PROMPT_VERSION_HASH', 'AGIFLOW_PROMPT_TEMPLATE_VARIABLES')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/agiflow_attributes.py'
          name       'AgiflowSpanAttributes'
          firstlineno 8
          lnotab
-            0x0a01040104010401040104030401040104010401040104020401040104
+            0x0a02040204020403040204020402040304020401040104030401040104
             010401
       'AgiflowSpanAttributes'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 4
          flags     : 16777216
          code
-            0x970065005a0164005a02550002004700640184006402a6020000ab0200
-            000000000000005a0302006504640365056a060000000000000000ac04a6
-            020000ab0200000000000000005a066405650764063c0000000200650464
-            0365056a080000000000000000ac04a6020000ab0200000000000000005a
-            086405650764073c00000002006504640865056a090000000000000000ac
-            04a6020000ab0200000000000000005a0964096507640a3c000000020065
-            04640865056a0a0000000000000000ac04a6020000ab0200000000000000
-            005a0b64096507640b3c00000002006504640865056a0c00000000000000
-            00ac04a6020000ab0200000000000000005a0c64056507640c3c00000002
-            006504640865056a0d0000000000000000ac04a6020000ab020000000000
-            0000005a0d64056507640d3c00000002006504640865056a0e0000000000
-            000000ac04a6020000ab0200000000000000005a0e64096507640e3c0000
-            0002006504640865056a0f0000000000000000ac04a6020000ab02000000
-            00000000005a0f64056507640f3c00000002006504640865056a10000000
-            0000000000ac04a6020000ab0200000000000000005a106405650764103c
-            00000064085300
-          30           0 RESUME                   0
+            0x970065005a0164005a0255000200650364016402ac03a6020000ab0200
+            000000000000005a0402006505640465066a070000000000000000ac05a6
+            020000ab0200000000000000005a076406650864073c0000000200650564
+            0465066a090000000000000000ac05a6020000ab0200000000000000005a
+            096406650864083c00000002006505640965066a0a0000000000000000ac
+            05a6020000ab0200000000000000005a0a640a6508640b3c000000020065
+            05640965066a0b0000000000000000ac05a6020000ab0200000000000000
+            005a0c640a6508640c3c00000002006505640965066a0d00000000000000
+            00ac05a6020000ab0200000000000000005a0d64066508640d3c00000002
+            006505640965066a0e0000000000000000ac05a6020000ab020000000000
+            0000005a0e64066508640e3c00000002006505640965066a0f0000000000
+            000000ac05a6020000ab0200000000000000005a0f640a6508640f3c0000
+            0002006505640965066a100000000000000000ac05a6020000ab02000000
+            00000000005a106406650864103c00000002006505640965066a11000000
+            0000000000ac05a6020000ab0200000000000000005a116406650864113c
+            00000064095300
+          40           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('AgiflowSpanAttributesValidator')
                        8 STORE_NAME               2 (__qualname__)
                       10 SETUP_ANNOTATIONS
          
-          31          12 PUSH_NULL
-                      14 LOAD_BUILD_CLASS
-                      16 LOAD_CONST               1 (<code object Config, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/agiflow_attributes.py", line 31>)
-                      18 MAKE_FUNCTION            0
-                      20 LOAD_CONST               2 ('Config')
+          41          12 PUSH_NULL
+                      14 LOAD_NAME                3 (ConfigDict)
+                      16 LOAD_CONST               1 ('forbid')
+                      18 LOAD_CONST               2 (True)
+                      20 KW_NAMES                 3
                       22 PRECALL                  2
                       26 CALL                     2
-                      36 STORE_NAME               3 (Config)
+                      36 STORE_NAME               4 (model_config)
          
-          36          38 PUSH_NULL
-                      40 LOAD_NAME                4 (Field)
-                      42 LOAD_CONST               3 (Ellipsis)
-                      44 LOAD_NAME                5 (AgiflowSpanAttributes)
-                      46 LOAD_ATTR                6 (AGIFLOW_SERVICE_NAME)
-                      56 KW_NAMES                 4
+          44          38 PUSH_NULL
+                      40 LOAD_NAME                5 (Field)
+                      42 LOAD_CONST               4 (Ellipsis)
+                      44 LOAD_NAME                6 (AgiflowSpanAttributes)
+                      46 LOAD_ATTR                7 (AGIFLOW_SERVICE_NAME)
+                      56 KW_NAMES                 5
                       58 PRECALL                  2
                       62 CALL                     2
-                      72 STORE_NAME               6 (AGIFLOW_SERVICE_NAME)
-                      74 LOAD_CONST               5 ('str')
-                      76 LOAD_NAME                7 (__annotations__)
-                      78 LOAD_CONST               6 ('AGIFLOW_SERVICE_NAME')
+                      72 STORE_NAME               7 (AGIFLOW_SERVICE_NAME)
+                      74 LOAD_CONST               6 ('str')
+                      76 LOAD_NAME                8 (__annotations__)
+                      78 LOAD_CONST               7 ('AGIFLOW_SERVICE_NAME')
                       80 STORE_SUBSCR
          
-          38          84 PUSH_NULL
-                      86 LOAD_NAME                4 (Field)
-                      88 LOAD_CONST               3 (Ellipsis)
-                      90 LOAD_NAME                5 (AgiflowSpanAttributes)
-                      92 LOAD_ATTR                8 (AGIFLOW_SERVICE_TYPE)
-                     102 KW_NAMES                 4
+          46          84 PUSH_NULL
+                      86 LOAD_NAME                5 (Field)
+                      88 LOAD_CONST               4 (Ellipsis)
+                      90 LOAD_NAME                6 (AgiflowSpanAttributes)
+                      92 LOAD_ATTR                9 (AGIFLOW_SERVICE_TYPE)
+                     102 KW_NAMES                 5
                      104 PRECALL                  2
                      108 CALL                     2
-                     118 STORE_NAME               8 (AGIFLOW_SERVICE_TYPE)
-                     120 LOAD_CONST               5 ('str')
-                     122 LOAD_NAME                7 (__annotations__)
-                     124 LOAD_CONST               7 ('AGIFLOW_SERVICE_TYPE')
+                     118 STORE_NAME               9 (AGIFLOW_SERVICE_TYPE)
+                     120 LOAD_CONST               6 ('str')
+                     122 LOAD_NAME                8 (__annotations__)
+                     124 LOAD_CONST               8 ('AGIFLOW_SERVICE_TYPE')
                      126 STORE_SUBSCR
          
-          40         130 PUSH_NULL
-                     132 LOAD_NAME                4 (Field)
+          48         130 PUSH_NULL
+                     132 LOAD_NAME                5 (Field)
          
-          41         134 LOAD_CONST               8 (None)
-                     136 LOAD_NAME                5 (AgiflowSpanAttributes)
-                     138 LOAD_ATTR                9 (AGIFLOW_SERVICE_VERSION)
+          49         134 LOAD_CONST               9 (None)
+                     136 LOAD_NAME                6 (AgiflowSpanAttributes)
+                     138 LOAD_ATTR               10 (AGIFLOW_SERVICE_VERSION)
          
-          40         148 KW_NAMES                 4
+          48         148 KW_NAMES                 5
                      150 PRECALL                  2
                      154 CALL                     2
-                     164 STORE_NAME               9 (AGIFLOW_SERVICE_VERSION)
-                     166 LOAD_CONST               9 ('Optional[str]')
-                     168 LOAD_NAME                7 (__annotations__)
-                     170 LOAD_CONST              10 ('AGIFLOW_SERVICE_VERSION')
+                     164 STORE_NAME              10 (AGIFLOW_SERVICE_VERSION)
+                     166 LOAD_CONST              10 ('Optional[str]')
+                     168 LOAD_NAME                8 (__annotations__)
+                     170 LOAD_CONST              11 ('AGIFLOW_SERVICE_VERSION')
                      172 STORE_SUBSCR
          
-          43         176 PUSH_NULL
-                     178 LOAD_NAME                4 (Field)
-                     180 LOAD_CONST               8 (None)
-                     182 LOAD_NAME                5 (AgiflowSpanAttributes)
-                     184 LOAD_ATTR               10 (AGIFLOW_TEST_ID)
-                     194 KW_NAMES                 4
+          51         176 PUSH_NULL
+                     178 LOAD_NAME                5 (Field)
+                     180 LOAD_CONST               9 (None)
+                     182 LOAD_NAME                6 (AgiflowSpanAttributes)
+                     184 LOAD_ATTR               11 (AGIFLOW_TEST_ID)
+                     194 KW_NAMES                 5
                      196 PRECALL                  2
                      200 CALL                     2
-                     210 STORE_NAME              11 (AGIFLOW_TES_ID)
-                     212 LOAD_CONST               9 ('Optional[str]')
-                     214 LOAD_NAME                7 (__annotations__)
-                     216 LOAD_CONST              11 ('AGIFLOW_TES_ID')
+                     210 STORE_NAME              12 (AGIFLOW_TES_ID)
+                     212 LOAD_CONST              10 ('Optional[str]')
+                     214 LOAD_NAME                8 (__annotations__)
+                     216 LOAD_CONST              12 ('AGIFLOW_TES_ID')
                      218 STORE_SUBSCR
          
-          44         222 PUSH_NULL
-                     224 LOAD_NAME                4 (Field)
-                     226 LOAD_CONST               8 (None)
-                     228 LOAD_NAME                5 (AgiflowSpanAttributes)
-                     230 LOAD_ATTR               12 (AGIFLOW_ENTITY_NAME)
-                     240 KW_NAMES                 4
+          52         222 PUSH_NULL
+                     224 LOAD_NAME                5 (Field)
+                     226 LOAD_CONST               9 (None)
+                     228 LOAD_NAME                6 (AgiflowSpanAttributes)
+                     230 LOAD_ATTR               13 (AGIFLOW_ENTITY_NAME)
+                     240 KW_NAMES                 5
                      242 PRECALL                  2
                      246 CALL                     2
-                     256 STORE_NAME              12 (AGIFLOW_ENTITY_NAME)
-                     258 LOAD_CONST               5 ('str')
-                     260 LOAD_NAME                7 (__annotations__)
-                     262 LOAD_CONST              12 ('AGIFLOW_ENTITY_NAME')
+                     256 STORE_NAME              13 (AGIFLOW_ENTITY_NAME)
+                     258 LOAD_CONST               6 ('str')
+                     260 LOAD_NAME                8 (__annotations__)
+                     262 LOAD_CONST              13 ('AGIFLOW_ENTITY_NAME')
                      264 STORE_SUBSCR
          
-          45         268 PUSH_NULL
-                     270 LOAD_NAME                4 (Field)
-                     272 LOAD_CONST               8 (None)
-                     274 LOAD_NAME                5 (AgiflowSpanAttributes)
-                     276 LOAD_ATTR               13 (AGIFLOW_ENTITY_INPUT)
-                     286 KW_NAMES                 4
+          53         268 PUSH_NULL
+                     270 LOAD_NAME                5 (Field)
+                     272 LOAD_CONST               9 (None)
+                     274 LOAD_NAME                6 (AgiflowSpanAttributes)
+                     276 LOAD_ATTR               14 (AGIFLOW_ENTITY_INPUT)
+                     286 KW_NAMES                 5
                      288 PRECALL                  2
                      292 CALL                     2
-                     302 STORE_NAME              13 (AGIFLOW_ENTITY_INPUT)
-                     304 LOAD_CONST               5 ('str')
-                     306 LOAD_NAME                7 (__annotations__)
-                     308 LOAD_CONST              13 ('AGIFLOW_ENTITY_INPUT')
+                     302 STORE_NAME              14 (AGIFLOW_ENTITY_INPUT)
+                     304 LOAD_CONST               6 ('str')
+                     306 LOAD_NAME                8 (__annotations__)
+                     308 LOAD_CONST              14 ('AGIFLOW_ENTITY_INPUT')
                      310 STORE_SUBSCR
          
-          46         314 PUSH_NULL
-                     316 LOAD_NAME                4 (Field)
+          54         314 PUSH_NULL
+                     316 LOAD_NAME                5 (Field)
          
-          47         318 LOAD_CONST               8 (None)
-                     320 LOAD_NAME                5 (AgiflowSpanAttributes)
-                     322 LOAD_ATTR               14 (AGIFLOW_ENTITY_OUTPUT)
+          55         318 LOAD_CONST               9 (None)
+                     320 LOAD_NAME                6 (AgiflowSpanAttributes)
+                     322 LOAD_ATTR               15 (AGIFLOW_ENTITY_OUTPUT)
          
-          46         332 KW_NAMES                 4
+          54         332 KW_NAMES                 5
                      334 PRECALL                  2
                      338 CALL                     2
-                     348 STORE_NAME              14 (AGIFLOW_ENTITY_OUTPUT)
-                     350 LOAD_CONST               9 ('Optional[str]')
-                     352 LOAD_NAME                7 (__annotations__)
-                     354 LOAD_CONST              14 ('AGIFLOW_ENTITY_OUTPUT')
+                     348 STORE_NAME              15 (AGIFLOW_ENTITY_OUTPUT)
+                     350 LOAD_CONST              10 ('Optional[str]')
+                     352 LOAD_NAME                8 (__annotations__)
+                     354 LOAD_CONST              15 ('AGIFLOW_ENTITY_OUTPUT')
                      356 STORE_SUBSCR
          
-          49         360 PUSH_NULL
-                     362 LOAD_NAME                4 (Field)
-                     364 LOAD_CONST               8 (None)
-                     366 LOAD_NAME                5 (AgiflowSpanAttributes)
-                     368 LOAD_ATTR               15 (AGIFLOW_ENTITY_DESCRIPTION)
-                     378 KW_NAMES                 4
+          57         360 PUSH_NULL
+                     362 LOAD_NAME                5 (Field)
+                     364 LOAD_CONST               9 (None)
+                     366 LOAD_NAME                6 (AgiflowSpanAttributes)
+                     368 LOAD_ATTR               16 (AGIFLOW_ENTITY_DESCRIPTION)
+                     378 KW_NAMES                 5
                      380 PRECALL                  2
                      384 CALL                     2
-                     394 STORE_NAME              15 (AGIFLOW_ENTITY_DESCRIPTION)
-                     396 LOAD_CONST               5 ('str')
-                     398 LOAD_NAME                7 (__annotations__)
-                     400 LOAD_CONST              15 ('AGIFLOW_ENTITY_DESCRIPTION')
+                     394 STORE_NAME              16 (AGIFLOW_ENTITY_DESCRIPTION)
+                     396 LOAD_CONST               6 ('str')
+                     398 LOAD_NAME                8 (__annotations__)
+                     400 LOAD_CONST              16 ('AGIFLOW_ENTITY_DESCRIPTION')
                      402 STORE_SUBSCR
          
-          50         406 PUSH_NULL
-                     408 LOAD_NAME                4 (Field)
-                     410 LOAD_CONST               8 (None)
-                     412 LOAD_NAME                5 (AgiflowSpanAttributes)
-                     414 LOAD_ATTR               16 (AGIFLOW_ASSOCIATION_PROPERTIES)
-                     424 KW_NAMES                 4
+          58         406 PUSH_NULL
+                     408 LOAD_NAME                5 (Field)
+                     410 LOAD_CONST               9 (None)
+                     412 LOAD_NAME                6 (AgiflowSpanAttributes)
+                     414 LOAD_ATTR               17 (AGIFLOW_ASSOCIATION_PROPERTIES)
+                     424 KW_NAMES                 5
                      426 PRECALL                  2
                      430 CALL                     2
-                     440 STORE_NAME              16 (AGIFLOW_ASSOCIATION_PROPERTIES)
-                     442 LOAD_CONST               5 ('str')
-                     444 LOAD_NAME                7 (__annotations__)
-                     446 LOAD_CONST              16 ('AGIFLOW_ASSOCIATION_PROPERTIES')
+                     440 STORE_NAME              17 (AGIFLOW_ASSOCIATION_PROPERTIES)
+                     442 LOAD_CONST               6 ('str')
+                     444 LOAD_NAME                8 (__annotations__)
+                     446 LOAD_CONST              17 ('AGIFLOW_ASSOCIATION_PROPERTIES')
                      448 STORE_SUBSCR
-                     452 LOAD_CONST               8 (None)
+                     452 LOAD_CONST               9 (None)
                      454 RETURN_VALUE
          consts
             'AgiflowSpanAttributesValidator'
-            code
-               argcount  : 0
-               nlocals   : 0
-               stacksize : 1
-               flags     : 16777216
-               code
-                  0x970065005a0164005a0265036a0400000000000000005a0564015a0664
-                  025300
-                31           0 RESUME                   0
-                             2 LOAD_NAME                0 (__name__)
-                             4 STORE_NAME               1 (__module__)
-                             6 LOAD_CONST               0 ('AgiflowSpanAttributesValidator.Config')
-                             8 STORE_NAME               2 (__qualname__)
-               
-                32          10 LOAD_NAME                3 (Extra)
-                            12 LOAD_ATTR                4 (forbid)
-                            22 STORE_NAME               5 (extra)
-               
-                33          24 LOAD_CONST               1 (True)
-                            26 STORE_NAME               6 (use_enum_values)
-                            28 LOAD_CONST               2 (None)
-                            30 RETURN_VALUE
-               consts
-                  'AgiflowSpanAttributesValidator.Config'
-                  True
-                  None
-               names      ('__name__', '__module__', '__qualname__', 'Extra', 'forbid', 'extra', 'use_enum_values')
-               varnames   ()
-               freevars   ()
-               cellvars   ()
-               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/agiflow_attributes.py'
-               name       'Config'
-               firstlineno 31
-               lnotab 0x0a010e01
-            'Config'
+            'forbid'
+            True
+            ('extra', 'use_enum_values')
             Ellipsis
             ('alias',)
             'str'
             'AGIFLOW_SERVICE_NAME'
             'AGIFLOW_SERVICE_TYPE'
             None
             'Optional[str]'
             'AGIFLOW_SERVICE_VERSION'
             'AGIFLOW_TES_ID'
             'AGIFLOW_ENTITY_NAME'
             'AGIFLOW_ENTITY_INPUT'
             'AGIFLOW_ENTITY_OUTPUT'
             'AGIFLOW_ENTITY_DESCRIPTION'
             'AGIFLOW_ASSOCIATION_PROPERTIES'
-         names      ('__name__', '__module__', '__qualname__', 'Config', 'Field', 'AgiflowSpanAttributes', 'AGIFLOW_SERVICE_NAME', '__annotations__', 'AGIFLOW_SERVICE_TYPE', 'AGIFLOW_SERVICE_VERSION', 'AGIFLOW_TEST_ID', 'AGIFLOW_TES_ID', 'AGIFLOW_ENTITY_NAME', 'AGIFLOW_ENTITY_INPUT', 'AGIFLOW_ENTITY_OUTPUT', 'AGIFLOW_ENTITY_DESCRIPTION', 'AGIFLOW_ASSOCIATION_PROPERTIES')
+         names      ('__name__', '__module__', '__qualname__', 'ConfigDict', 'model_config', 'Field', 'AgiflowSpanAttributes', 'AGIFLOW_SERVICE_NAME', '__annotations__', 'AGIFLOW_SERVICE_TYPE', 'AGIFLOW_SERVICE_VERSION', 'AGIFLOW_TEST_ID', 'AGIFLOW_TES_ID', 'AGIFLOW_ENTITY_NAME', 'AGIFLOW_ENTITY_INPUT', 'AGIFLOW_ENTITY_OUTPUT', 'AGIFLOW_ENTITY_DESCRIPTION', 'AGIFLOW_ASSOCIATION_PROPERTIES')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/agiflow_attributes.py'
          name       'AgiflowSpanAttributesValidator'
-         firstlineno 30
-         lnotab 0x0c011a052e022e0204010eff1c032e012e012e0104010eff1c032e01
+         firstlineno 40
+         lnotab 0x0c011a032e022e0204010eff1c032e012e012e0104010eff1c032e01
       'AgiflowSpanAttributesValidator'
       None
-   names      ('__future__', 'annotations', 'typing', 'Optional', 'pydantic', 'BaseModel', 'Extra', 'Field', 'AgiflowSpanAttributes', 'AgiflowSpanAttributesValidator')
+   names      ('__future__', 'annotations', 'typing', 'Optional', 'pydantic', 'BaseModel', 'Field', 'ConfigDict', 'AgiflowSpanAttributes', 'AgiflowSpanAttributesValidator')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/agiflow_attributes.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010c020c0214031a16
+   lnotab 0x00ff02010c020c0214031a20
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/constants.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/constants.cpython-311.pyc`

 * *Files 27% similar despite different names*

#### Python bytecode

```diff
@@ -1,10 +1,10 @@
 magic:    0xa70d0d0a
-moddate:  0x00375966 (Fri May 31 02:33:36 2024 UTC)
-files sz: 3240
+moddate:  0x46d95a66 (Sat Jun  1 08:18:14 2024 UTC)
+files sz: 3893
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 6
    flags     : 0
    code
       0x9700640064016c006d015a0101000200470064028400640365026501a6
@@ -14,16 +14,16 @@
       040000ab0400000000000000005a0602004700640a8400640b65026501a6
       040000ab0400000000000000005a0702004700640c8400640d65026501a6
       040000ab0400000000000000005a0802004700640e8400640f65026501a6
       040000ab0400000000000000005a090200470064108400641165026501a6
       040000ab0400000000000000005a0a0200470064128400641365026501a6
       040000ab0400000000000000005a0b0200470064148400641565026501a6
       040000ab0400000000000000005a0c0200470064168400641765026501a6
-      040000ab0400000000000000005a0d0200470064188400641965026501a6
-      040000ab0400000000000000005a0e641a5300
+      040000ab0400000000000000005a0d020047006418840064196501a60300
+      00ab0300000000000000005a0e641a5300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 (0)
                  4 LOAD_CONST               1 (('Enum',))
                  6 IMPORT_NAME              0 (enum)
                  8 IMPORT_FROM              1 (Enum)
                 10 STORE_NAME               1 (Enum)
@@ -36,147 +36,147 @@
                 22 LOAD_CONST               3 ('AgiflowServiceTypes')
                 24 LOAD_NAME                2 (str)
                 26 LOAD_NAME                1 (Enum)
                 28 PRECALL                  4
                 32 CALL                     4
                 42 STORE_NAME               3 (AgiflowServiceTypes)
    
-    13          44 PUSH_NULL
+    20          44 PUSH_NULL
                 46 LOAD_BUILD_CLASS
-                48 LOAD_CONST               4 (<code object LLMTypes, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 13>)
+                48 LOAD_CONST               4 (<code object LLMTypes, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 20>)
                 50 MAKE_FUNCTION            0
                 52 LOAD_CONST               5 ('LLMTypes')
                 54 LOAD_NAME                2 (str)
                 56 LOAD_NAME                1 (Enum)
                 58 PRECALL                  4
                 62 CALL                     4
                 72 STORE_NAME               4 (LLMTypes)
    
-    23          74 PUSH_NULL
+    31          74 PUSH_NULL
                 76 LOAD_BUILD_CLASS
-                78 LOAD_CONST               6 (<code object LLMPromptKeys, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 23>)
+                78 LOAD_CONST               6 (<code object LLMPromptKeys, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 31>)
                 80 MAKE_FUNCTION            0
                 82 LOAD_CONST               7 ('LLMPromptKeys')
                 84 LOAD_NAME                2 (str)
                 86 LOAD_NAME                1 (Enum)
                 88 PRECALL                  4
                 92 CALL                     4
                102 STORE_NAME               5 (LLMPromptKeys)
    
-    31         104 PUSH_NULL
+    39         104 PUSH_NULL
                106 LOAD_BUILD_CLASS
-               108 LOAD_CONST               8 (<code object LLMPromptRoles, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 31>)
+               108 LOAD_CONST               8 (<code object LLMPromptRoles, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 39>)
                110 MAKE_FUNCTION            0
                112 LOAD_CONST               9 ('LLMPromptRoles')
                114 LOAD_NAME                2 (str)
                116 LOAD_NAME                1 (Enum)
                118 PRECALL                  4
                122 CALL                     4
                132 STORE_NAME               6 (LLMPromptRoles)
    
-    39         134 PUSH_NULL
+    47         134 PUSH_NULL
                136 LOAD_BUILD_CLASS
-               138 LOAD_CONST              10 (<code object LLMResponseKeys, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 39>)
+               138 LOAD_CONST              10 (<code object LLMResponseKeys, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 47>)
                140 MAKE_FUNCTION            0
                142 LOAD_CONST              11 ('LLMResponseKeys')
                144 LOAD_NAME                2 (str)
                146 LOAD_NAME                1 (Enum)
                148 PRECALL                  4
                152 CALL                     4
                162 STORE_NAME               7 (LLMResponseKeys)
    
-    51         164 PUSH_NULL
+    59         164 PUSH_NULL
                166 LOAD_BUILD_CLASS
-               168 LOAD_CONST              12 (<code object LLMTokenUsageKeys, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 51>)
+               168 LOAD_CONST              12 (<code object LLMTokenUsageKeys, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 59>)
                170 MAKE_FUNCTION            0
                172 LOAD_CONST              13 ('LLMTokenUsageKeys')
                174 LOAD_NAME                2 (str)
                176 LOAD_NAME                1 (Enum)
                178 PRECALL                  4
                182 CALL                     4
                192 STORE_NAME               8 (LLMTokenUsageKeys)
    
-    60         194 PUSH_NULL
+    69         194 PUSH_NULL
                196 LOAD_BUILD_CLASS
-               198 LOAD_CONST              14 (<code object AgiflowSpanKindValues, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 60>)
+               198 LOAD_CONST              14 (<code object Event, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 69>)
                200 MAKE_FUNCTION            0
-               202 LOAD_CONST              15 ('AgiflowSpanKindValues')
+               202 LOAD_CONST              15 ('Event')
                204 LOAD_NAME                2 (str)
                206 LOAD_NAME                1 (Enum)
                208 PRECALL                  4
                212 CALL                     4
-               222 STORE_NAME               9 (AgiflowSpanKindValues)
+               222 STORE_NAME               9 (Event)
    
-    73         224 PUSH_NULL
+    79         224 PUSH_NULL
                226 LOAD_BUILD_CLASS
-               228 LOAD_CONST              16 (<code object Event, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 73>)
+               228 LOAD_CONST              16 (<code object OpenAIMethods, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 79>)
                230 MAKE_FUNCTION            0
-               232 LOAD_CONST              17 ('Event')
+               232 LOAD_CONST              17 ('OpenAIMethods')
                234 LOAD_NAME                2 (str)
                236 LOAD_NAME                1 (Enum)
                238 PRECALL                  4
                242 CALL                     4
-               252 STORE_NAME              10 (Event)
+               252 STORE_NAME              10 (OpenAIMethods)
    
-    83         254 PUSH_NULL
+    88         254 PUSH_NULL
                256 LOAD_BUILD_CLASS
-               258 LOAD_CONST              18 (<code object OpenAIMethods, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 83>)
+               258 LOAD_CONST              18 (<code object ChromaDBMethods, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 88>)
                260 MAKE_FUNCTION            0
-               262 LOAD_CONST              19 ('OpenAIMethods')
+               262 LOAD_CONST              19 ('ChromaDBMethods')
                264 LOAD_NAME                2 (str)
                266 LOAD_NAME                1 (Enum)
                268 PRECALL                  4
                272 CALL                     4
-               282 STORE_NAME              11 (OpenAIMethods)
+               282 STORE_NAME              11 (ChromaDBMethods)
    
-    92         284 PUSH_NULL
+   103         284 PUSH_NULL
                286 LOAD_BUILD_CLASS
-               288 LOAD_CONST              20 (<code object ChromaDBMethods, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 92>)
+               288 LOAD_CONST              20 (<code object QdrantDBMethods, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 103>)
                290 MAKE_FUNCTION            0
-               292 LOAD_CONST              21 ('ChromaDBMethods')
+               292 LOAD_CONST              21 ('QdrantDBMethods')
                294 LOAD_NAME                2 (str)
                296 LOAD_NAME                1 (Enum)
                298 PRECALL                  4
                302 CALL                     4
-               312 STORE_NAME              12 (ChromaDBMethods)
+               312 STORE_NAME              12 (QdrantDBMethods)
    
-   107         314 PUSH_NULL
+   126         314 PUSH_NULL
                316 LOAD_BUILD_CLASS
-               318 LOAD_CONST              22 (<code object QdrantDBMethods, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 107>)
+               318 LOAD_CONST              22 (<code object PineconeMethods, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 126>)
                320 MAKE_FUNCTION            0
-               322 LOAD_CONST              23 ('QdrantDBMethods')
+               322 LOAD_CONST              23 ('PineconeMethods')
                324 LOAD_NAME                2 (str)
                326 LOAD_NAME                1 (Enum)
                328 PRECALL                  4
                332 CALL                     4
-               342 STORE_NAME              13 (QdrantDBMethods)
+               342 STORE_NAME              13 (PineconeMethods)
    
-   130         344 PUSH_NULL
+   135         344 PUSH_NULL
                346 LOAD_BUILD_CLASS
-               348 LOAD_CONST              24 (<code object PineconeMethods, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 130>)
+               348 LOAD_CONST              24 (<code object WeaviateMethods, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 135>)
                350 MAKE_FUNCTION            0
-               352 LOAD_CONST              25 ('PineconeMethods')
-               354 LOAD_NAME                2 (str)
-               356 LOAD_NAME                1 (Enum)
-               358 PRECALL                  4
-               362 CALL                     4
-               372 STORE_NAME              14 (PineconeMethods)
-               374 LOAD_CONST              26 (None)
-               376 RETURN_VALUE
+               352 LOAD_CONST              25 ('WeaviateMethods')
+               354 LOAD_NAME                1 (Enum)
+               356 PRECALL                  3
+               360 CALL                     3
+               370 STORE_NAME              14 (WeaviateMethods)
+               372 LOAD_CONST              26 (None)
+               374 RETURN_VALUE
    consts
       0
       ('Enum',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code
-            0x970065005a0164005a0264015a0364025a0464035a05640484005a0664
-            055300
+            0x970065005a0164005a0264015a0364025a0464035a0564045a0664055a
+            0764065a0864075a0964085a0a64095a0b640a5a0c640b84005a0d640c53
+            00
            4           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('AgiflowServiceTypes')
                        8 STORE_NAME               2 (__qualname__)
          
            5          10 LOAD_CONST               1 ('LLM')
@@ -184,152 +184,184 @@
          
            6          14 LOAD_CONST               2 ('Database')
                       16 STORE_NAME               4 (DATABASE)
          
            7          18 LOAD_CONST               3 ('Framework')
                       20 STORE_NAME               5 (FRAMEWORK)
          
-           9          22 LOAD_CONST               4 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 9>)
-                      24 MAKE_FUNCTION            0
-                      26 STORE_NAME               6 (__str__)
-                      28 LOAD_CONST               5 (None)
-                      30 RETURN_VALUE
+           8          22 LOAD_CONST               4 ('VectorDB')
+                      24 STORE_NAME               6 (VECTORDB)
+         
+           9          26 LOAD_CONST               5 ('Workflow')
+                      28 STORE_NAME               7 (WORKFLOW)
+         
+          10          30 LOAD_CONST               6 ('Task')
+                      32 STORE_NAME               8 (TASK)
+         
+          11          34 LOAD_CONST               7 ('Agent')
+                      36 STORE_NAME               9 (AGENT)
+         
+          12          38 LOAD_CONST               8 ('Tool')
+                      40 STORE_NAME              10 (TOOL)
+         
+          13          42 LOAD_CONST               9 ('Unknown')
+                      44 STORE_NAME              11 (UNKNOWN)
+         
+          14          46 LOAD_CONST              10 ('Chat')
+                      48 STORE_NAME              12 (CHAT)
+         
+          16          50 LOAD_CONST              11 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 16>)
+                      52 MAKE_FUNCTION            0
+                      54 STORE_NAME              13 (__str__)
+                      56 LOAD_CONST              12 (None)
+                      58 RETURN_VALUE
          consts
             'AgiflowServiceTypes'
             'LLM'
             'Database'
             'Framework'
+            'VectorDB'
+            'Workflow'
+            'Task'
+            'Agent'
+            'Tool'
+            'Unknown'
+            'Chat'
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-                 9           0 RESUME                   0
+                16           0 RESUME                   0
                
-                10           2 LOAD_GLOBAL              1 (NULL + str)
+                17           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 9
+               firstlineno 16
                lnotab 0x0201
             None
-         names      ('__name__', '__module__', '__qualname__', 'LLM', 'DATABASE', 'FRAMEWORK', '__str__')
+         names      ('__name__', '__module__', '__qualname__', 'LLM', 'DATABASE', 'FRAMEWORK', 'VECTORDB', 'WORKFLOW', 'TASK', 'AGENT', 'TOOL', 'UNKNOWN', 'CHAT', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'AgiflowServiceTypes'
          firstlineno 4
-         lnotab 0x0a01040104010402
+         lnotab 0x0a010401040104010401040104010401040104010402
       'AgiflowServiceTypes'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code
-            0x970065005a0164005a0264015a0364025a0464035a0564045a06640584
-            005a0764065300
-          13           0 RESUME                   0
+            0x970065005a0164005a0264015a0364025a0464035a0564045a0664055a
+            07640684005a0864075300
+          20           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('LLMTypes')
                        8 STORE_NAME               2 (__qualname__)
          
-          14          10 LOAD_CONST               1 ('Chat')
+          21          10 LOAD_CONST               1 ('Chat')
                       12 STORE_NAME               3 (CHAT)
          
-          15          14 LOAD_CONST               2 ('Completion')
+          22          14 LOAD_CONST               2 ('Completion')
                       16 STORE_NAME               4 (COMPLETION)
          
-          16          18 LOAD_CONST               3 ('ImageGeneration')
+          23          18 LOAD_CONST               3 ('ImageGeneration')
                       20 STORE_NAME               5 (IMAGE_GENERATION)
          
-          17          22 LOAD_CONST               4 ('Embedding')
+          24          22 LOAD_CONST               4 ('Embedding')
                       24 STORE_NAME               6 (EMBEDDING)
          
-          19          26 LOAD_CONST               5 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 19>)
-                      28 MAKE_FUNCTION            0
-                      30 STORE_NAME               7 (__str__)
-                      32 LOAD_CONST               6 (None)
-                      34 RETURN_VALUE
+          25          26 LOAD_CONST               5 ('Rerank')
+                      28 STORE_NAME               7 (RERANK)
+         
+          27          30 LOAD_CONST               6 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 27>)
+                      32 MAKE_FUNCTION            0
+                      34 STORE_NAME               8 (__str__)
+                      36 LOAD_CONST               7 (None)
+                      38 RETURN_VALUE
          consts
             'LLMTypes'
             'Chat'
             'Completion'
             'ImageGeneration'
             'Embedding'
+            'Rerank'
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-                19           0 RESUME                   0
+                27           0 RESUME                   0
                
-                20           2 LOAD_GLOBAL              1 (NULL + str)
+                28           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 19
+               firstlineno 27
                lnotab 0x0201
             None
-         names      ('__name__', '__module__', '__qualname__', 'CHAT', 'COMPLETION', 'IMAGE_GENERATION', 'EMBEDDING', '__str__')
+         names      ('__name__', '__module__', '__qualname__', 'CHAT', 'COMPLETION', 'IMAGE_GENERATION', 'EMBEDDING', 'RERANK', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'LLMTypes'
-         firstlineno 13
-         lnotab 0x0a010401040104010402
+         firstlineno 20
+         lnotab 0x0a0104010401040104010402
       'LLMTypes'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code 0x970065005a0164005a0264015a0364025a04640384005a0564045300
-          23           0 RESUME                   0
+          31           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('LLMPromptKeys')
                        8 STORE_NAME               2 (__qualname__)
          
-          24          10 LOAD_CONST               1 ('role')
+          32          10 LOAD_CONST               1 ('role')
                       12 STORE_NAME               3 (ROLE)
          
-          25          14 LOAD_CONST               2 ('content')
+          33          14 LOAD_CONST               2 ('content')
                       16 STORE_NAME               4 (CONTENT)
          
-          27          18 LOAD_CONST               3 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 27>)
+          35          18 LOAD_CONST               3 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 35>)
                       20 MAKE_FUNCTION            0
                       22 STORE_NAME               5 (__str__)
                       24 LOAD_CONST               4 (None)
                       26 RETURN_VALUE
          consts
             'LLMPromptKeys'
             'role'
@@ -338,61 +370,61 @@
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-                27           0 RESUME                   0
+                35           0 RESUME                   0
                
-                28           2 LOAD_GLOBAL              1 (NULL + str)
+                36           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 27
+               firstlineno 35
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', 'ROLE', 'CONTENT', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'LLMPromptKeys'
-         firstlineno 23
+         firstlineno 31
          lnotab 0x0a0104010402
       'LLMPromptKeys'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code 0x970065005a0164005a0264015a0364025a04640384005a0564045300
-          31           0 RESUME                   0
+          39           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('LLMPromptRoles')
                        8 STORE_NAME               2 (__qualname__)
          
-          32          10 LOAD_CONST               1 ('user')
+          40          10 LOAD_CONST               1 ('user')
                       12 STORE_NAME               3 (USER)
          
-          33          14 LOAD_CONST               2 ('assistant')
+          41          14 LOAD_CONST               2 ('assistant')
                       16 STORE_NAME               4 (ASSISTANT)
          
-          35          18 LOAD_CONST               3 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 35>)
+          43          18 LOAD_CONST               3 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 43>)
                       20 MAKE_FUNCTION            0
                       22 STORE_NAME               5 (__str__)
                       24 LOAD_CONST               4 (None)
                       26 RETURN_VALUE
          consts
             'LLMPromptRoles'
             'user'
@@ -401,75 +433,75 @@
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-                35           0 RESUME                   0
+                43           0 RESUME                   0
                
-                36           2 LOAD_GLOBAL              1 (NULL + str)
+                44           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 35
+               firstlineno 43
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', 'USER', 'ASSISTANT', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'LLMPromptRoles'
-         firstlineno 31
+         firstlineno 39
          lnotab 0x0a0104010402
       'LLMPromptRoles'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code
             0x970065005a0164005a0264015a0364025a0464035a0564045a0664055a
             0764065a08640784005a0964085300
-          39           0 RESUME                   0
+          47           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('LLMResponseKeys')
                        8 STORE_NAME               2 (__qualname__)
          
-          40          10 LOAD_CONST               1 ('content')
+          48          10 LOAD_CONST               1 ('content')
                       12 STORE_NAME               3 (CONTENT)
          
-          41          14 LOAD_CONST               2 ('role')
+          49          14 LOAD_CONST               2 ('role')
                       16 STORE_NAME               4 (ROLE)
          
-          42          18 LOAD_CONST               3 ('function_calls')
+          50          18 LOAD_CONST               3 ('function_calls')
                       20 STORE_NAME               5 (FUNCTION_CALLS)
          
-          43          22 LOAD_CONST               4 ('tool_calls')
+          51          22 LOAD_CONST               4 ('tool_calls')
                       24 STORE_NAME               6 (TOOL_CALLS)
          
-          44          26 LOAD_CONST               5 ('finish_reason')
+          52          26 LOAD_CONST               5 ('finish_reason')
                       28 STORE_NAME               7 (FINISH_REASON)
          
-          45          30 LOAD_CONST               6 ('content_filter_results')
+          53          30 LOAD_CONST               6 ('content_filter_results')
                       32 STORE_NAME               8 (CONTENT_FILTER_RESULTS)
          
-          47          34 LOAD_CONST               7 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 47>)
+          55          34 LOAD_CONST               7 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 55>)
                       36 MAKE_FUNCTION            0
                       38 STORE_NAME               9 (__str__)
                       40 LOAD_CONST               8 (None)
                       42 RETURN_VALUE
          consts
             'LLMResponseKeys'
             'content'
@@ -482,223 +514,142 @@
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-                47           0 RESUME                   0
+                55           0 RESUME                   0
                
-                48           2 LOAD_GLOBAL              1 (NULL + str)
+                56           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 47
+               firstlineno 55
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', 'CONTENT', 'ROLE', 'FUNCTION_CALLS', 'TOOL_CALLS', 'FINISH_REASON', 'CONTENT_FILTER_RESULTS', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'LLMResponseKeys'
-         firstlineno 39
+         firstlineno 47
          lnotab 0x0a01040104010401040104010402
       'LLMResponseKeys'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code
-            0x970065005a0164005a0264015a0364025a0464035a05640484005a0664
-            055300
-          51           0 RESUME                   0
+            0x970065005a0164005a0264015a0364025a0464035a0564045a06640584
+            005a0764065300
+          59           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('LLMTokenUsageKeys')
                        8 STORE_NAME               2 (__qualname__)
          
-          52          10 LOAD_CONST               1 ('prompt_tokens')
+          60          10 LOAD_CONST               1 ('prompt_tokens')
                       12 STORE_NAME               3 (PROMPT_TOKENS)
          
-          53          14 LOAD_CONST               2 ('completion_tokens')
+          61          14 LOAD_CONST               2 ('completion_tokens')
                       16 STORE_NAME               4 (COMPLETION_TOKENS)
          
-          54          18 LOAD_CONST               3 ('total_tokens')
+          62          18 LOAD_CONST               3 ('total_tokens')
                       20 STORE_NAME               5 (TOTAL_TOKENS)
          
-          56          22 LOAD_CONST               4 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 56>)
-                      24 MAKE_FUNCTION            0
-                      26 STORE_NAME               6 (__str__)
-                      28 LOAD_CONST               5 (None)
-                      30 RETURN_VALUE
+          63          22 LOAD_CONST               4 ('search_units')
+                      24 STORE_NAME               6 (SEARCH_UNITS)
+         
+          65          26 LOAD_CONST               5 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 65>)
+                      28 MAKE_FUNCTION            0
+                      30 STORE_NAME               7 (__str__)
+                      32 LOAD_CONST               6 (None)
+                      34 RETURN_VALUE
          consts
             'LLMTokenUsageKeys'
             'prompt_tokens'
             'completion_tokens'
             'total_tokens'
+            'search_units'
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-                56           0 RESUME                   0
+                65           0 RESUME                   0
                
-                57           2 LOAD_GLOBAL              1 (NULL + str)
+                66           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 56
+               firstlineno 65
                lnotab 0x0201
             None
-         names      ('__name__', '__module__', '__qualname__', 'PROMPT_TOKENS', 'COMPLETION_TOKENS', 'TOTAL_TOKENS', '__str__')
+         names      ('__name__', '__module__', '__qualname__', 'PROMPT_TOKENS', 'COMPLETION_TOKENS', 'TOTAL_TOKENS', 'SEARCH_UNITS', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'LLMTokenUsageKeys'
-         firstlineno 51
-         lnotab 0x0a01040104010402
+         firstlineno 59
+         lnotab 0x0a010401040104010402
       'LLMTokenUsageKeys'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code
-            0x970065005a0164005a0264015a0364025a0464035a0564045a0664055a
-            0764065a0864075a09640884005a0a64095300
-          60           0 RESUME                   0
-                       2 LOAD_NAME                0 (__name__)
-                       4 STORE_NAME               1 (__module__)
-                       6 LOAD_CONST               0 ('AgiflowSpanKindValues')
-                       8 STORE_NAME               2 (__qualname__)
-         
-          61          10 LOAD_CONST               1 ('workflow')
-                      12 STORE_NAME               3 (WORKFLOW)
-         
-          62          14 LOAD_CONST               2 ('task')
-                      16 STORE_NAME               4 (TASK)
-         
-          63          18 LOAD_CONST               3 ('agent')
-                      20 STORE_NAME               5 (AGENT)
-         
-          64          22 LOAD_CONST               4 ('tool')
-                      24 STORE_NAME               6 (TOOL)
-         
-          65          26 LOAD_CONST               5 ('unknown')
-                      28 STORE_NAME               7 (UNKNOWN)
-         
-          66          30 LOAD_CONST               6 ('Chat')
-                      32 STORE_NAME               8 (CHAT)
-         
-          67          34 LOAD_CONST               7 ('LLM')
-                      36 STORE_NAME               9 (LLM)
-         
-          69          38 LOAD_CONST               8 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 69>)
-                      40 MAKE_FUNCTION            0
-                      42 STORE_NAME              10 (__str__)
-                      44 LOAD_CONST               9 (None)
-                      46 RETURN_VALUE
-         consts
-            'AgiflowSpanKindValues'
-            'workflow'
-            'task'
-            'agent'
-            'tool'
-            'unknown'
-            'Chat'
-            'LLM'
-            code
-               argcount  : 1
-               nlocals   : 1
-               stacksize : 3
-               flags     : 3
-               code
-                  0x97007401000000000000000000007c006a010000000000000000a60100
-                  00ab0100000000000000005300
-                69           0 RESUME                   0
-               
-                70           2 LOAD_GLOBAL              1 (NULL + str)
-                            14 LOAD_FAST                0 (self)
-                            16 LOAD_ATTR                1 (value)
-                            26 PRECALL                  1
-                            30 CALL                     1
-                            40 RETURN_VALUE
-               consts
-                  None
-               names      ('str', 'value')
-               varnames   ('self',)
-               freevars   ()
-               cellvars   ()
-               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
-               name       '__str__'
-               firstlineno 69
-               lnotab 0x0201
-            None
-         names      ('__name__', '__module__', '__qualname__', 'WORKFLOW', 'TASK', 'AGENT', 'TOOL', 'UNKNOWN', 'CHAT', 'LLM', '__str__')
-         varnames   ()
-         freevars   ()
-         cellvars   ()
-         filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
-         name       'AgiflowSpanKindValues'
-         firstlineno 60
-         lnotab 0x0a010401040104010401040104010402
-      'AgiflowSpanKindValues'
-      code
-         argcount  : 0
-         nlocals   : 0
-         stacksize : 1
-         flags     : 0
-         code
             0x970065005a0164005a0264015a0364025a0464035a0564045a06640584
             005a0764065300
-          73           0 RESUME                   0
+          69           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('Event')
                        8 STORE_NAME               2 (__qualname__)
          
-          74          10 LOAD_CONST               1 ('stream.start')
+          70          10 LOAD_CONST               1 ('stream.start')
                       12 STORE_NAME               3 (STREAM_START)
          
-          75          14 LOAD_CONST               2 ('stream.output')
+          71          14 LOAD_CONST               2 ('stream.output')
                       16 STORE_NAME               4 (STREAM_OUTPUT)
          
-          76          18 LOAD_CONST               3 ('stream.end')
+          72          18 LOAD_CONST               3 ('stream.end')
                       20 STORE_NAME               5 (STREAM_END)
          
-          77          22 LOAD_CONST               4 ('response')
+          73          22 LOAD_CONST               4 ('response')
                       24 STORE_NAME               6 (RESPONSE)
          
-          79          26 LOAD_CONST               5 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 79>)
+          75          26 LOAD_CONST               5 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 75>)
                       28 MAKE_FUNCTION            0
                       30 STORE_NAME               7 (__str__)
                       32 LOAD_CONST               6 (None)
                       34 RETURN_VALUE
          consts
             'Event'
             'stream.start'
@@ -709,66 +660,66 @@
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-                79           0 RESUME                   0
+                75           0 RESUME                   0
                
-                80           2 LOAD_GLOBAL              1 (NULL + str)
+                76           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 79
+               firstlineno 75
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', 'STREAM_START', 'STREAM_OUTPUT', 'STREAM_END', 'RESPONSE', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'Event'
-         firstlineno 73
+         firstlineno 69
          lnotab 0x0a010401040104010402
       'Event'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code
             0x970065005a0164005a0264015a0364025a0464035a05640484005a0664
             055300
-          83           0 RESUME                   0
+          79           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('OpenAIMethods')
                        8 STORE_NAME               2 (__qualname__)
          
-          84          10 LOAD_CONST               1 ('openai.chat.completions.create')
+          80          10 LOAD_CONST               1 ('openai.chat.completions.create')
                       12 STORE_NAME               3 (CHAT_COMPLETION)
          
-          85          14 LOAD_CONST               2 ('openai.images.generate')
+          81          14 LOAD_CONST               2 ('openai.images.generate')
                       16 STORE_NAME               4 (IMAGES_GENERATION)
          
-          86          18 LOAD_CONST               3 ('openai.embeddings.create')
+          82          18 LOAD_CONST               3 ('openai.embeddings.create')
                       20 STORE_NAME               5 (EMBEDDINGS_CREATE)
          
-          88          22 LOAD_CONST               4 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 88>)
+          84          22 LOAD_CONST               4 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 84>)
                       24 MAKE_FUNCTION            0
                       26 STORE_NAME               6 (__str__)
                       28 LOAD_CONST               5 (None)
                       30 RETURN_VALUE
          consts
             'OpenAIMethods'
             'openai.chat.completions.create'
@@ -778,84 +729,84 @@
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-                88           0 RESUME                   0
+                84           0 RESUME                   0
                
-                89           2 LOAD_GLOBAL              1 (NULL + str)
+                85           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 88
+               firstlineno 84
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', 'CHAT_COMPLETION', 'IMAGES_GENERATION', 'EMBEDDINGS_CREATE', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'OpenAIMethods'
-         firstlineno 83
+         firstlineno 79
          lnotab 0x0a01040104010402
       'OpenAIMethods'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code
             0x970065005a0164005a0264015a0364025a0464035a0564045a0664055a
             0764065a0864075a0964085a0a64095a0b640a84005a0c640b5300
-          92           0 RESUME                   0
+          88           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('ChromaDBMethods')
                        8 STORE_NAME               2 (__qualname__)
          
-          93          10 LOAD_CONST               1 ('chromadb.collection.add')
+          89          10 LOAD_CONST               1 ('chromadb.collection.add')
                       12 STORE_NAME               3 (ADD)
          
-          94          14 LOAD_CONST               2 ('chromadb.collection.get')
+          90          14 LOAD_CONST               2 ('chromadb.collection.get')
                       16 STORE_NAME               4 (GET)
          
-          95          18 LOAD_CONST               3 ('chromadb.collection.query')
+          91          18 LOAD_CONST               3 ('chromadb.collection.query')
                       20 STORE_NAME               5 (QUERY)
          
-          96          22 LOAD_CONST               4 ('chromadb.collection.delete')
+          92          22 LOAD_CONST               4 ('chromadb.collection.delete')
                       24 STORE_NAME               6 (DELETE)
          
-          97          26 LOAD_CONST               5 ('chromadb.collection.peek')
+          93          26 LOAD_CONST               5 ('chromadb.collection.peek')
                       28 STORE_NAME               7 (PEEK)
          
-          98          30 LOAD_CONST               6 ('chromadb.collection.update')
+          94          30 LOAD_CONST               6 ('chromadb.collection.update')
                       32 STORE_NAME               8 (UPDATE)
          
-          99          34 LOAD_CONST               7 ('chromadb.collection.upsert')
+          95          34 LOAD_CONST               7 ('chromadb.collection.upsert')
                       36 STORE_NAME               9 (UPSERT)
          
-         100          38 LOAD_CONST               8 ('chromadb.collection.modify')
+          96          38 LOAD_CONST               8 ('chromadb.collection.modify')
                       40 STORE_NAME              10 (MODIFY)
          
-         101          42 LOAD_CONST               9 ('chromadb.collection.count')
+          97          42 LOAD_CONST               9 ('chromadb.collection.count')
                       44 STORE_NAME              11 (COUNT)
          
-         103          46 LOAD_CONST              10 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 103>)
+          99          46 LOAD_CONST              10 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 99>)
                       48 MAKE_FUNCTION            0
                       50 STORE_NAME              12 (__str__)
                       52 LOAD_CONST              11 (None)
                       54 RETURN_VALUE
          consts
             'ChromaDBMethods'
             'chromadb.collection.add'
@@ -871,109 +822,109 @@
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-               103           0 RESUME                   0
+                99           0 RESUME                   0
                
-               104           2 LOAD_GLOBAL              1 (NULL + str)
+               100           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 103
+               firstlineno 99
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', 'ADD', 'GET', 'QUERY', 'DELETE', 'PEEK', 'UPDATE', 'UPSERT', 'MODIFY', 'COUNT', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'ChromaDBMethods'
-         firstlineno 92
+         firstlineno 88
          lnotab 0x0a01040104010401040104010401040104010402
       'ChromaDBMethods'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code
             0x970065005a0164005a0264015a0364025a0464035a0564045a0664055a
             0764065a0864075a0964085a0a64095a0b640a5a0c640b5a0d640c5a0e64
             0d5a0f640e5a10640f5a1164105a1264115a13641284005a1464135300
-         107           0 RESUME                   0
+         103           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('QdrantDBMethods')
                        8 STORE_NAME               2 (__qualname__)
          
-         108          10 LOAD_CONST               1 ('qdrantdb.add')
+         104          10 LOAD_CONST               1 ('qdrantdb.add')
                       12 STORE_NAME               3 (ADD)
          
-         109          14 LOAD_CONST               2 ('qdrantdb.get_collection')
+         105          14 LOAD_CONST               2 ('qdrantdb.get_collection')
                       16 STORE_NAME               4 (GET_COLLECTION)
          
-         110          18 LOAD_CONST               3 ('qdrantdb.get_collections')
+         106          18 LOAD_CONST               3 ('qdrantdb.get_collections')
                       20 STORE_NAME               5 (GET_COLLECTIONS)
          
-         111          22 LOAD_CONST               4 ('qdrantdb.query')
+         107          22 LOAD_CONST               4 ('qdrantdb.query')
                       24 STORE_NAME               6 (QUERY)
          
-         112          26 LOAD_CONST               5 ('qdrantdb.query_batch')
+         108          26 LOAD_CONST               5 ('qdrantdb.query_batch')
                       28 STORE_NAME               7 (QUERY_BATCH)
          
-         113          30 LOAD_CONST               6 ('qdrantdb.delete')
+         109          30 LOAD_CONST               6 ('qdrantdb.delete')
                       32 STORE_NAME               8 (DELETE)
          
-         114          34 LOAD_CONST               7 ('qdrantdb.discover')
+         110          34 LOAD_CONST               7 ('qdrantdb.discover')
                       36 STORE_NAME               9 (DISCOVER)
          
-         115          38 LOAD_CONST               8 ('qdrantdb.discover_batch')
+         111          38 LOAD_CONST               8 ('qdrantdb.discover_batch')
                       40 STORE_NAME              10 (DISCOVER_BATCH)
          
-         116          42 LOAD_CONST               9 ('qdrantdb.recommend')
+         112          42 LOAD_CONST               9 ('qdrantdb.recommend')
                       44 STORE_NAME              11 (RECOMMEND)
          
-         117          46 LOAD_CONST              10 ('qdrantdb.recommend_batch')
+         113          46 LOAD_CONST              10 ('qdrantdb.recommend_batch')
                       48 STORE_NAME              12 (RECOMMEND_BATCH)
          
-         118          50 LOAD_CONST              11 ('qdrantdb.retrieve')
+         114          50 LOAD_CONST              11 ('qdrantdb.retrieve')
                       52 STORE_NAME              13 (RETRIEVE)
          
-         119          54 LOAD_CONST              12 ('qdrantdb.search')
+         115          54 LOAD_CONST              12 ('qdrantdb.search')
                       56 STORE_NAME              14 (SEARCH)
          
-         120          58 LOAD_CONST              13 ('qdrantdb.search_batch')
+         116          58 LOAD_CONST              13 ('qdrantdb.search_batch')
                       60 STORE_NAME              15 (SEARCH_BATCH)
          
-         121          62 LOAD_CONST              14 ('qdrantdb.upsert')
+         117          62 LOAD_CONST              14 ('qdrantdb.upsert')
                       64 STORE_NAME              16 (UPSERT)
          
-         122          66 LOAD_CONST              15 ('qdrantdb.count')
+         118          66 LOAD_CONST              15 ('qdrantdb.count')
                       68 STORE_NAME              17 (COUNT)
          
-         123          70 LOAD_CONST              16 ('qdrantdb.update_collection')
+         119          70 LOAD_CONST              16 ('qdrantdb.update_collection')
                       72 STORE_NAME              18 (UPDATE_COLLECTION)
          
-         124          74 LOAD_CONST              17 ('qdrantdb.update_vectors')
+         120          74 LOAD_CONST              17 ('qdrantdb.update_vectors')
                       76 STORE_NAME              19 (UPDATE_VECTORS)
          
-         126          78 LOAD_CONST              18 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 126>)
+         122          78 LOAD_CONST              18 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 122>)
                       80 MAKE_FUNCTION            0
                       82 STORE_NAME              20 (__str__)
                       84 LOAD_CONST              19 (None)
                       86 RETURN_VALUE
          consts
             'QdrantDBMethods'
             'qdrantdb.add'
@@ -997,68 +948,68 @@
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-               126           0 RESUME                   0
+               122           0 RESUME                   0
                
-               127           2 LOAD_GLOBAL              1 (NULL + str)
+               123           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 126
+               firstlineno 122
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', 'ADD', 'GET_COLLECTION', 'GET_COLLECTIONS', 'QUERY', 'QUERY_BATCH', 'DELETE', 'DISCOVER', 'DISCOVER_BATCH', 'RECOMMEND', 'RECOMMEND_BATCH', 'RETRIEVE', 'SEARCH', 'SEARCH_BATCH', 'UPSERT', 'COUNT', 'UPDATE_COLLECTION', 'UPDATE_VECTORS', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'QdrantDBMethods'
-         firstlineno 107
+         firstlineno 103
          lnotab
             0x0a01040104010401040104010401040104010401040104010401040104
             01040104010402
       'QdrantDBMethods'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 1
          flags     : 0
          code
             0x970065005a0164005a0264015a0364025a0464035a05640484005a0664
             055300
-         130           0 RESUME                   0
+         126           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('PineconeMethods')
                        8 STORE_NAME               2 (__qualname__)
          
-         131          10 LOAD_CONST               1 ('pinecone.index.upsert')
+         127          10 LOAD_CONST               1 ('pinecone.index.upsert')
                       12 STORE_NAME               3 (UPSERT)
          
-         132          14 LOAD_CONST               2 ('pinecone.index.query')
+         128          14 LOAD_CONST               2 ('pinecone.index.query')
                       16 STORE_NAME               4 (QUERY)
          
-         133          18 LOAD_CONST               3 ('pinecone.index.delete')
+         129          18 LOAD_CONST               3 ('pinecone.index.delete')
                       20 STORE_NAME               5 (DELETE)
          
-         135          22 LOAD_CONST               4 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 135>)
+         131          22 LOAD_CONST               4 (<code object __str__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py", line 131>)
                       24 MAKE_FUNCTION            0
                       26 STORE_NAME               6 (__str__)
                       28 LOAD_CONST               5 (None)
                       30 RETURN_VALUE
          consts
             'PineconeMethods'
             'pinecone.index.upsert'
@@ -1068,44 +1019,111 @@
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab0100000000000000005300
-               135           0 RESUME                   0
+               131           0 RESUME                   0
                
-               136           2 LOAD_GLOBAL              1 (NULL + str)
+               132           2 LOAD_GLOBAL              1 (NULL + str)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (value)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 RETURN_VALUE
                consts
                   None
                names      ('str', 'value')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
                name       '__str__'
-               firstlineno 135
+               firstlineno 131
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', 'UPSERT', 'QUERY', 'DELETE', '__str__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
          name       'PineconeMethods'
-         firstlineno 130
+         firstlineno 126
          lnotab 0x0a01040104010402
       'PineconeMethods'
+      code
+         argcount  : 0
+         nlocals   : 0
+         stacksize : 1
+         flags     : 0
+         code
+            0x970065005a0164005a0264015a0364025a0464035a0564045a0664055a
+            0764065a0864075a0964085a0a64095a0b640a5a0c640b5300
+         135           0 RESUME                   0
+                       2 LOAD_NAME                0 (__name__)
+                       4 STORE_NAME               1 (__module__)
+                       6 LOAD_CONST               0 ('WeaviateMethods')
+                       8 STORE_NAME               2 (__qualname__)
+         
+         136          10 LOAD_CONST               1 ('weaviate.collections.queries.bm25')
+                      12 STORE_NAME               3 (QUERY_BM25)
+         
+         137          14 LOAD_CONST               2 ('weaviate.collections.queries.fetch_object_by_id')
+                      16 STORE_NAME               4 (QUERY_FETCH_OBJECT_BY_ID)
+         
+         138          18 LOAD_CONST               3 ('weaviate.collections.queries.fetch_objects')
+                      20 STORE_NAME               5 (QUERY_FETCH_OBJECTS)
+         
+         139          22 LOAD_CONST               4 ('weaviate.collections.queries.hybrid')
+                      24 STORE_NAME               6 (QUERY_HYBRID)
+         
+         140          26 LOAD_CONST               5 ('weaviate.collections.queries.near_image')
+                      28 STORE_NAME               7 (QUERY_NEAR_IMAGE)
+         
+         141          30 LOAD_CONST               6 ('weaviate.collections.queries.near_media')
+                      32 STORE_NAME               8 (QUERY_NEAR_MEDIA)
+         
+         142          34 LOAD_CONST               7 ('weaviate.collections.queries.near_object')
+                      36 STORE_NAME               9 (QUERY_NEAR_OBJECT)
+         
+         143          38 LOAD_CONST               8 ('weaviate.collections.queries.near_text')
+                      40 STORE_NAME              10 (QUERY_NEAR_TEXT)
+         
+         144          42 LOAD_CONST               9 ('weaviate.collections.queries.near_vector')
+                      44 STORE_NAME              11 (QUERY_NEAR_VECTOR)
+         
+         145          46 LOAD_CONST              10 ('weaviate.collections.collections')
+                      48 STORE_NAME              12 (COLLECTIONS_OPERATIONS)
+                      50 LOAD_CONST              11 (None)
+                      52 RETURN_VALUE
+         consts
+            'WeaviateMethods'
+            'weaviate.collections.queries.bm25'
+            'weaviate.collections.queries.fetch_object_by_id'
+            'weaviate.collections.queries.fetch_objects'
+            'weaviate.collections.queries.hybrid'
+            'weaviate.collections.queries.near_image'
+            'weaviate.collections.queries.near_media'
+            'weaviate.collections.queries.near_object'
+            'weaviate.collections.queries.near_text'
+            'weaviate.collections.queries.near_vector'
+            'weaviate.collections.collections'
+            None
+         names      ('__name__', '__module__', '__qualname__', 'QUERY_BM25', 'QUERY_FETCH_OBJECT_BY_ID', 'QUERY_FETCH_OBJECTS', 'QUERY_HYBRID', 'QUERY_NEAR_IMAGE', 'QUERY_NEAR_MEDIA', 'QUERY_NEAR_OBJECT', 'QUERY_NEAR_TEXT', 'QUERY_NEAR_VECTOR', 'COLLECTIONS_OPERATIONS')
+         varnames   ()
+         freevars   ()
+         cellvars   ()
+         filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
+         name       'WeaviateMethods'
+         firstlineno 135
+         lnotab 0x0a01040104010401040104010401040104010401
+      'WeaviateMethods'
       None
-   names      ('enum', 'Enum', 'str', 'AgiflowServiceTypes', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'AgiflowSpanKindValues', 'Event', 'OpenAIMethods', 'ChromaDBMethods', 'QdrantDBMethods', 'PineconeMethods')
+   names      ('enum', 'Enum', 'str', 'AgiflowServiceTypes', 'LLMTypes', 'LLMPromptKeys', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'Event', 'OpenAIMethods', 'ChromaDBMethods', 'QdrantDBMethods', 'PineconeMethods', 'WeaviateMethods')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/constants.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010c031e091e0a1e081e081e0c1e091e0d1e0a1e091e0f1e17
+   lnotab 0x00ff02010c031e101e0b1e081e081e0c1e0a1e0a1e091e0f1e171e09
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/framework_span_attributes.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/framework_span_attributes.cpython-311.pyc`

 * *Files 4% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0x741c5966 (Fri May 31 00:40:20 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 875
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 16777216
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/__pycache__/llm_span_attributes.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/__pycache__/llm_span_attributes.cpython-311.pyc`

 * *Files 8% similar despite different names*

#### Python bytecode

```diff
@@ -1,10 +1,10 @@
 magic:    0xa70d0d0a
-moddate:  0x907c5966 (Fri May 31 07:30:24 2024 UTC)
-files sz: 5855
+moddate:  0x43985a66 (Sat Jun  1 03:40:51 2024 UTC)
+files sz: 6050
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 16777216
    code
       0x9700640064016c006d015a010100640064026c026d035a030100640064
@@ -46,17 +46,17 @@
                 54 LOAD_CONST               5 (<code object LLMSpanAttributes, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/llm_span_attributes.py", line 9>)
                 56 MAKE_FUNCTION            0
                 58 LOAD_CONST               6 ('LLMSpanAttributes')
                 60 PRECALL                  2
                 64 CALL                     2
                 74 STORE_NAME               8 (LLMSpanAttributes)
    
-    54          76 PUSH_NULL
+    56          76 PUSH_NULL
                 78 LOAD_BUILD_CLASS
-                80 LOAD_CONST               7 (<code object LLMSpanAttributesValidator, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/llm_span_attributes.py", line 54>)
+                80 LOAD_CONST               7 (<code object LLMSpanAttributesValidator, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/llm_span_attributes.py", line 56>)
                 82 MAKE_FUNCTION            0
                 84 LOAD_CONST               8 ('LLMSpanAttributesValidator')
                 86 LOAD_NAME                7 (AgiflowSpanAttributesValidator)
                 88 PRECALL                  3
                 92 CALL                     3
                102 STORE_NAME               9 (LLMSpanAttributesValidator)
                104 LOAD_CONST               9 (None)
@@ -75,15 +75,15 @@
          code
             0x970065005a0164005a0264015a0364025a0464035a0564045a0664055a
             0764065a0864075a0964085a0a64095a0b640a5a0c640b5a0d640c5a0e64
             0d5a0f640e5a10640f5a1164105a1264115a1364125a1464135a1564145a
             1664155a1764165a1864175a1964185a1a64195a1b641a5a1c641b5a1d64
             1c5a1e641d5a1f641e5a20641f5a2164205a2264215a2364225a2464235a
             2564245a2664255a2764265a2864275a2964285a2a64295a2b642a5a2c64
-            2b5300
+            2b5a2d642c5300
            9           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('LLMSpanAttributes')
                        8 STORE_NAME               2 (__qualname__)
          
           10          10 LOAD_CONST               1 ('openai.api_base')
@@ -103,129 +103,133 @@
          
           15          30 LOAD_CONST               6 ('llm.model')
                       32 STORE_NAME               8 (LLM_MODEL)
          
           16          34 LOAD_CONST               7 ('llm.type')
                       36 STORE_NAME               9 (LLM_TYPE)
          
-          17          38 LOAD_CONST               8 ('llm.temperature')
-                      40 STORE_NAME              10 (LLM_TEMPERATURE)
+          18          38 LOAD_CONST               8 ('llm.wrapper')
+                      40 STORE_NAME              10 (LLM_WRAPPER)
          
-          18          42 LOAD_CONST               9 ('llm.top_p')
-                      44 STORE_NAME              11 (LLM_TOP_P)
+          19          42 LOAD_CONST               9 ('llm.temperature')
+                      44 STORE_NAME              11 (LLM_TEMPERATURE)
          
-          19          46 LOAD_CONST              10 ('llm.top_k')
-                      48 STORE_NAME              12 (LLM_TOP_K)
+          20          46 LOAD_CONST              10 ('llm.top_p')
+                      48 STORE_NAME              12 (LLM_TOP_P)
          
-          20          50 LOAD_CONST              11 ('llm.user')
-                      52 STORE_NAME              13 (LLM_USER)
+          21          50 LOAD_CONST              11 ('llm.top_k')
+                      52 STORE_NAME              13 (LLM_TOP_K)
          
-          21          54 LOAD_CONST              12 ('llm.system.fingerprint')
-                      56 STORE_NAME              14 (LLM_SYSTEM_FINGERPRINT)
+          22          54 LOAD_CONST              12 ('llm.user')
+                      56 STORE_NAME              14 (LLM_USER)
          
-          22          58 LOAD_CONST              13 ('llm.prompts')
-                      60 STORE_NAME              15 (LLM_PROMPTS)
+          23          58 LOAD_CONST              13 ('llm.system.fingerprint')
+                      60 STORE_NAME              15 (LLM_SYSTEM_FINGERPRINT)
          
-          23          62 LOAD_CONST              14 ('llm.responses')
-                      64 STORE_NAME              16 (LLM_RESPONSES)
+          24          62 LOAD_CONST              14 ('llm.prompts')
+                      64 STORE_NAME              16 (LLM_PROMPTS)
          
-          24          66 LOAD_CONST              15 ('llm.token.counts')
-                      68 STORE_NAME              17 (LLM_TOKEN_COUNTS)
+          25          66 LOAD_CONST              15 ('llm.responses')
+                      68 STORE_NAME              17 (LLM_RESPONSES)
          
-          25          70 LOAD_CONST              16 ('llm.stream')
-                      72 STORE_NAME              18 (LLM_STREAM)
+          26          70 LOAD_CONST              16 ('llm.token.counts')
+                      72 STORE_NAME              18 (LLM_TOKEN_COUNTS)
          
-          26          74 LOAD_CONST              17 ('llm.encoding.format')
-                      76 STORE_NAME              19 (LLM_ENCODING_FORMAT)
+          27          74 LOAD_CONST              17 ('llm.stream')
+                      76 STORE_NAME              19 (LLM_STREAM)
          
-          27          78 LOAD_CONST              18 ('llm.dimensions')
-                      80 STORE_NAME              20 (LLM_DIMENSIONS)
+          28          78 LOAD_CONST              18 ('llm.encoding.format')
+                      80 STORE_NAME              20 (LLM_ENCODING_FORMAT)
          
-          28          82 LOAD_CONST              19 ('llm.generation_id')
-                      84 STORE_NAME              21 (LLM_GENERATION_ID)
+          29          82 LOAD_CONST              19 ('llm.dimensions')
+                      84 STORE_NAME              21 (LLM_DIMENSIONS)
          
-          29          86 LOAD_CONST              20 ('llm.response_id')
-                      88 STORE_NAME              22 (LLM_RESPONSE_ID)
+          30          86 LOAD_CONST              20 ('llm.generation_id')
+                      88 STORE_NAME              22 (LLM_GENERATION_ID)
          
-          30          90 LOAD_CONST              21 ('llm.citations')
-                      92 STORE_NAME              23 (LLM_CITATIONS)
+          31          90 LOAD_CONST              21 ('llm.response_id')
+                      92 STORE_NAME              23 (LLM_RESPONSE_ID)
          
-          31          94 LOAD_CONST              22 ('llm.documents')
-                      96 STORE_NAME              24 (LLM_DOCUMENTS)
+          32          94 LOAD_CONST              22 ('llm.citations')
+                      96 STORE_NAME              24 (LLM_CITATIONS)
          
-          32          98 LOAD_CONST              23 ('llm.is_search_required')
-                     100 STORE_NAME              25 (LLM_IS_SEARCH_REQUIRED)
+          33          98 LOAD_CONST              23 ('llm.documents')
+                     100 STORE_NAME              25 (LLM_DOCUMENTS)
          
-          33         102 LOAD_CONST              24 ('llm.search_results')
-                     104 STORE_NAME              26 (LLM_SEARCH_RESULTS)
+          34         102 LOAD_CONST              24 ('llm.is_search_required')
+                     104 STORE_NAME              26 (LLM_IS_SEARCH_REQUIRED)
          
-          34         106 LOAD_CONST              25 ('llm.tool_calls')
-                     108 STORE_NAME              27 (LLM_TOOL_CALLS)
+          35         106 LOAD_CONST              25 ('llm.search_results')
+                     108 STORE_NAME              27 (LLM_SEARCH_RESULTS)
          
-          35         110 LOAD_CONST              26 ('llm.max_tokens')
-                     112 STORE_NAME              28 (LLM_MAX_TOKENS)
+          36         110 LOAD_CONST              26 ('llm.tool_calls')
+                     112 STORE_NAME              28 (LLM_TOOL_CALLS)
          
-          36         114 LOAD_CONST              27 ('llm.max_input_tokens')
-                     116 STORE_NAME              29 (LLM_MAX_INPUT_TOKENS)
+          37         114 LOAD_CONST              27 ('llm.max_tokens')
+                     116 STORE_NAME              29 (LLM_MAX_TOKENS)
          
-          37         118 LOAD_CONST              28 ('llm.conversation_id')
-                     120 STORE_NAME              30 (LLM_CONVERSATION_ID)
+          38         118 LOAD_CONST              28 ('llm.max_input_tokens')
+                     120 STORE_NAME              30 (LLM_MAX_INPUT_TOKENS)
          
-          38         122 LOAD_CONST              29 ('llm.seed')
-                     124 STORE_NAME              31 (LLM_SEED)
+          39         122 LOAD_CONST              29 ('llm.conversation_id')
+                     124 STORE_NAME              31 (LLM_CONVERSATION_ID)
          
-          39         126 LOAD_CONST              30 ('llm.frequency_penalty')
-                     128 STORE_NAME              32 (LLM_FREQUENCY_PENALTY)
+          40         126 LOAD_CONST              30 ('llm.seed')
+                     128 STORE_NAME              32 (LLM_SEED)
          
-          40         130 LOAD_CONST              31 ('llm.presence_penalty')
-                     132 STORE_NAME              33 (LLM_PRESENCE_PENALTY)
+          41         130 LOAD_CONST              31 ('llm.frequency_penalty')
+                     132 STORE_NAME              33 (LLM_FREQUENCY_PENALTY)
          
-          41         134 LOAD_CONST              32 ('llm.connectors')
-                     136 STORE_NAME              34 (LLM_CONNECTORS)
+          42         134 LOAD_CONST              32 ('llm.presence_penalty')
+                     136 STORE_NAME              34 (LLM_PRESENCE_PENALTY)
          
-          42         138 LOAD_CONST              33 ('llm.tools')
-                     140 STORE_NAME              35 (LLM_TOOLS)
+          43         138 LOAD_CONST              33 ('llm.connectors')
+                     140 STORE_NAME              35 (LLM_CONNECTORS)
          
-          43         142 LOAD_CONST              34 ('llm.tool_results')
-                     144 STORE_NAME              36 (LLM_TOOL_RESULTS)
+          44         142 LOAD_CONST              34 ('llm.tools')
+                     144 STORE_NAME              36 (LLM_TOOLS)
          
-          44         146 LOAD_CONST              35 ('llm.embedding_inputs')
-                     148 STORE_NAME              37 (LLM_EMBEDDING_INPUTS)
+          45         146 LOAD_CONST              35 ('llm.tool_results')
+                     148 STORE_NAME              37 (LLM_TOOL_RESULTS)
          
-          45         150 LOAD_CONST              36 ('llm.embedding_dataset_id')
-                     152 STORE_NAME              38 (LLM_EMBEDDING_DATASET_ID)
+          46         150 LOAD_CONST              36 ('llm.embedding_inputs')
+                     152 STORE_NAME              38 (LLM_EMBEDDING_INPUTS)
          
-          46         154 LOAD_CONST              37 ('llm.embedding_input_type')
-                     156 STORE_NAME              39 (LLM_EMBEDDING_INPUT_TYPE)
+          47         154 LOAD_CONST              37 ('llm.embedding_dataset_id')
+                     156 STORE_NAME              39 (LLM_EMBEDDING_DATASET_ID)
          
-          47         158 LOAD_CONST              38 ('llm.embedding_job_name')
-                     160 STORE_NAME              40 (LLM_EMBEDDING_JOB_NAME)
+          48         158 LOAD_CONST              38 ('llm.embedding_input_type')
+                     160 STORE_NAME              40 (LLM_EMBEDDING_INPUT_TYPE)
          
-          48         162 LOAD_CONST              39 ('llm.retrieval.query')
-                     164 STORE_NAME              41 (LLM_RETRIEVAL_QUERY)
+          49         162 LOAD_CONST              39 ('llm.embedding_job_name')
+                     164 STORE_NAME              41 (LLM_EMBEDDING_JOB_NAME)
          
-          49         166 LOAD_CONST              40 ('llm.retrieval.results')
-                     168 STORE_NAME              42 (LLM_RETRIEVAL_RESULTS)
+          50         166 LOAD_CONST              40 ('llm.retrieval.query')
+                     168 STORE_NAME              42 (LLM_RETRIEVAL_QUERY)
          
-          50         170 LOAD_CONST              41 ('http.max.retries')
-                     172 STORE_NAME              43 (HTTP_MAX_RETRIES)
+          51         170 LOAD_CONST              41 ('llm.retrieval.results')
+                     172 STORE_NAME              43 (LLM_RETRIEVAL_RESULTS)
          
-          51         174 LOAD_CONST              42 ('http.timeout')
-                     176 STORE_NAME              44 (HTTP_TIMEOUT)
-                     178 LOAD_CONST              43 (None)
-                     180 RETURN_VALUE
+          52         174 LOAD_CONST              42 ('http.max.retries')
+                     176 STORE_NAME              44 (HTTP_MAX_RETRIES)
+         
+          53         178 LOAD_CONST              43 ('http.timeout')
+                     180 STORE_NAME              45 (HTTP_TIMEOUT)
+                     182 LOAD_CONST              44 (None)
+                     184 RETURN_VALUE
          consts
             'LLMSpanAttributes'
             'openai.api_base'
             'openai.api_version'
             'openai.api_type'
             'url.full'
             'llm.api'
             'llm.model'
             'llm.type'
+            'llm.wrapper'
             'llm.temperature'
             'llm.top_p'
             'llm.top_k'
             'llm.user'
             'llm.system.fingerprint'
             'llm.prompts'
             'llm.responses'
@@ -254,720 +258,736 @@
             'llm.embedding_input_type'
             'llm.embedding_job_name'
             'llm.retrieval.query'
             'llm.retrieval.results'
             'http.max.retries'
             'http.timeout'
             None
-         names      ('__name__', '__module__', '__qualname__', 'OPENAI_API_BASE', 'OPENAI_API_VERSION', 'OPENAI_API_TYPE', 'URL_FULL', 'LLM_API', 'LLM_MODEL', 'LLM_TYPE', 'LLM_TEMPERATURE', 'LLM_TOP_P', 'LLM_TOP_K', 'LLM_USER', 'LLM_SYSTEM_FINGERPRINT', 'LLM_PROMPTS', 'LLM_RESPONSES', 'LLM_TOKEN_COUNTS', 'LLM_STREAM', 'LLM_ENCODING_FORMAT', 'LLM_DIMENSIONS', 'LLM_GENERATION_ID', 'LLM_RESPONSE_ID', 'LLM_CITATIONS', 'LLM_DOCUMENTS', 'LLM_IS_SEARCH_REQUIRED', 'LLM_SEARCH_RESULTS', 'LLM_TOOL_CALLS', 'LLM_MAX_TOKENS', 'LLM_MAX_INPUT_TOKENS', 'LLM_CONVERSATION_ID', 'LLM_SEED', 'LLM_FREQUENCY_PENALTY', 'LLM_PRESENCE_PENALTY', 'LLM_CONNECTORS', 'LLM_TOOLS', 'LLM_TOOL_RESULTS', 'LLM_EMBEDDING_INPUTS', 'LLM_EMBEDDING_DATASET_ID', 'LLM_EMBEDDING_INPUT_TYPE', 'LLM_EMBEDDING_JOB_NAME', 'LLM_RETRIEVAL_QUERY', 'LLM_RETRIEVAL_RESULTS', 'HTTP_MAX_RETRIES', 'HTTP_TIMEOUT')
+         names      ('__name__', '__module__', '__qualname__', 'OPENAI_API_BASE', 'OPENAI_API_VERSION', 'OPENAI_API_TYPE', 'URL_FULL', 'LLM_API', 'LLM_MODEL', 'LLM_TYPE', 'LLM_WRAPPER', 'LLM_TEMPERATURE', 'LLM_TOP_P', 'LLM_TOP_K', 'LLM_USER', 'LLM_SYSTEM_FINGERPRINT', 'LLM_PROMPTS', 'LLM_RESPONSES', 'LLM_TOKEN_COUNTS', 'LLM_STREAM', 'LLM_ENCODING_FORMAT', 'LLM_DIMENSIONS', 'LLM_GENERATION_ID', 'LLM_RESPONSE_ID', 'LLM_CITATIONS', 'LLM_DOCUMENTS', 'LLM_IS_SEARCH_REQUIRED', 'LLM_SEARCH_RESULTS', 'LLM_TOOL_CALLS', 'LLM_MAX_TOKENS', 'LLM_MAX_INPUT_TOKENS', 'LLM_CONVERSATION_ID', 'LLM_SEED', 'LLM_FREQUENCY_PENALTY', 'LLM_PRESENCE_PENALTY', 'LLM_CONNECTORS', 'LLM_TOOLS', 'LLM_TOOL_RESULTS', 'LLM_EMBEDDING_INPUTS', 'LLM_EMBEDDING_DATASET_ID', 'LLM_EMBEDDING_INPUT_TYPE', 'LLM_EMBEDDING_JOB_NAME', 'LLM_RETRIEVAL_QUERY', 'LLM_RETRIEVAL_RESULTS', 'HTTP_MAX_RETRIES', 'HTTP_TIMEOUT')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/llm_span_attributes.py'
          name       'LLMSpanAttributes'
          firstlineno 9
          lnotab
-            0x0a01040104010401040104010401040104010401040104010401040104
+            0x0a01040104010401040104010401040204010401040104010401040104
             010401040104010401040104010401040104010401040104010401040104
-            01040104010401040104010401040104010401040104010401
+            010401040104010401040104010401040104010401040104010401
       'LLMSpanAttributes'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 4
          flags     : 16777216
          code
             0x970065005a0164005a02550002006503640165046a0500000000000000
             00ac02a6020000ab0200000000000000005a056403650664043c00000002
             006503640165046a070000000000000000ac02a6020000ab020000000000
             0000005a086403650664053c00000002006503640165046a090000000000
             000000ac02a6020000ab0200000000000000005a096403650664063c0000
             0002006503640165046a0a0000000000000000ac02a6020000ab02000000
-            00000000005a0a6407650664083c00000002006503640165046a0b000000
-            0000000000ac02a6020000ab0200000000000000005a0b6407650664093c
+            00000000005a0a6403650664073c00000002006503640165046a0b000000
+            0000000000ac02a6020000ab0200000000000000005a0b6403650664083c
             00000002006503640165046a0c0000000000000000ac02a6020000ab0200
-            000000000000005a0c64036506640a3c00000002006503640165046a0d00
+            000000000000005a0c64096506640a3c00000002006503640165046a0d00
             00000000000000ac02a6020000ab0200000000000000005a0d6403650664
             0b3c00000002006503640165046a0e0000000000000000ac02a6020000ab
-            0200000000000000005a0e640c6506640d3c00000002006503640165046a
-            0f0000000000000000ac02a6020000ab0200000000000000005a0f640c65
+            0200000000000000005a0e64036506640c3c00000002006503640165046a
+            0f0000000000000000ac02a6020000ab0200000000000000005a0f640d65
             06640e3c00000002006503640165046a100000000000000000ac02a60200
-            00ab0200000000000000005a10640c6506640f3c00000002006503640165
+            00ab0200000000000000005a10640d6506640f3c00000002006503640165
             046a110000000000000000ac02a6020000ab0200000000000000005a1164
-            03650664103c00000002006503640165046a120000000000000000ac02a6
+            0d650664103c00000002006503640165046a120000000000000000ac02a6
             020000ab0200000000000000005a126403650664113c0000000200650364
             0165046a130000000000000000ac02a6020000ab0200000000000000005a
             136403650664123c00000002006503640165046a140000000000000000ac
             02a6020000ab0200000000000000005a146403650664133c000000020065
             03640165046a150000000000000000ac02a6020000ab0200000000000000
             005a156403650664143c00000002006503640165046a1600000000000000
-            00ac02a6020000ab0200000000000000005a166415650664163c00000002
+            00ac02a6020000ab0200000000000000005a166403650664153c00000002
             006503640165046a170000000000000000ac02a6020000ab020000000000
-            0000005a186403650664173c00000002006503640165046a190000000000
-            000000ac02a6020000ab0200000000000000005a196403650664183c0000
+            0000005a176409650664163c00000002006503640165046a180000000000
+            000000ac02a6020000ab0200000000000000005a196403650664173c0000
             0002006503640165046a1a0000000000000000ac02a6020000ab02000000
-            00000000005a1a6403650664193c00000002006503640165046a1b000000
-            0000000000ac02a6020000ab0200000000000000005a1b64036506641a3c
+            00000000005a1a6403650664183c00000002006503640165046a1b000000
+            0000000000ac02a6020000ab0200000000000000005a1b6403650664193c
             00000002006503640165046a1c0000000000000000ac02a6020000ab0200
-            000000000000005a1c64036506641b3c00000002006503640165046a1d00
+            000000000000005a1c64036506641a3c00000002006503640165046a1d00
             00000000000000ac02a6020000ab0200000000000000005a1d6403650664
-            1c3c00000002006503640165046a1e0000000000000000ac02a6020000ab
-            0200000000000000005a1f64156506641d3c00000002006503640165046a
-            200000000000000000ac02a6020000ab0200000000000000005a20640365
-            06641e3c00000002006503640165046a210000000000000000ac02a60200
-            00ab0200000000000000005a2164036506641f3c00000002006503640165
+            1b3c00000002006503640165046a1e0000000000000000ac02a6020000ab
+            0200000000000000005a1e64036506641c3c00000002006503640165046a
+            1f0000000000000000ac02a6020000ab0200000000000000005a20640965
+            06641d3c00000002006503640165046a210000000000000000ac02a60200
+            00ab0200000000000000005a2164036506641e3c00000002006503640165
             046a220000000000000000ac02a6020000ab0200000000000000005a2264
-            20650664213c00000002006503640165046a230000000000000000ac02a6
-            020000ab0200000000000000005a236403650664223c0000000200650364
+            036506641f3c00000002006503640165046a230000000000000000ac02a6
+            020000ab0200000000000000005a236420650664213c0000000200650364
             0165046a240000000000000000ac02a6020000ab0200000000000000005a
-            246403650664233c00000002006503640165046a250000000000000000ac
-            02a6020000ab0200000000000000005a256403650664243c000000020065
+            246403650664223c00000002006503640165046a250000000000000000ac
+            02a6020000ab0200000000000000005a256403650664233c000000020065
             03640165046a260000000000000000ac02a6020000ab0200000000000000
-            005a266403650664253c00000002006503640165046a2700000000000000
-            00ac02a6020000ab0200000000000000005a276403650664263c00000002
+            005a266403650664243c00000002006503640165046a2700000000000000
+            00ac02a6020000ab0200000000000000005a276403650664253c00000002
             006503640165046a280000000000000000ac02a6020000ab020000000000
-            0000005a286403650664273c00000002006503640165046a290000000000
-            000000ac02a6020000ab0200000000000000005a296403650664283c0000
+            0000005a286403650664263c00000002006503640165046a290000000000
+            000000ac02a6020000ab0200000000000000005a296403650664273c0000
             0002006503640165046a2a0000000000000000ac02a6020000ab02000000
-            00000000005a2a6403650664293c00000002006503640165046a2b000000
-            0000000000ac02a6020000ab0200000000000000005a2b64036506642a3c
+            00000000005a2a6403650664283c00000002006503640165046a2b000000
+            0000000000ac02a6020000ab0200000000000000005a2b6403650664293c
             00000002006503640165046a2c0000000000000000ac02a6020000ab0200
-            000000000000005a2c64036506642b3c00000002006503640165046a2d00
+            000000000000005a2c64036506642a3c00000002006503640165046a2d00
             00000000000000ac02a6020000ab0200000000000000005a2d6403650664
-            2c3c00000002006503640165046a2e0000000000000000ac02a6020000ab
-            0200000000000000005a2e64036506642d3c00000002006503640165046a
+            2b3c00000002006503640165046a2e0000000000000000ac02a6020000ab
+            0200000000000000005a2e64036506642c3c00000002006503640165046a
             2f0000000000000000ac02a6020000ab0200000000000000005a2f640365
-            06642e3c00000002006503640165046a300000000000000000ac02a60200
-            00ab0200000000000000005a3064036506642f3c00000002006503640165
+            06642d3c00000002006503640165046a300000000000000000ac02a60200
+            00ab0200000000000000005a3064036506642e3c00000002006503640165
             046a310000000000000000ac02a6020000ab0200000000000000005a3164
-            20650664303c00000002006503640165046a320000000000000000ac02a6
-            020000ab0200000000000000005a326420650664313c00000064015300
-          54           0 RESUME                   0
+            036506642f3c00000002006503640165046a320000000000000000ac02a6
+            020000ab0200000000000000005a326420650664303c0000000200650364
+            0165046a330000000000000000ac02a6020000ab0200000000000000005a
+            336420650664313c00000064015300
+          56           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('LLMSpanAttributesValidator')
                        8 STORE_NAME               2 (__qualname__)
                       10 SETUP_ANNOTATIONS
          
-          55          12 PUSH_NULL
+          57          12 PUSH_NULL
                       14 LOAD_NAME                3 (Field)
                       16 LOAD_CONST               1 (None)
                       18 LOAD_NAME                4 (LLMSpanAttributes)
                       20 LOAD_ATTR                5 (OPENAI_API_BASE)
                       30 KW_NAMES                 2
                       32 PRECALL                  2
                       36 CALL                     2
                       46 STORE_NAME               5 (OPENAI_API_BASE)
                       48 LOAD_CONST               3 ('Optional[str]')
                       50 LOAD_NAME                6 (__annotations__)
                       52 LOAD_CONST               4 ('OPENAI_API_BASE')
                       54 STORE_SUBSCR
          
-          56          58 PUSH_NULL
+          58          58 PUSH_NULL
                       60 LOAD_NAME                3 (Field)
                       62 LOAD_CONST               1 (None)
                       64 LOAD_NAME                4 (LLMSpanAttributes)
                       66 LOAD_ATTR                7 (OPENAI_API_VERSION)
                       76 KW_NAMES                 2
                       78 PRECALL                  2
                       82 CALL                     2
                       92 STORE_NAME               8 (OPENAI_API_BASE_VERSION)
                       94 LOAD_CONST               3 ('Optional[str]')
                       96 LOAD_NAME                6 (__annotations__)
                       98 LOAD_CONST               5 ('OPENAI_API_BASE_VERSION')
                      100 STORE_SUBSCR
          
-          57         104 PUSH_NULL
+          59         104 PUSH_NULL
                      106 LOAD_NAME                3 (Field)
                      108 LOAD_CONST               1 (None)
                      110 LOAD_NAME                4 (LLMSpanAttributes)
                      112 LOAD_ATTR                9 (OPENAI_API_TYPE)
                      122 KW_NAMES                 2
                      124 PRECALL                  2
                      128 CALL                     2
                      138 STORE_NAME               9 (OPENAI_API_TYPE)
                      140 LOAD_CONST               3 ('Optional[str]')
                      142 LOAD_NAME                6 (__annotations__)
                      144 LOAD_CONST               6 ('OPENAI_API_TYPE')
                      146 STORE_SUBSCR
          
-          58         150 PUSH_NULL
+          60         150 PUSH_NULL
                      152 LOAD_NAME                3 (Field)
                      154 LOAD_CONST               1 (None)
                      156 LOAD_NAME                4 (LLMSpanAttributes)
                      158 LOAD_ATTR               10 (URL_FULL)
                      168 KW_NAMES                 2
                      170 PRECALL                  2
                      174 CALL                     2
                      184 STORE_NAME              10 (URL_FULL)
-                     186 LOAD_CONST               7 ('str')
+                     186 LOAD_CONST               3 ('Optional[str]')
                      188 LOAD_NAME                6 (__annotations__)
-                     190 LOAD_CONST               8 ('URL_FULL')
+                     190 LOAD_CONST               7 ('URL_FULL')
                      192 STORE_SUBSCR
          
-          59         196 PUSH_NULL
+          61         196 PUSH_NULL
                      198 LOAD_NAME                3 (Field)
                      200 LOAD_CONST               1 (None)
                      202 LOAD_NAME                4 (LLMSpanAttributes)
                      204 LOAD_ATTR               11 (LLM_API)
                      214 KW_NAMES                 2
                      216 PRECALL                  2
                      220 CALL                     2
                      230 STORE_NAME              11 (LLM_API)
-                     232 LOAD_CONST               7 ('str')
+                     232 LOAD_CONST               3 ('Optional[str]')
                      234 LOAD_NAME                6 (__annotations__)
-                     236 LOAD_CONST               9 ('LLM_API')
+                     236 LOAD_CONST               8 ('LLM_API')
                      238 STORE_SUBSCR
          
-          60         242 PUSH_NULL
+          62         242 PUSH_NULL
                      244 LOAD_NAME                3 (Field)
                      246 LOAD_CONST               1 (None)
                      248 LOAD_NAME                4 (LLMSpanAttributes)
-                     250 LOAD_ATTR               12 (LLM_MODEL)
+                     250 LOAD_ATTR               12 (LLM_WRAPPER)
                      260 KW_NAMES                 2
                      262 PRECALL                  2
                      266 CALL                     2
-                     276 STORE_NAME              12 (LLM_MODEL)
-                     278 LOAD_CONST               3 ('Optional[str]')
+                     276 STORE_NAME              12 (LLM_WRAPPER)
+                     278 LOAD_CONST               9 ('Optional[bool]')
                      280 LOAD_NAME                6 (__annotations__)
-                     282 LOAD_CONST              10 ('LLM_MODEL')
+                     282 LOAD_CONST              10 ('LLM_WRAPPER')
                      284 STORE_SUBSCR
          
-          62         288 PUSH_NULL
+          63         288 PUSH_NULL
                      290 LOAD_NAME                3 (Field)
                      292 LOAD_CONST               1 (None)
                      294 LOAD_NAME                4 (LLMSpanAttributes)
-                     296 LOAD_ATTR               13 (LLM_TYPE)
+                     296 LOAD_ATTR               13 (LLM_MODEL)
                      306 KW_NAMES                 2
                      308 PRECALL                  2
                      312 CALL                     2
-                     322 STORE_NAME              13 (LLM_TYPE)
+                     322 STORE_NAME              13 (LLM_MODEL)
                      324 LOAD_CONST               3 ('Optional[str]')
                      326 LOAD_NAME                6 (__annotations__)
-                     328 LOAD_CONST              11 ('LLM_TYPE')
+                     328 LOAD_CONST              11 ('LLM_MODEL')
                      330 STORE_SUBSCR
          
-          63         334 PUSH_NULL
+          65         334 PUSH_NULL
                      336 LOAD_NAME                3 (Field)
                      338 LOAD_CONST               1 (None)
                      340 LOAD_NAME                4 (LLMSpanAttributes)
-                     342 LOAD_ATTR               14 (LLM_TEMPERATURE)
+                     342 LOAD_ATTR               14 (LLM_TYPE)
                      352 KW_NAMES                 2
                      354 PRECALL                  2
                      358 CALL                     2
-                     368 STORE_NAME              14 (LLM_TEMPERATURE)
-                     370 LOAD_CONST              12 ('Optional[float]')
+                     368 STORE_NAME              14 (LLM_TYPE)
+                     370 LOAD_CONST               3 ('Optional[str]')
                      372 LOAD_NAME                6 (__annotations__)
-                     374 LOAD_CONST              13 ('LLM_TEMPERATURE')
+                     374 LOAD_CONST              12 ('LLM_TYPE')
                      376 STORE_SUBSCR
          
-          64         380 PUSH_NULL
+          66         380 PUSH_NULL
                      382 LOAD_NAME                3 (Field)
                      384 LOAD_CONST               1 (None)
                      386 LOAD_NAME                4 (LLMSpanAttributes)
-                     388 LOAD_ATTR               15 (LLM_TOP_P)
+                     388 LOAD_ATTR               15 (LLM_TEMPERATURE)
                      398 KW_NAMES                 2
                      400 PRECALL                  2
                      404 CALL                     2
-                     414 STORE_NAME              15 (LLM_TOP_P)
-                     416 LOAD_CONST              12 ('Optional[float]')
+                     414 STORE_NAME              15 (LLM_TEMPERATURE)
+                     416 LOAD_CONST              13 ('Optional[float]')
                      418 LOAD_NAME                6 (__annotations__)
-                     420 LOAD_CONST              14 ('LLM_TOP_P')
+                     420 LOAD_CONST              14 ('LLM_TEMPERATURE')
                      422 STORE_SUBSCR
          
-          65         426 PUSH_NULL
+          67         426 PUSH_NULL
                      428 LOAD_NAME                3 (Field)
                      430 LOAD_CONST               1 (None)
                      432 LOAD_NAME                4 (LLMSpanAttributes)
-                     434 LOAD_ATTR               16 (LLM_TOP_K)
+                     434 LOAD_ATTR               16 (LLM_TOP_P)
                      444 KW_NAMES                 2
                      446 PRECALL                  2
                      450 CALL                     2
-                     460 STORE_NAME              16 (LLM_TOP_K)
-                     462 LOAD_CONST              12 ('Optional[float]')
+                     460 STORE_NAME              16 (LLM_TOP_P)
+                     462 LOAD_CONST              13 ('Optional[float]')
                      464 LOAD_NAME                6 (__annotations__)
-                     466 LOAD_CONST              15 ('LLM_TOP_K')
+                     466 LOAD_CONST              15 ('LLM_TOP_P')
                      468 STORE_SUBSCR
          
-          66         472 PUSH_NULL
+          68         472 PUSH_NULL
                      474 LOAD_NAME                3 (Field)
                      476 LOAD_CONST               1 (None)
                      478 LOAD_NAME                4 (LLMSpanAttributes)
-                     480 LOAD_ATTR               17 (LLM_USER)
+                     480 LOAD_ATTR               17 (LLM_TOP_K)
                      490 KW_NAMES                 2
                      492 PRECALL                  2
                      496 CALL                     2
-                     506 STORE_NAME              17 (LLM_USER)
-                     508 LOAD_CONST               3 ('Optional[str]')
+                     506 STORE_NAME              17 (LLM_TOP_K)
+                     508 LOAD_CONST              13 ('Optional[float]')
                      510 LOAD_NAME                6 (__annotations__)
-                     512 LOAD_CONST              16 ('LLM_USER')
+                     512 LOAD_CONST              16 ('LLM_TOP_K')
                      514 STORE_SUBSCR
          
-          67         518 PUSH_NULL
+          69         518 PUSH_NULL
                      520 LOAD_NAME                3 (Field)
                      522 LOAD_CONST               1 (None)
                      524 LOAD_NAME                4 (LLMSpanAttributes)
-                     526 LOAD_ATTR               18 (LLM_SYSTEM_FINGERPRINT)
+                     526 LOAD_ATTR               18 (LLM_USER)
                      536 KW_NAMES                 2
                      538 PRECALL                  2
                      542 CALL                     2
-                     552 STORE_NAME              18 (LLM_SYSTEM_FINGERPRINT)
+                     552 STORE_NAME              18 (LLM_USER)
                      554 LOAD_CONST               3 ('Optional[str]')
                      556 LOAD_NAME                6 (__annotations__)
-                     558 LOAD_CONST              17 ('LLM_SYSTEM_FINGERPRINT')
+                     558 LOAD_CONST              17 ('LLM_USER')
                      560 STORE_SUBSCR
          
-          68         564 PUSH_NULL
+          70         564 PUSH_NULL
                      566 LOAD_NAME                3 (Field)
                      568 LOAD_CONST               1 (None)
                      570 LOAD_NAME                4 (LLMSpanAttributes)
-                     572 LOAD_ATTR               19 (LLM_PROMPTS)
+                     572 LOAD_ATTR               19 (LLM_SYSTEM_FINGERPRINT)
                      582 KW_NAMES                 2
                      584 PRECALL                  2
                      588 CALL                     2
-                     598 STORE_NAME              19 (LLM_PROMPTS)
+                     598 STORE_NAME              19 (LLM_SYSTEM_FINGERPRINT)
                      600 LOAD_CONST               3 ('Optional[str]')
                      602 LOAD_NAME                6 (__annotations__)
-                     604 LOAD_CONST              18 ('LLM_PROMPTS')
+                     604 LOAD_CONST              18 ('LLM_SYSTEM_FINGERPRINT')
                      606 STORE_SUBSCR
          
-          69         610 PUSH_NULL
+          71         610 PUSH_NULL
                      612 LOAD_NAME                3 (Field)
                      614 LOAD_CONST               1 (None)
                      616 LOAD_NAME                4 (LLMSpanAttributes)
-                     618 LOAD_ATTR               20 (LLM_RESPONSES)
+                     618 LOAD_ATTR               20 (LLM_PROMPTS)
                      628 KW_NAMES                 2
                      630 PRECALL                  2
                      634 CALL                     2
-                     644 STORE_NAME              20 (LLM_RESPONSES)
+                     644 STORE_NAME              20 (LLM_PROMPTS)
                      646 LOAD_CONST               3 ('Optional[str]')
                      648 LOAD_NAME                6 (__annotations__)
-                     650 LOAD_CONST              19 ('LLM_RESPONSES')
+                     650 LOAD_CONST              19 ('LLM_PROMPTS')
                      652 STORE_SUBSCR
          
-          70         656 PUSH_NULL
+          72         656 PUSH_NULL
                      658 LOAD_NAME                3 (Field)
                      660 LOAD_CONST               1 (None)
                      662 LOAD_NAME                4 (LLMSpanAttributes)
-                     664 LOAD_ATTR               21 (LLM_TOKEN_COUNTS)
+                     664 LOAD_ATTR               21 (LLM_RESPONSES)
                      674 KW_NAMES                 2
                      676 PRECALL                  2
                      680 CALL                     2
-                     690 STORE_NAME              21 (LLM_TOKEN_COUNTS)
+                     690 STORE_NAME              21 (LLM_RESPONSES)
                      692 LOAD_CONST               3 ('Optional[str]')
                      694 LOAD_NAME                6 (__annotations__)
-                     696 LOAD_CONST              20 ('LLM_TOKEN_COUNTS')
+                     696 LOAD_CONST              20 ('LLM_RESPONSES')
                      698 STORE_SUBSCR
          
-          71         702 PUSH_NULL
+          73         702 PUSH_NULL
                      704 LOAD_NAME                3 (Field)
                      706 LOAD_CONST               1 (None)
                      708 LOAD_NAME                4 (LLMSpanAttributes)
-                     710 LOAD_ATTR               22 (LLM_STREAM)
+                     710 LOAD_ATTR               22 (LLM_TOKEN_COUNTS)
                      720 KW_NAMES                 2
                      722 PRECALL                  2
                      726 CALL                     2
-                     736 STORE_NAME              22 (LLM_STREAM)
-                     738 LOAD_CONST              21 ('Optional[bool]')
+                     736 STORE_NAME              22 (LLM_TOKEN_COUNTS)
+                     738 LOAD_CONST               3 ('Optional[str]')
                      740 LOAD_NAME                6 (__annotations__)
-                     742 LOAD_CONST              22 ('LLM_STREAM')
+                     742 LOAD_CONST              21 ('LLM_TOKEN_COUNTS')
                      744 STORE_SUBSCR
          
-          72         748 PUSH_NULL
+          74         748 PUSH_NULL
                      750 LOAD_NAME                3 (Field)
                      752 LOAD_CONST               1 (None)
                      754 LOAD_NAME                4 (LLMSpanAttributes)
-                     756 LOAD_ATTR               23 (LLM_ENCODING_FORMAT)
+                     756 LOAD_ATTR               23 (LLM_STREAM)
                      766 KW_NAMES                 2
                      768 PRECALL                  2
                      772 CALL                     2
-                     782 STORE_NAME              24 (LLM_ENCODING_FORMATS)
-                     784 LOAD_CONST               3 ('Optional[str]')
+                     782 STORE_NAME              23 (LLM_STREAM)
+                     784 LOAD_CONST               9 ('Optional[bool]')
                      786 LOAD_NAME                6 (__annotations__)
-                     788 LOAD_CONST              23 ('LLM_ENCODING_FORMATS')
+                     788 LOAD_CONST              22 ('LLM_STREAM')
                      790 STORE_SUBSCR
          
-          73         794 PUSH_NULL
+          75         794 PUSH_NULL
                      796 LOAD_NAME                3 (Field)
                      798 LOAD_CONST               1 (None)
                      800 LOAD_NAME                4 (LLMSpanAttributes)
-                     802 LOAD_ATTR               25 (LLM_DIMENSIONS)
+                     802 LOAD_ATTR               24 (LLM_ENCODING_FORMAT)
                      812 KW_NAMES                 2
                      814 PRECALL                  2
                      818 CALL                     2
-                     828 STORE_NAME              25 (LLM_DIMENSIONS)
+                     828 STORE_NAME              25 (LLM_ENCODING_FORMATS)
                      830 LOAD_CONST               3 ('Optional[str]')
                      832 LOAD_NAME                6 (__annotations__)
-                     834 LOAD_CONST              24 ('LLM_DIMENSIONS')
+                     834 LOAD_CONST              23 ('LLM_ENCODING_FORMATS')
                      836 STORE_SUBSCR
          
-          74         840 PUSH_NULL
+          76         840 PUSH_NULL
                      842 LOAD_NAME                3 (Field)
                      844 LOAD_CONST               1 (None)
                      846 LOAD_NAME                4 (LLMSpanAttributes)
-                     848 LOAD_ATTR               26 (LLM_GENERATION_ID)
+                     848 LOAD_ATTR               26 (LLM_DIMENSIONS)
                      858 KW_NAMES                 2
                      860 PRECALL                  2
                      864 CALL                     2
-                     874 STORE_NAME              26 (LLM_GENERATION_ID)
+                     874 STORE_NAME              26 (LLM_DIMENSIONS)
                      876 LOAD_CONST               3 ('Optional[str]')
                      878 LOAD_NAME                6 (__annotations__)
-                     880 LOAD_CONST              25 ('LLM_GENERATION_ID')
+                     880 LOAD_CONST              24 ('LLM_DIMENSIONS')
                      882 STORE_SUBSCR
          
-          75         886 PUSH_NULL
+          77         886 PUSH_NULL
                      888 LOAD_NAME                3 (Field)
                      890 LOAD_CONST               1 (None)
                      892 LOAD_NAME                4 (LLMSpanAttributes)
-                     894 LOAD_ATTR               27 (LLM_RESPONSE_ID)
+                     894 LOAD_ATTR               27 (LLM_GENERATION_ID)
                      904 KW_NAMES                 2
                      906 PRECALL                  2
                      910 CALL                     2
-                     920 STORE_NAME              27 (LLM_RESPONSE_ID)
+                     920 STORE_NAME              27 (LLM_GENERATION_ID)
                      922 LOAD_CONST               3 ('Optional[str]')
                      924 LOAD_NAME                6 (__annotations__)
-                     926 LOAD_CONST              26 ('LLM_RESPONSE_ID')
+                     926 LOAD_CONST              25 ('LLM_GENERATION_ID')
                      928 STORE_SUBSCR
          
-          76         932 PUSH_NULL
+          78         932 PUSH_NULL
                      934 LOAD_NAME                3 (Field)
                      936 LOAD_CONST               1 (None)
                      938 LOAD_NAME                4 (LLMSpanAttributes)
-                     940 LOAD_ATTR               28 (LLM_CITATIONS)
+                     940 LOAD_ATTR               28 (LLM_RESPONSE_ID)
                      950 KW_NAMES                 2
                      952 PRECALL                  2
                      956 CALL                     2
-                     966 STORE_NAME              28 (LLM_CITATIONS)
+                     966 STORE_NAME              28 (LLM_RESPONSE_ID)
                      968 LOAD_CONST               3 ('Optional[str]')
                      970 LOAD_NAME                6 (__annotations__)
-                     972 LOAD_CONST              27 ('LLM_CITATIONS')
+                     972 LOAD_CONST              26 ('LLM_RESPONSE_ID')
                      974 STORE_SUBSCR
          
-          77         978 PUSH_NULL
+          79         978 PUSH_NULL
                      980 LOAD_NAME                3 (Field)
                      982 LOAD_CONST               1 (None)
                      984 LOAD_NAME                4 (LLMSpanAttributes)
-                     986 LOAD_ATTR               29 (LLM_DOCUMENTS)
+                     986 LOAD_ATTR               29 (LLM_CITATIONS)
                      996 KW_NAMES                 2
                      998 PRECALL                  2
                     1002 CALL                     2
-                    1012 STORE_NAME              29 (LLM_DOCUMENTS)
+                    1012 STORE_NAME              29 (LLM_CITATIONS)
                     1014 LOAD_CONST               3 ('Optional[str]')
                     1016 LOAD_NAME                6 (__annotations__)
-                    1018 LOAD_CONST              28 ('LLM_DOCUMENTS')
+                    1018 LOAD_CONST              27 ('LLM_CITATIONS')
                     1020 STORE_SUBSCR
          
-          78        1024 PUSH_NULL
+          80        1024 PUSH_NULL
                     1026 LOAD_NAME                3 (Field)
                     1028 LOAD_CONST               1 (None)
                     1030 LOAD_NAME                4 (LLMSpanAttributes)
-                    1032 LOAD_ATTR               30 (LLM_IS_SEARCH_REQUIRED)
+                    1032 LOAD_ATTR               30 (LLM_DOCUMENTS)
                     1042 KW_NAMES                 2
                     1044 PRECALL                  2
                     1048 CALL                     2
-                    1058 STORE_NAME              31 (LLS_IS_SEARCH_REQUIRED)
-                    1060 LOAD_CONST              21 ('Optional[bool]')
+                    1058 STORE_NAME              30 (LLM_DOCUMENTS)
+                    1060 LOAD_CONST               3 ('Optional[str]')
                     1062 LOAD_NAME                6 (__annotations__)
-                    1064 LOAD_CONST              29 ('LLS_IS_SEARCH_REQUIRED')
+                    1064 LOAD_CONST              28 ('LLM_DOCUMENTS')
                     1066 STORE_SUBSCR
          
-          79        1070 PUSH_NULL
+          81        1070 PUSH_NULL
                     1072 LOAD_NAME                3 (Field)
                     1074 LOAD_CONST               1 (None)
                     1076 LOAD_NAME                4 (LLMSpanAttributes)
-                    1078 LOAD_ATTR               32 (LLM_SEARCH_RESULTS)
+                    1078 LOAD_ATTR               31 (LLM_IS_SEARCH_REQUIRED)
                     1088 KW_NAMES                 2
                     1090 PRECALL                  2
                     1094 CALL                     2
-                    1104 STORE_NAME              32 (LLM_SEARCH_RESULTS)
-                    1106 LOAD_CONST               3 ('Optional[str]')
+                    1104 STORE_NAME              32 (LLS_IS_SEARCH_REQUIRED)
+                    1106 LOAD_CONST               9 ('Optional[bool]')
                     1108 LOAD_NAME                6 (__annotations__)
-                    1110 LOAD_CONST              30 ('LLM_SEARCH_RESULTS')
+                    1110 LOAD_CONST              29 ('LLS_IS_SEARCH_REQUIRED')
                     1112 STORE_SUBSCR
          
-          80        1116 PUSH_NULL
+          82        1116 PUSH_NULL
                     1118 LOAD_NAME                3 (Field)
                     1120 LOAD_CONST               1 (None)
                     1122 LOAD_NAME                4 (LLMSpanAttributes)
-                    1124 LOAD_ATTR               33 (LLM_TOOL_CALLS)
+                    1124 LOAD_ATTR               33 (LLM_SEARCH_RESULTS)
                     1134 KW_NAMES                 2
                     1136 PRECALL                  2
                     1140 CALL                     2
-                    1150 STORE_NAME              33 (LLM_TOOL_CALLS)
+                    1150 STORE_NAME              33 (LLM_SEARCH_RESULTS)
                     1152 LOAD_CONST               3 ('Optional[str]')
                     1154 LOAD_NAME                6 (__annotations__)
-                    1156 LOAD_CONST              31 ('LLM_TOOL_CALLS')
+                    1156 LOAD_CONST              30 ('LLM_SEARCH_RESULTS')
                     1158 STORE_SUBSCR
          
-          81        1162 PUSH_NULL
+          83        1162 PUSH_NULL
                     1164 LOAD_NAME                3 (Field)
                     1166 LOAD_CONST               1 (None)
                     1168 LOAD_NAME                4 (LLMSpanAttributes)
-                    1170 LOAD_ATTR               34 (LLM_MAX_TOKENS)
+                    1170 LOAD_ATTR               34 (LLM_TOOL_CALLS)
                     1180 KW_NAMES                 2
                     1182 PRECALL                  2
                     1186 CALL                     2
-                    1196 STORE_NAME              34 (LLM_MAX_TOKENS)
-                    1198 LOAD_CONST              32 ('Optional[int]')
+                    1196 STORE_NAME              34 (LLM_TOOL_CALLS)
+                    1198 LOAD_CONST               3 ('Optional[str]')
                     1200 LOAD_NAME                6 (__annotations__)
-                    1202 LOAD_CONST              33 ('LLM_MAX_TOKENS')
+                    1202 LOAD_CONST              31 ('LLM_TOOL_CALLS')
                     1204 STORE_SUBSCR
          
-          82        1208 PUSH_NULL
+          84        1208 PUSH_NULL
                     1210 LOAD_NAME                3 (Field)
                     1212 LOAD_CONST               1 (None)
                     1214 LOAD_NAME                4 (LLMSpanAttributes)
-                    1216 LOAD_ATTR               35 (LLM_MAX_INPUT_TOKENS)
+                    1216 LOAD_ATTR               35 (LLM_MAX_TOKENS)
                     1226 KW_NAMES                 2
                     1228 PRECALL                  2
                     1232 CALL                     2
-                    1242 STORE_NAME              35 (LLM_MAX_INPUT_TOKENS)
-                    1244 LOAD_CONST               3 ('Optional[str]')
+                    1242 STORE_NAME              35 (LLM_MAX_TOKENS)
+                    1244 LOAD_CONST              32 ('Optional[int]')
                     1246 LOAD_NAME                6 (__annotations__)
-                    1248 LOAD_CONST              34 ('LLM_MAX_INPUT_TOKENS')
+                    1248 LOAD_CONST              33 ('LLM_MAX_TOKENS')
                     1250 STORE_SUBSCR
          
-          83        1254 PUSH_NULL
+          85        1254 PUSH_NULL
                     1256 LOAD_NAME                3 (Field)
                     1258 LOAD_CONST               1 (None)
                     1260 LOAD_NAME                4 (LLMSpanAttributes)
-                    1262 LOAD_ATTR               36 (LLM_CONVERSATION_ID)
+                    1262 LOAD_ATTR               36 (LLM_MAX_INPUT_TOKENS)
                     1272 KW_NAMES                 2
                     1274 PRECALL                  2
                     1278 CALL                     2
-                    1288 STORE_NAME              36 (LLM_CONVERSATION_ID)
+                    1288 STORE_NAME              36 (LLM_MAX_INPUT_TOKENS)
                     1290 LOAD_CONST               3 ('Optional[str]')
                     1292 LOAD_NAME                6 (__annotations__)
-                    1294 LOAD_CONST              35 ('LLM_CONVERSATION_ID')
+                    1294 LOAD_CONST              34 ('LLM_MAX_INPUT_TOKENS')
                     1296 STORE_SUBSCR
          
-          84        1300 PUSH_NULL
+          86        1300 PUSH_NULL
                     1302 LOAD_NAME                3 (Field)
                     1304 LOAD_CONST               1 (None)
                     1306 LOAD_NAME                4 (LLMSpanAttributes)
-                    1308 LOAD_ATTR               37 (LLM_SEED)
+                    1308 LOAD_ATTR               37 (LLM_CONVERSATION_ID)
                     1318 KW_NAMES                 2
                     1320 PRECALL                  2
                     1324 CALL                     2
-                    1334 STORE_NAME              37 (LLM_SEED)
+                    1334 STORE_NAME              37 (LLM_CONVERSATION_ID)
                     1336 LOAD_CONST               3 ('Optional[str]')
                     1338 LOAD_NAME                6 (__annotations__)
-                    1340 LOAD_CONST              36 ('LLM_SEED')
+                    1340 LOAD_CONST              35 ('LLM_CONVERSATION_ID')
                     1342 STORE_SUBSCR
          
-          85        1346 PUSH_NULL
+          87        1346 PUSH_NULL
                     1348 LOAD_NAME                3 (Field)
                     1350 LOAD_CONST               1 (None)
                     1352 LOAD_NAME                4 (LLMSpanAttributes)
-                    1354 LOAD_ATTR               38 (LLM_FREQUENCY_PENALTY)
+                    1354 LOAD_ATTR               38 (LLM_SEED)
                     1364 KW_NAMES                 2
                     1366 PRECALL                  2
                     1370 CALL                     2
-                    1380 STORE_NAME              38 (LLM_FREQUENCY_PENALTY)
+                    1380 STORE_NAME              38 (LLM_SEED)
                     1382 LOAD_CONST               3 ('Optional[str]')
                     1384 LOAD_NAME                6 (__annotations__)
-                    1386 LOAD_CONST              37 ('LLM_FREQUENCY_PENALTY')
+                    1386 LOAD_CONST              36 ('LLM_SEED')
                     1388 STORE_SUBSCR
          
-          86        1392 PUSH_NULL
+          88        1392 PUSH_NULL
                     1394 LOAD_NAME                3 (Field)
                     1396 LOAD_CONST               1 (None)
                     1398 LOAD_NAME                4 (LLMSpanAttributes)
-                    1400 LOAD_ATTR               39 (LLM_PRESENCE_PENALTY)
+                    1400 LOAD_ATTR               39 (LLM_FREQUENCY_PENALTY)
                     1410 KW_NAMES                 2
                     1412 PRECALL                  2
                     1416 CALL                     2
-                    1426 STORE_NAME              39 (LLM_PRESENCE_PENALTY)
+                    1426 STORE_NAME              39 (LLM_FREQUENCY_PENALTY)
                     1428 LOAD_CONST               3 ('Optional[str]')
                     1430 LOAD_NAME                6 (__annotations__)
-                    1432 LOAD_CONST              38 ('LLM_PRESENCE_PENALTY')
+                    1432 LOAD_CONST              37 ('LLM_FREQUENCY_PENALTY')
                     1434 STORE_SUBSCR
          
-          87        1438 PUSH_NULL
+          89        1438 PUSH_NULL
                     1440 LOAD_NAME                3 (Field)
                     1442 LOAD_CONST               1 (None)
                     1444 LOAD_NAME                4 (LLMSpanAttributes)
-                    1446 LOAD_ATTR               40 (LLM_CONNECTORS)
+                    1446 LOAD_ATTR               40 (LLM_PRESENCE_PENALTY)
                     1456 KW_NAMES                 2
                     1458 PRECALL                  2
                     1462 CALL                     2
-                    1472 STORE_NAME              40 (LLM_CONNECTORS)
+                    1472 STORE_NAME              40 (LLM_PRESENCE_PENALTY)
                     1474 LOAD_CONST               3 ('Optional[str]')
                     1476 LOAD_NAME                6 (__annotations__)
-                    1478 LOAD_CONST              39 ('LLM_CONNECTORS')
+                    1478 LOAD_CONST              38 ('LLM_PRESENCE_PENALTY')
                     1480 STORE_SUBSCR
          
-          88        1484 PUSH_NULL
+          90        1484 PUSH_NULL
                     1486 LOAD_NAME                3 (Field)
                     1488 LOAD_CONST               1 (None)
                     1490 LOAD_NAME                4 (LLMSpanAttributes)
-                    1492 LOAD_ATTR               41 (LLM_TOOLS)
+                    1492 LOAD_ATTR               41 (LLM_CONNECTORS)
                     1502 KW_NAMES                 2
                     1504 PRECALL                  2
                     1508 CALL                     2
-                    1518 STORE_NAME              41 (LLM_TOOLS)
+                    1518 STORE_NAME              41 (LLM_CONNECTORS)
                     1520 LOAD_CONST               3 ('Optional[str]')
                     1522 LOAD_NAME                6 (__annotations__)
-                    1524 LOAD_CONST              40 ('LLM_TOOLS')
+                    1524 LOAD_CONST              39 ('LLM_CONNECTORS')
                     1526 STORE_SUBSCR
          
-          89        1530 PUSH_NULL
+          91        1530 PUSH_NULL
                     1532 LOAD_NAME                3 (Field)
                     1534 LOAD_CONST               1 (None)
                     1536 LOAD_NAME                4 (LLMSpanAttributes)
-                    1538 LOAD_ATTR               42 (LLM_TOOL_RESULTS)
+                    1538 LOAD_ATTR               42 (LLM_TOOLS)
                     1548 KW_NAMES                 2
                     1550 PRECALL                  2
                     1554 CALL                     2
-                    1564 STORE_NAME              42 (LLM_TOOL_RESULTS)
+                    1564 STORE_NAME              42 (LLM_TOOLS)
                     1566 LOAD_CONST               3 ('Optional[str]')
                     1568 LOAD_NAME                6 (__annotations__)
-                    1570 LOAD_CONST              41 ('LLM_TOOL_RESULTS')
+                    1570 LOAD_CONST              40 ('LLM_TOOLS')
                     1572 STORE_SUBSCR
          
-          90        1576 PUSH_NULL
+          92        1576 PUSH_NULL
                     1578 LOAD_NAME                3 (Field)
                     1580 LOAD_CONST               1 (None)
                     1582 LOAD_NAME                4 (LLMSpanAttributes)
-                    1584 LOAD_ATTR               43 (LLM_EMBEDDING_INPUTS)
+                    1584 LOAD_ATTR               43 (LLM_TOOL_RESULTS)
                     1594 KW_NAMES                 2
                     1596 PRECALL                  2
                     1600 CALL                     2
-                    1610 STORE_NAME              43 (LLM_EMBEDDING_INPUTS)
+                    1610 STORE_NAME              43 (LLM_TOOL_RESULTS)
                     1612 LOAD_CONST               3 ('Optional[str]')
                     1614 LOAD_NAME                6 (__annotations__)
-                    1616 LOAD_CONST              42 ('LLM_EMBEDDING_INPUTS')
+                    1616 LOAD_CONST              41 ('LLM_TOOL_RESULTS')
                     1618 STORE_SUBSCR
          
-          91        1622 PUSH_NULL
+          93        1622 PUSH_NULL
                     1624 LOAD_NAME                3 (Field)
-         
-          92        1626 LOAD_CONST               1 (None)
+                    1626 LOAD_CONST               1 (None)
                     1628 LOAD_NAME                4 (LLMSpanAttributes)
-                    1630 LOAD_ATTR               44 (LLM_EMBEDDING_DATASET_ID)
-         
-          91        1640 KW_NAMES                 2
+                    1630 LOAD_ATTR               44 (LLM_EMBEDDING_INPUTS)
+                    1640 KW_NAMES                 2
                     1642 PRECALL                  2
                     1646 CALL                     2
-                    1656 STORE_NAME              44 (LLM_EMBEDDING_DATASET_ID)
+                    1656 STORE_NAME              44 (LLM_EMBEDDING_INPUTS)
                     1658 LOAD_CONST               3 ('Optional[str]')
                     1660 LOAD_NAME                6 (__annotations__)
-                    1662 LOAD_CONST              43 ('LLM_EMBEDDING_DATASET_ID')
+                    1662 LOAD_CONST              42 ('LLM_EMBEDDING_INPUTS')
                     1664 STORE_SUBSCR
          
           94        1668 PUSH_NULL
                     1670 LOAD_NAME                3 (Field)
          
           95        1672 LOAD_CONST               1 (None)
                     1674 LOAD_NAME                4 (LLMSpanAttributes)
-                    1676 LOAD_ATTR               45 (LLM_EMBEDDING_INPUT_TYPE)
+                    1676 LOAD_ATTR               45 (LLM_EMBEDDING_DATASET_ID)
          
           94        1686 KW_NAMES                 2
                     1688 PRECALL                  2
                     1692 CALL                     2
-                    1702 STORE_NAME              45 (LLM_EMBEDDING_INPUT_TYPE)
+                    1702 STORE_NAME              45 (LLM_EMBEDDING_DATASET_ID)
                     1704 LOAD_CONST               3 ('Optional[str]')
                     1706 LOAD_NAME                6 (__annotations__)
-                    1708 LOAD_CONST              44 ('LLM_EMBEDDING_INPUT_TYPE')
+                    1708 LOAD_CONST              43 ('LLM_EMBEDDING_DATASET_ID')
                     1710 STORE_SUBSCR
          
           97        1714 PUSH_NULL
                     1716 LOAD_NAME                3 (Field)
-                    1718 LOAD_CONST               1 (None)
+         
+          98        1718 LOAD_CONST               1 (None)
                     1720 LOAD_NAME                4 (LLMSpanAttributes)
-                    1722 LOAD_ATTR               46 (LLM_EMBEDDING_JOB_NAME)
-                    1732 KW_NAMES                 2
+                    1722 LOAD_ATTR               46 (LLM_EMBEDDING_INPUT_TYPE)
+         
+          97        1732 KW_NAMES                 2
                     1734 PRECALL                  2
                     1738 CALL                     2
-                    1748 STORE_NAME              46 (LLM_EMBEDDING_JOB_NAME)
+                    1748 STORE_NAME              46 (LLM_EMBEDDING_INPUT_TYPE)
                     1750 LOAD_CONST               3 ('Optional[str]')
                     1752 LOAD_NAME                6 (__annotations__)
-                    1754 LOAD_CONST              45 ('LLM_EMBEDDING_JOB_NAME')
+                    1754 LOAD_CONST              44 ('LLM_EMBEDDING_INPUT_TYPE')
                     1756 STORE_SUBSCR
          
-          98        1760 PUSH_NULL
+         100        1760 PUSH_NULL
                     1762 LOAD_NAME                3 (Field)
                     1764 LOAD_CONST               1 (None)
                     1766 LOAD_NAME                4 (LLMSpanAttributes)
-                    1768 LOAD_ATTR               47 (LLM_RETRIEVAL_QUERY)
+                    1768 LOAD_ATTR               47 (LLM_EMBEDDING_JOB_NAME)
                     1778 KW_NAMES                 2
                     1780 PRECALL                  2
                     1784 CALL                     2
-                    1794 STORE_NAME              47 (LLM_RETRIEVAL_QUERY)
+                    1794 STORE_NAME              47 (LLM_EMBEDDING_JOB_NAME)
                     1796 LOAD_CONST               3 ('Optional[str]')
                     1798 LOAD_NAME                6 (__annotations__)
-                    1800 LOAD_CONST              46 ('LLM_RETRIEVAL_QUERY')
+                    1800 LOAD_CONST              45 ('LLM_EMBEDDING_JOB_NAME')
                     1802 STORE_SUBSCR
          
-          99        1806 PUSH_NULL
+         101        1806 PUSH_NULL
                     1808 LOAD_NAME                3 (Field)
                     1810 LOAD_CONST               1 (None)
                     1812 LOAD_NAME                4 (LLMSpanAttributes)
-                    1814 LOAD_ATTR               48 (LLM_RETRIEVAL_RESULTS)
+                    1814 LOAD_ATTR               48 (LLM_RETRIEVAL_QUERY)
                     1824 KW_NAMES                 2
                     1826 PRECALL                  2
                     1830 CALL                     2
-                    1840 STORE_NAME              48 (LLM_RETRIEVAL_RESULTS)
+                    1840 STORE_NAME              48 (LLM_RETRIEVAL_QUERY)
                     1842 LOAD_CONST               3 ('Optional[str]')
                     1844 LOAD_NAME                6 (__annotations__)
-                    1846 LOAD_CONST              47 ('LLM_RETRIEVAL_RESULTS')
+                    1846 LOAD_CONST              46 ('LLM_RETRIEVAL_QUERY')
                     1848 STORE_SUBSCR
          
-         100        1852 PUSH_NULL
+         102        1852 PUSH_NULL
                     1854 LOAD_NAME                3 (Field)
                     1856 LOAD_CONST               1 (None)
                     1858 LOAD_NAME                4 (LLMSpanAttributes)
-                    1860 LOAD_ATTR               49 (HTTP_MAX_RETRIES)
+                    1860 LOAD_ATTR               49 (LLM_RETRIEVAL_RESULTS)
                     1870 KW_NAMES                 2
                     1872 PRECALL                  2
                     1876 CALL                     2
-                    1886 STORE_NAME              49 (HTTP_MAX_RETRIES)
-                    1888 LOAD_CONST              32 ('Optional[int]')
+                    1886 STORE_NAME              49 (LLM_RETRIEVAL_RESULTS)
+                    1888 LOAD_CONST               3 ('Optional[str]')
                     1890 LOAD_NAME                6 (__annotations__)
-                    1892 LOAD_CONST              48 ('HTTP_MAX_RETRIES')
+                    1892 LOAD_CONST              47 ('LLM_RETRIEVAL_RESULTS')
                     1894 STORE_SUBSCR
          
-         101        1898 PUSH_NULL
+         103        1898 PUSH_NULL
                     1900 LOAD_NAME                3 (Field)
                     1902 LOAD_CONST               1 (None)
                     1904 LOAD_NAME                4 (LLMSpanAttributes)
-                    1906 LOAD_ATTR               50 (HTTP_TIMEOUT)
+                    1906 LOAD_ATTR               50 (HTTP_MAX_RETRIES)
                     1916 KW_NAMES                 2
                     1918 PRECALL                  2
                     1922 CALL                     2
-                    1932 STORE_NAME              50 (HTTP_TIMEOUT)
+                    1932 STORE_NAME              50 (HTTP_MAX_RETRIES)
                     1934 LOAD_CONST              32 ('Optional[int]')
                     1936 LOAD_NAME                6 (__annotations__)
-                    1938 LOAD_CONST              49 ('HTTP_TIMEOUT')
+                    1938 LOAD_CONST              48 ('HTTP_MAX_RETRIES')
                     1940 STORE_SUBSCR
-                    1944 LOAD_CONST               1 (None)
-                    1946 RETURN_VALUE
+         
+         104        1944 PUSH_NULL
+                    1946 LOAD_NAME                3 (Field)
+                    1948 LOAD_CONST               1 (None)
+                    1950 LOAD_NAME                4 (LLMSpanAttributes)
+                    1952 LOAD_ATTR               51 (HTTP_TIMEOUT)
+                    1962 KW_NAMES                 2
+                    1964 PRECALL                  2
+                    1968 CALL                     2
+                    1978 STORE_NAME              51 (HTTP_TIMEOUT)
+                    1980 LOAD_CONST              32 ('Optional[int]')
+                    1982 LOAD_NAME                6 (__annotations__)
+                    1984 LOAD_CONST              49 ('HTTP_TIMEOUT')
+                    1986 STORE_SUBSCR
+                    1990 LOAD_CONST               1 (None)
+                    1992 RETURN_VALUE
          consts
             'LLMSpanAttributesValidator'
             None
             ('alias',)
             'Optional[str]'
             'OPENAI_API_BASE'
             'OPENAI_API_BASE_VERSION'
             'OPENAI_API_TYPE'
-            'str'
             'URL_FULL'
             'LLM_API'
+            'Optional[bool]'
+            'LLM_WRAPPER'
             'LLM_MODEL'
             'LLM_TYPE'
             'Optional[float]'
             'LLM_TEMPERATURE'
             'LLM_TOP_P'
             'LLM_TOP_K'
             'LLM_USER'
             'LLM_SYSTEM_FINGERPRINT'
             'LLM_PROMPTS'
             'LLM_RESPONSES'
             'LLM_TOKEN_COUNTS'
-            'Optional[bool]'
             'LLM_STREAM'
             'LLM_ENCODING_FORMATS'
             'LLM_DIMENSIONS'
             'LLM_GENERATION_ID'
             'LLM_RESPONSE_ID'
             'LLM_CITATIONS'
             'LLM_DOCUMENTS'
@@ -988,29 +1008,29 @@
             'LLM_EMBEDDING_DATASET_ID'
             'LLM_EMBEDDING_INPUT_TYPE'
             'LLM_EMBEDDING_JOB_NAME'
             'LLM_RETRIEVAL_QUERY'
             'LLM_RETRIEVAL_RESULTS'
             'HTTP_MAX_RETRIES'
             'HTTP_TIMEOUT'
-         names      ('__name__', '__module__', '__qualname__', 'Field', 'LLMSpanAttributes', 'OPENAI_API_BASE', '__annotations__', 'OPENAI_API_VERSION', 'OPENAI_API_BASE_VERSION', 'OPENAI_API_TYPE', 'URL_FULL', 'LLM_API', 'LLM_MODEL', 'LLM_TYPE', 'LLM_TEMPERATURE', 'LLM_TOP_P', 'LLM_TOP_K', 'LLM_USER', 'LLM_SYSTEM_FINGERPRINT', 'LLM_PROMPTS', 'LLM_RESPONSES', 'LLM_TOKEN_COUNTS', 'LLM_STREAM', 'LLM_ENCODING_FORMAT', 'LLM_ENCODING_FORMATS', 'LLM_DIMENSIONS', 'LLM_GENERATION_ID', 'LLM_RESPONSE_ID', 'LLM_CITATIONS', 'LLM_DOCUMENTS', 'LLM_IS_SEARCH_REQUIRED', 'LLS_IS_SEARCH_REQUIRED', 'LLM_SEARCH_RESULTS', 'LLM_TOOL_CALLS', 'LLM_MAX_TOKENS', 'LLM_MAX_INPUT_TOKENS', 'LLM_CONVERSATION_ID', 'LLM_SEED', 'LLM_FREQUENCY_PENALTY', 'LLM_PRESENCE_PENALTY', 'LLM_CONNECTORS', 'LLM_TOOLS', 'LLM_TOOL_RESULTS', 'LLM_EMBEDDING_INPUTS', 'LLM_EMBEDDING_DATASET_ID', 'LLM_EMBEDDING_INPUT_TYPE', 'LLM_EMBEDDING_JOB_NAME', 'LLM_RETRIEVAL_QUERY', 'LLM_RETRIEVAL_RESULTS', 'HTTP_MAX_RETRIES', 'HTTP_TIMEOUT')
+         names      ('__name__', '__module__', '__qualname__', 'Field', 'LLMSpanAttributes', 'OPENAI_API_BASE', '__annotations__', 'OPENAI_API_VERSION', 'OPENAI_API_BASE_VERSION', 'OPENAI_API_TYPE', 'URL_FULL', 'LLM_API', 'LLM_WRAPPER', 'LLM_MODEL', 'LLM_TYPE', 'LLM_TEMPERATURE', 'LLM_TOP_P', 'LLM_TOP_K', 'LLM_USER', 'LLM_SYSTEM_FINGERPRINT', 'LLM_PROMPTS', 'LLM_RESPONSES', 'LLM_TOKEN_COUNTS', 'LLM_STREAM', 'LLM_ENCODING_FORMAT', 'LLM_ENCODING_FORMATS', 'LLM_DIMENSIONS', 'LLM_GENERATION_ID', 'LLM_RESPONSE_ID', 'LLM_CITATIONS', 'LLM_DOCUMENTS', 'LLM_IS_SEARCH_REQUIRED', 'LLS_IS_SEARCH_REQUIRED', 'LLM_SEARCH_RESULTS', 'LLM_TOOL_CALLS', 'LLM_MAX_TOKENS', 'LLM_MAX_INPUT_TOKENS', 'LLM_CONVERSATION_ID', 'LLM_SEED', 'LLM_FREQUENCY_PENALTY', 'LLM_PRESENCE_PENALTY', 'LLM_CONNECTORS', 'LLM_TOOLS', 'LLM_TOOL_RESULTS', 'LLM_EMBEDDING_INPUTS', 'LLM_EMBEDDING_DATASET_ID', 'LLM_EMBEDDING_INPUT_TYPE', 'LLM_EMBEDDING_JOB_NAME', 'LLM_RETRIEVAL_QUERY', 'LLM_RETRIEVAL_RESULTS', 'HTTP_MAX_RETRIES', 'HTTP_TIMEOUT')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/llm_span_attributes.py'
          name       'LLMSpanAttributesValidator'
-         firstlineno 54
+         firstlineno 56
          lnotab
-            0x0c012e012e012e012e012e012e022e012e012e012e012e012e012e012e
+            0x0c012e012e012e012e012e012e012e022e012e012e012e012e012e012e
             012e012e012e012e012e012e012e012e012e012e012e012e012e012e012e
-            012e012e012e012e012e012e0104010eff1c0304010eff1c032e012e012e
-            012e01
+            012e012e012e012e012e012e012e0104010eff1c0304010eff1c032e012e
+            012e012e01
       'LLMSpanAttributesValidator'
       None
    names      ('__future__', 'annotations', 'typing', 'Optional', 'pydantic', 'Field', 'agiflow.opentelemetry.convention.agiflow_attributes', 'AgiflowSpanAttributesValidator', 'LLMSpanAttributes', 'LLMSpanAttributesValidator')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/convention/llm_span_attributes.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010c020c020c010c031a2d
+   lnotab 0x00ff02010c020c020c010c031a2f
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/agiflow_attributes.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/agiflow_attributes.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,40 +1,48 @@
 from __future__ import annotations
 
 from typing import Optional
 
-from pydantic import BaseModel, Extra, Field
+from pydantic import BaseModel, Field, ConfigDict
 
 
 class AgiflowSpanAttributes:
+    # Library name or decorator name
+    AGIFLOW_SERVICE_NAME = 'agiflow.service.name'
+    # Service type: LLM, Database, etc... from AgiflowServiceTypes
+    AGIFLOW_SERVICE_TYPE = 'agiflow.service.type'
+    # Library version
+    AGIFLOW_SERVICE_VERSION = 'agiflow.service.version'
+
+    # Function or class name
     AGIFLOW_ENTITY_NAME = "agiflow.entity.name"
+    # Function input
     AGIFLOW_ENTITY_INPUT = "agiflow.entity.input"
+    # Function output
     AGIFLOW_ENTITY_OUTPUT = "agiflow.entity.output"
+    # Function description
     AGIFLOW_ENTITY_DESCRIPTION = "agiflow.entity.description"
+
+    # Association properties from context.AssociationProperties
     AGIFLOW_ASSOCIATION_PROPERTIES = "agiflow.association.properties"
 
-    # Service type: LLM, Database, etc...
-    AGIFLOW_SERVICE_NAME = 'agiflow.service.name'
-    AGIFLOW_SERVICE_TYPE = 'agiflow.service.type'
-    AGIFLOW_SERVICE_VERSION = 'agiflow.service.version'
     AGIFLOW_TEST_ID = 'agiflow.testId'
     AGIFLOW_SDK_NAME = 'agiflow.sdk.name'
     AGIFLOW_SDK_VERSION = 'agiflow.sdk.version'
 
+    # Prompt settings
     AGIFLOW_PROMPT_KEY = "agiflow.prompt.key"
     AGIFLOW_PROMPT_VERSION = "agiflow.prompt.version"
     AGIFLOW_PROMPT_VERSION_NAME = "agiflow.prompt.version_name"
     AGIFLOW_PROMPT_VERSION_HASH = "agiflow.prompt.version_hash"
     AGIFLOW_PROMPT_TEMPLATE_VARIABLES = "agiflow.prompt.template_variables"
 
 
 class AgiflowSpanAttributesValidator(BaseModel):
-    class Config:
-        extra = Extra.forbid
-        use_enum_values = True
+    model_config = ConfigDict(extra='forbid', use_enum_values=True)
 
     # Service Provider
     AGIFLOW_SERVICE_NAME: str = Field(..., alias=AgiflowSpanAttributes.AGIFLOW_SERVICE_NAME)
     # Service type: LLM, Database, etc...
     AGIFLOW_SERVICE_TYPE: str = Field(..., alias=AgiflowSpanAttributes.AGIFLOW_SERVICE_TYPE)
     # Service Provider Version
     AGIFLOW_SERVICE_VERSION: Optional[str] = Field(
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/constants.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/constants.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,24 +1,32 @@
 from enum import Enum
 
 
 class AgiflowServiceTypes(str, Enum):
     LLM = 'LLM'
     DATABASE = 'Database'
     FRAMEWORK = 'Framework'
+    VECTORDB = 'VectorDB'
+    WORKFLOW = "Workflow"
+    TASK = "Task"
+    AGENT = "Agent"
+    TOOL = "Tool"
+    UNKNOWN = "Unknown"
+    CHAT = "Chat"
 
     def __str__(self):
         return str(self.value)
 
 
 class LLMTypes(str, Enum):
     CHAT = 'Chat'
     COMPLETION = 'Completion'
     IMAGE_GENERATION = 'ImageGeneration'
     EMBEDDING = 'Embedding'
+    RERANK = 'Rerank'
 
     def __str__(self):
         return str(self.value)
 
 
 class LLMPromptKeys(str, Enum):
     ROLE = 'role'
@@ -48,27 +56,15 @@
         return str(self.value)
 
 
 class LLMTokenUsageKeys(str, Enum):
     PROMPT_TOKENS = 'prompt_tokens'
     COMPLETION_TOKENS = 'completion_tokens'
     TOTAL_TOKENS = 'total_tokens'
-
-    def __str__(self):
-        return str(self.value)
-
-
-class AgiflowSpanKindValues(str, Enum):
-    WORKFLOW = "workflow"
-    TASK = "task"
-    AGENT = "agent"
-    TOOL = "tool"
-    UNKNOWN = "unknown"
-    CHAT = "Chat"
-    LLM = 'LLM'
+    SEARCH_UNITS = 'search_units'
 
     def __str__(self):
         return str(self.value)
 
 
 class Event(str, Enum):
     STREAM_START = "stream.start"
@@ -130,7 +126,20 @@
 class PineconeMethods(str, Enum):
     UPSERT = "pinecone.index.upsert"
     QUERY = "pinecone.index.query"
     DELETE = "pinecone.index.delete"
 
     def __str__(self):
         return str(self.value)
+
+
+class WeaviateMethods(Enum):
+    QUERY_BM25 = "weaviate.collections.queries.bm25"
+    QUERY_FETCH_OBJECT_BY_ID = "weaviate.collections.queries.fetch_object_by_id"
+    QUERY_FETCH_OBJECTS = "weaviate.collections.queries.fetch_objects"
+    QUERY_HYBRID = "weaviate.collections.queries.hybrid"
+    QUERY_NEAR_IMAGE = "weaviate.collections.queries.near_image"
+    QUERY_NEAR_MEDIA = "weaviate.collections.queries.near_media"
+    QUERY_NEAR_OBJECT = "weaviate.collections.queries.near_object"
+    QUERY_NEAR_TEXT = "weaviate.collections.queries.near_text"
+    QUERY_NEAR_VECTOR = "weaviate.collections.queries.near_vector"
+    COLLECTIONS_OPERATIONS = "weaviate.collections.collections"
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/database_span_attributes.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/database_span_attributes.py`

 * *Files 17% similar despite different names*

```diff
@@ -13,20 +13,30 @@
     DB_OPERATION = 'db.operation'
     DB_SYSTEM = 'db.system'
     DB_NAMESPACE = 'db.namespace'
     DB_INDEX = 'db.index'
     DB_COLLECTION_NAME = 'db.collection.name'
     DB_TOP_K = 'db.top_k'
     DB_EMBEDDING_MODEL = 'db.embedding_model'
+    DB_QUERY_FILTER = 'db.query.filter'
+    DB_QUERY_INCLUDE_VALUES = 'db.query.include_values'
+    DB_QUERY_INCLUDE_METADATA = 'db.query.include_metadata'
+    DB_USAGE_READ_UNITS = 'db.usage.read_units'
+    DB_USAGE_WRITE_UNITS = 'db.usage.write_units'
 
 
 class DatabaseSpanAttributesValidator(AgiflowSpanAttributesValidator):
     SERVER_ADDRESS: Optional[str] = Field(None, alias=DatabaseSpanAttributes.SERVER_ADDRESS)
     DB_QUERY: str = Field(..., alias=DatabaseSpanAttributes.DB_QUERY)
     DB_RESPONSE: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_RESPONSE)
     DB_OPERATION: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_OPERATION)
     DB_SYSTEM: str = Field(..., alias=DatabaseSpanAttributes.DB_SYSTEM)
     DB_NAMESPACE: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_NAMESPACE)
     DB_INDEX: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_INDEX)
     DB_COLLECTION_NAME: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_COLLECTION_NAME)
     DB_TOP_K: Optional[float] = Field(None, alias=DatabaseSpanAttributes.DB_TOP_K)
     DB_EMBEDDING_MODEL: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_EMBEDDING_MODEL)
+    DB_QUERY_FILTER: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_QUERY_FILTER)
+    DB_QUERY_INCLUDE_VALUES: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_QUERY_INCLUDE_VALUES)
+    DB_QUERY_INCLUDE_METADATA: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_QUERY_INCLUDE_METADATA)
+    DB_USAGE_READ_UNITS: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_USAGE_READ_UNITS)
+    DB_USAGE_WRITE_UNITS: Optional[str] = Field(None, alias=DatabaseSpanAttributes.DB_USAGE_WRITE_UNITS)
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/framework_span_attributes.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/framework_span_attributes.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/convention/llm_span_attributes.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/convention/llm_span_attributes.py`

 * *Files 4% similar despite different names*

```diff
@@ -10,14 +10,16 @@
     OPENAI_API_BASE = 'openai.api_base'
     OPENAI_API_VERSION = 'openai.api_version'
     OPENAI_API_TYPE = 'openai.api_type'
     URL_FULL = 'url.full'
     LLM_API = 'llm.api'
     LLM_MODEL = 'llm.model'
     LLM_TYPE = 'llm.type'
+    # Detect if the wrapper include instrumented llm or not
+    LLM_WRAPPER = 'llm.wrapper'
     LLM_TEMPERATURE = 'llm.temperature'
     LLM_TOP_P = 'llm.top_p'
     LLM_TOP_K = 'llm.top_k'
     LLM_USER = 'llm.user'
     LLM_SYSTEM_FINGERPRINT = 'llm.system.fingerprint'
     LLM_PROMPTS = 'llm.prompts'
     LLM_RESPONSES = 'llm.responses'
@@ -51,16 +53,17 @@
     HTTP_TIMEOUT = 'http.timeout'
 
 
 class LLMSpanAttributesValidator(AgiflowSpanAttributesValidator):
     OPENAI_API_BASE: Optional[str] = Field(None, alias=LLMSpanAttributes.OPENAI_API_BASE)
     OPENAI_API_BASE_VERSION: Optional[str] = Field(None, alias=LLMSpanAttributes.OPENAI_API_VERSION)
     OPENAI_API_TYPE: Optional[str] = Field(None, alias=LLMSpanAttributes.OPENAI_API_TYPE)
-    URL_FULL: str = Field(None, alias=LLMSpanAttributes.URL_FULL)
-    LLM_API: str = Field(None, alias=LLMSpanAttributes.LLM_API)
+    URL_FULL: Optional[str] = Field(None, alias=LLMSpanAttributes.URL_FULL)
+    LLM_API: Optional[str] = Field(None, alias=LLMSpanAttributes.LLM_API)
+    LLM_WRAPPER: Optional[bool] = Field(None, alias=LLMSpanAttributes.LLM_WRAPPER)
     LLM_MODEL: Optional[str] = Field(None, alias=LLMSpanAttributes.LLM_MODEL)
     # Type of llm called (Completion, Chat, Image Genration)
     LLM_TYPE: Optional[str] = Field(None, alias=LLMSpanAttributes.LLM_TYPE)
     LLM_TEMPERATURE: Optional[float] = Field(None, alias=LLMSpanAttributes.LLM_TEMPERATURE)
     LLM_TOP_P: Optional[float] = Field(None, alias=LLMSpanAttributes.LLM_TOP_P)
     LLM_TOP_K: Optional[float] = Field(None, alias=LLMSpanAttributes.LLM_TOP_K)
     LLM_USER: Optional[str] = Field(None, alias=LLMSpanAttributes.LLM_USER)
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/__pycache__/__init__.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/__init__.cpython-311.pyc`

 * *Files 20% similar despite different names*

#### Python bytecode

```diff
@@ -1,72 +1,55 @@
 magic:    0xa70d0d0a
-moddate:  0x907c5966 (Fri May 31 07:30:24 2024 UTC)
-files sz: 747
+moddate:  0x99dd5a66 (Sat Jun  1 08:36:41 2024 UTC)
+files sz: 390
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 2
    flags     : 0
    code
       0x9700640064016c006d015a010100640064026c026d035a030100640064
-      036c046d055a050100640064046c066d075a070100640064056c086d095a
-      09010067006406a2015a0a64075300
+      036c046d055a05010067006404a2015a0664055300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 (0)
-                 4 LOAD_CONST               1 (('LangchainInstrumentation',))
-                 6 IMPORT_NAME              0 (agiflow.opentelemetry.instrumentation.langchain.instrumentation)
-                 8 IMPORT_FROM              1 (LangchainInstrumentation)
-                10 STORE_NAME               1 (LangchainInstrumentation)
+                 4 LOAD_CONST               1 (('RunnableSpanCapture',))
+                 6 IMPORT_NAME              0 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.runnable)
+                 8 IMPORT_FROM              1 (RunnableSpanCapture)
+                10 STORE_NAME               1 (RunnableSpanCapture)
                 12 POP_TOP
    
      4          14 LOAD_CONST               0 (0)
-                16 LOAD_CONST               2 (('LangchainCommunityInstrumentation',))
-                18 IMPORT_NAME              2 (agiflow.opentelemetry.instrumentation.langchain_community.instrumentation)
-                20 IMPORT_FROM              3 (LangchainCommunityInstrumentation)
-                22 STORE_NAME               3 (LangchainCommunityInstrumentation)
+                16 LOAD_CONST               2 (('GenericSpanCapture',))
+                18 IMPORT_NAME              2 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.generic)
+                20 IMPORT_FROM              3 (GenericSpanCapture)
+                22 STORE_NAME               3 (GenericSpanCapture)
                 24 POP_TOP
    
      7          26 LOAD_CONST               0 (0)
-                28 LOAD_CONST               3 (('LangchainCoreInstrumentation',))
-                30 IMPORT_NAME              4 (agiflow.opentelemetry.instrumentation.langchain_core.instrumentation)
-                32 IMPORT_FROM              5 (LangchainCoreInstrumentation)
-                34 STORE_NAME               5 (LangchainCoreInstrumentation)
+                28 LOAD_CONST               3 (('LLMSpanCapture',))
+                30 IMPORT_NAME              4 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.llm)
+                32 IMPORT_FROM              5 (LLMSpanCapture)
+                34 STORE_NAME               5 (LLMSpanCapture)
                 36 POP_TOP
    
-    10          38 LOAD_CONST               0 (0)
-                40 LOAD_CONST               4 (('OpenAIInstrumentation',))
-                42 IMPORT_NAME              6 (agiflow.opentelemetry.instrumentation.openai.instrumentation)
-                44 IMPORT_FROM              7 (OpenAIInstrumentation)
-                46 STORE_NAME               7 (OpenAIInstrumentation)
-                48 POP_TOP
-   
-    13          50 LOAD_CONST               0 (0)
-                52 LOAD_CONST               5 (('AnthropicInstrumentation',))
-                54 IMPORT_NAME              8 (agiflow.opentelemetry.instrumentation.anthropic.instrumentation)
-                56 IMPORT_FROM              9 (AnthropicInstrumentation)
-                58 STORE_NAME               9 (AnthropicInstrumentation)
-                60 POP_TOP
-   
-    17          62 BUILD_LIST               0
-                64 LOAD_CONST               6 (('LangchainInstrumentation', 'LangchainCommunityInstrumentation', 'LangchainCoreInstrumentation', 'OpenAIInstrumentation', 'AnthropicInstrumentation'))
-                66 LIST_EXTEND              1
-                68 STORE_NAME              10 (__all__)
-                70 LOAD_CONST               7 (None)
-                72 RETURN_VALUE
+    12          38 BUILD_LIST               0
+                40 LOAD_CONST               4 (('RunnableSpanCapture', 'GenericSpanCapture', 'LLMSpanCapture'))
+                42 LIST_EXTEND              1
+                44 STORE_NAME               6 (__all__)
+                46 LOAD_CONST               5 (None)
+                48 RETURN_VALUE
    consts
       0
-      ('LangchainInstrumentation',)
-      ('LangchainCommunityInstrumentation',)
-      ('LangchainCoreInstrumentation',)
-      ('OpenAIInstrumentation',)
-      ('AnthropicInstrumentation',)
-      ('LangchainInstrumentation', 'LangchainCommunityInstrumentation', 'LangchainCoreInstrumentation', 'OpenAIInstrumentation', 'AnthropicInstrumentation')
+      ('RunnableSpanCapture',)
+      ('GenericSpanCapture',)
+      ('LLMSpanCapture',)
+      ('RunnableSpanCapture', 'GenericSpanCapture', 'LLMSpanCapture')
       None
-   names      ('agiflow.opentelemetry.instrumentation.langchain.instrumentation', 'LangchainInstrumentation', 'agiflow.opentelemetry.instrumentation.langchain_community.instrumentation', 'LangchainCommunityInstrumentation', 'agiflow.opentelemetry.instrumentation.langchain_core.instrumentation', 'LangchainCoreInstrumentation', 'agiflow.opentelemetry.instrumentation.openai.instrumentation', 'OpenAIInstrumentation', 'agiflow.opentelemetry.instrumentation.anthropic.instrumentation', 'AnthropicInstrumentation', '__all__')
+   names      ('agiflow.opentelemetry.instrumentation.langchain_core.hooks.runnable', 'RunnableSpanCapture', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks.generic', 'GenericSpanCapture', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks.llm', 'LLMSpanCapture', '__all__')
    varnames   ()
    freevars   ()
    cellvars   ()
-   filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/__init__.py'
+   filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__init__.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010c030c030c030c030c04
+   lnotab 0x00ff02010c030c030c05
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/__pycache__/instrumentation.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/__pycache__/instrumentation.cpython-311.pyc`

 * *Files 12% similar despite different names*

#### Python bytecode

```diff
@@ -1,226 +1,208 @@
 magic:    0xa70d0d0a
-moddate:  0x907c5966 (Fri May 31 07:30:24 2024 UTC)
-files sz: 1787
+moddate:  0x46ba5a66 (Sat Jun  1 06:05:58 2024 UTC)
+files sz: 1730
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
-      0x970064005a00640164026c015a01640164036c026d035a030100640164
-      046c046d055a050100640164056c066d075a070100640164066c086d095a
-      090100640164076c0a6d0b5a0b0100640164086c0c6d0d5a0d0100640164
-      096c0e6d0f5a0f0100020065016a10000000000000000065016a11000000
-      0000000000ac0aa6010000ab010000000000000000010002004700640b84
-      00640c6505a6030000ab0300000000000000005a1264025300
+      0x970064005a00640164026c016d025a020100640164036c036d045a0401
+      00640164046c056d065a060100640164056c076d085a080100640164066c
+      096d0a5a0a0100640164076c0b6d0c5a0c0100640164086c0d6d0e5a0e01
+      000200470064098400640a6504a6030000ab0300000000000000005a0f64
+      0b5300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 Agiflow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
-                 8 LOAD_CONST               2 (None)
-                10 IMPORT_NAME              1 (logging)
-                12 STORE_NAME               1 (logging)
-   
-    18          14 LOAD_CONST               1 (0)
-                16 LOAD_CONST               3 (('Collection',))
-                18 IMPORT_NAME              2 (typing)
-                20 IMPORT_FROM              3 (Collection)
-                22 STORE_NAME               3 (Collection)
-                24 POP_TOP
-   
-    20          26 LOAD_CONST               1 (0)
-                28 LOAD_CONST               4 (('BaseInstrumentor',))
-                30 IMPORT_NAME              4 (opentelemetry.instrumentation.instrumentor)
-                32 IMPORT_FROM              5 (BaseInstrumentor)
-                34 STORE_NAME               5 (BaseInstrumentor)
-                36 POP_TOP
-   
-    21          38 LOAD_CONST               1 (0)
-                40 LOAD_CONST               5 (('get_tracer',))
-                42 IMPORT_NAME              6 (opentelemetry.trace)
-                44 IMPORT_FROM              7 (get_tracer)
-                46 STORE_NAME               7 (get_tracer)
-                48 POP_TOP
-   
-    22          50 LOAD_CONST               1 (0)
-                52 LOAD_CONST               6 (('wrap_function_wrapper',))
-                54 IMPORT_NAME              8 (wrapt)
-                56 IMPORT_FROM              9 (wrap_function_wrapper)
-                58 STORE_NAME               9 (wrap_function_wrapper)
-                60 POP_TOP
-   
-    23          62 LOAD_CONST               1 (0)
-                64 LOAD_CONST               7 (('stream_wrapper',))
-                66 IMPORT_NAME             10 (agiflow.opentelemetry.instrumentation.utils)
-                68 IMPORT_FROM             11 (stream_wrapper)
-                70 STORE_NAME              11 (stream_wrapper)
-                72 POP_TOP
-   
-    27          74 LOAD_CONST               1 (0)
-                76 LOAD_CONST               8 (('MessageCreateSpanCapture',))
-                78 IMPORT_NAME             12 (agiflow.opentelemetry.instrumentation.anthropic.hooks)
-                80 IMPORT_FROM             13 (MessageCreateSpanCapture)
-                82 STORE_NAME              13 (MessageCreateSpanCapture)
-                84 POP_TOP
-   
-    30          86 LOAD_CONST               1 (0)
-                88 LOAD_CONST               9 (('__version__',))
-                90 IMPORT_NAME             14 (agiflow.version)
-                92 IMPORT_FROM             15 (__version__)
-                94 STORE_NAME              15 (__version__)
-                96 POP_TOP
-   
-    32          98 PUSH_NULL
-               100 LOAD_NAME                1 (logging)
-               102 LOAD_ATTR               16 (basicConfig)
-               112 LOAD_NAME                1 (logging)
-               114 LOAD_ATTR               17 (FATAL)
-               124 KW_NAMES                10
-               126 PRECALL                  1
-               130 CALL                     1
-               140 POP_TOP
-   
-    35         142 PUSH_NULL
-               144 LOAD_BUILD_CLASS
-               146 LOAD_CONST              11 (<code object AnthropicInstrumentation, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py", line 35>)
-               148 MAKE_FUNCTION            0
-               150 LOAD_CONST              12 ('AnthropicInstrumentation')
-               152 LOAD_NAME                5 (BaseInstrumentor)
-               154 PRECALL                  3
-               158 CALL                     3
-               168 STORE_NAME              18 (AnthropicInstrumentation)
-               170 LOAD_CONST               2 (None)
-               172 RETURN_VALUE
+                 8 LOAD_CONST               2 (('Collection',))
+                10 IMPORT_NAME              1 (typing)
+                12 IMPORT_FROM              2 (Collection)
+                14 STORE_NAME               2 (Collection)
+                16 POP_TOP
+   
+    19          18 LOAD_CONST               1 (0)
+                20 LOAD_CONST               3 (('BaseInstrumentor',))
+                22 IMPORT_NAME              3 (opentelemetry.instrumentation.instrumentor)
+                24 IMPORT_FROM              4 (BaseInstrumentor)
+                26 STORE_NAME               4 (BaseInstrumentor)
+                28 POP_TOP
+   
+    20          30 LOAD_CONST               1 (0)
+                32 LOAD_CONST               4 (('get_tracer',))
+                34 IMPORT_NAME              5 (opentelemetry.trace)
+                36 IMPORT_FROM              6 (get_tracer)
+                38 STORE_NAME               6 (get_tracer)
+                40 POP_TOP
+   
+    21          42 LOAD_CONST               1 (0)
+                44 LOAD_CONST               5 (('wrap_function_wrapper',))
+                46 IMPORT_NAME              7 (wrapt)
+                48 IMPORT_FROM              8 (wrap_function_wrapper)
+                50 STORE_NAME               8 (wrap_function_wrapper)
+                52 POP_TOP
+   
+    22          54 LOAD_CONST               1 (0)
+                56 LOAD_CONST               6 (('stream_wrapper',))
+                58 IMPORT_NAME              9 (agiflow.opentelemetry.instrumentation.utils)
+                60 IMPORT_FROM             10 (stream_wrapper)
+                62 STORE_NAME              10 (stream_wrapper)
+                64 POP_TOP
+   
+    26          66 LOAD_CONST               1 (0)
+                68 LOAD_CONST               7 (('MessageCreateSpanCapture',))
+                70 IMPORT_NAME             11 (agiflow.opentelemetry.instrumentation.anthropic.hooks)
+                72 IMPORT_FROM             12 (MessageCreateSpanCapture)
+                74 STORE_NAME              12 (MessageCreateSpanCapture)
+                76 POP_TOP
+   
+    29          78 LOAD_CONST               1 (0)
+                80 LOAD_CONST               8 (('__version__',))
+                82 IMPORT_NAME             13 (agiflow.version)
+                84 IMPORT_FROM             14 (__version__)
+                86 STORE_NAME              14 (__version__)
+                88 POP_TOP
+   
+    32          90 PUSH_NULL
+                92 LOAD_BUILD_CLASS
+                94 LOAD_CONST               9 (<code object AnthropicInstrumentation, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py", line 32>)
+                96 MAKE_FUNCTION            0
+                98 LOAD_CONST              10 ('AnthropicInstrumentation')
+               100 LOAD_NAME                4 (BaseInstrumentor)
+               102 PRECALL                  3
+               106 CALL                     3
+               116 STORE_NAME              15 (AnthropicInstrumentation)
+               118 LOAD_CONST              11 (None)
+               120 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 Agiflow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
-      None
       ('Collection',)
       ('BaseInstrumentor',)
       ('get_tracer',)
       ('wrap_function_wrapper',)
       ('stream_wrapper',)
       ('MessageCreateSpanCapture',)
       ('__version__',)
-      ('level',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 3
          flags     : 0
          code
             0x970065005a0164005a0264015a03640265046505190000000000000000
             006602640384045a06640484005a07640584005a08640684005a09640753
             00
-          35           0 RESUME                   0
+          32           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('AnthropicInstrumentation')
                        8 STORE_NAME               2 (__qualname__)
          
-          36          10 LOAD_CONST               1 ('\n    The AnthropicInstrumentation class represents the Anthropic instrumentation\n    ')
+          33          10 LOAD_CONST               1 ('\n    The AnthropicInstrumentation class represents the Anthropic instrumentation\n    ')
                       12 STORE_NAME               3 (__doc__)
          
-          40          14 LOAD_CONST               2 ('return')
+          37          14 LOAD_CONST               2 ('return')
                       16 LOAD_NAME                4 (Collection)
                       18 LOAD_NAME                5 (str)
                       20 BINARY_SUBSCR
                       30 BUILD_TUPLE              2
-                      32 LOAD_CONST               3 (<code object instrumentation_dependencies, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py", line 40>)
+                      32 LOAD_CONST               3 (<code object instrumentation_dependencies, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py", line 37>)
                       34 MAKE_FUNCTION            4 (annotations)
                       36 STORE_NAME               6 (instrumentation_dependencies)
          
-          43          38 LOAD_CONST               4 (<code object _instrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py", line 43>)
+          40          38 LOAD_CONST               4 (<code object _instrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py", line 40>)
                       40 MAKE_FUNCTION            0
                       42 STORE_NAME               7 (_instrument)
          
-          56          44 LOAD_CONST               5 (<code object _instrument_module, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py", line 56>)
+          53          44 LOAD_CONST               5 (<code object _instrument_module, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py", line 53>)
                       46 MAKE_FUNCTION            0
                       48 STORE_NAME               8 (_instrument_module)
          
-          59          50 LOAD_CONST               6 (<code object _uninstrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py", line 59>)
+          56          50 LOAD_CONST               6 (<code object _uninstrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py", line 56>)
                       52 MAKE_FUNCTION            0
                       54 STORE_NAME               9 (_uninstrument)
                       56 LOAD_CONST               7 (None)
                       58 RETURN_VALUE
          consts
             'AnthropicInstrumentation'
             '\n    The AnthropicInstrumentation class represents the Anthropic instrumentation\n    '
             'return'
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x9700640167015300
-                40           0 RESUME                   0
+                37           0 RESUME                   0
                
-                41           2 LOAD_CONST               1 ('anthropic >= 0.19.1')
+                38           2 LOAD_CONST               1 ('anthropic >= 0.19.1')
                              4 BUILD_LIST               1
                              6 RETURN_VALUE
                consts
                   None
                   'anthropic >= 0.19.1'
                names      ()
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py'
                name       'instrumentation_dependencies'
-               firstlineno 40
+               firstlineno 37
                lnotab 0x0201
             code
                argcount  : 1
                nlocals   : 4
                stacksize : 8
                flags     : 11
                code
                   0x97007c01a00000000000000000000000000000000000000000006401a6
                   010000ab0100000000000000007d02740300000000000000000000740400
                   0000000000000000007406000000000000000000007c02a6030000ab0300
                   000000000000007d0374090000000000000000000064026403740b000000
                   000000000000007c03740c00000000000000000000ac04a6020000ab0200
                   00000000000000a6030000ab030000000000000000010064005300
-                43           0 RESUME                   0
+                40           0 RESUME                   0
                
-                44           2 LOAD_FAST                1 (kwargs)
+                41           2 LOAD_FAST                1 (kwargs)
                              4 LOAD_METHOD              0 (get)
                             26 LOAD_CONST               1 ('tracer_provider')
                             28 PRECALL                  1
                             32 CALL                     1
                             42 STORE_FAST               2 (tracer_provider)
                
-                45          44 LOAD_GLOBAL              3 (NULL + get_tracer)
+                42          44 LOAD_GLOBAL              3 (NULL + get_tracer)
                             56 LOAD_GLOBAL              4 (__name__)
                             68 LOAD_GLOBAL              6 (__version__)
                             80 LOAD_FAST                2 (tracer_provider)
                             82 PRECALL                  3
                             86 CALL                     3
                             96 STORE_FAST               3 (tracer)
                
-                47          98 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
+                44          98 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
                
-                48         110 LOAD_CONST               2 ('anthropic.resources.messages')
+                45         110 LOAD_CONST               2 ('anthropic.resources.messages')
                
-                49         112 LOAD_CONST               3 ('Messages.create')
+                46         112 LOAD_CONST               3 ('Messages.create')
                
-                50         114 LOAD_GLOBAL             11 (NULL + stream_wrapper)
+                47         114 LOAD_GLOBAL             11 (NULL + stream_wrapper)
                
-                51         126 LOAD_FAST                3 (tracer)
+                48         126 LOAD_FAST                3 (tracer)
                
-                52         128 LOAD_GLOBAL             12 (MessageCreateSpanCapture)
+                49         128 LOAD_GLOBAL             12 (MessageCreateSpanCapture)
                
-                50         140 KW_NAMES                 4
+                47         140 KW_NAMES                 4
                            142 PRECALL                  2
                            146 CALL                     2
                
-                47         156 PRECALL                  3
+                44         156 PRECALL                  3
                            160 CALL                     3
                            170 POP_TOP
                            172 LOAD_CONST               0 (None)
                            174 RETURN_VALUE
                consts
                   None
                   'tracer_provider'
@@ -229,67 +211,68 @@
                   ('tracer', 'SpanCapture')
                names      ('get', 'get_tracer', '__name__', '__version__', 'wrap_function_wrapper', 'stream_wrapper', 'MessageCreateSpanCapture')
                varnames   ('self', 'kwargs', 'tracer_provider', 'tracer')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py'
                name       '_instrument'
-               firstlineno 43
+               firstlineno 40
                lnotab 0x02012a0136020c01020102010c0102010cfe10fd
             code
                argcount  : 2
                nlocals   : 2
                stacksize : 1
                flags     : 3
                code 0x970064005300
-                56           0 RESUME                   0
+                53           0 RESUME                   0
                
-                57           2 LOAD_CONST               0 (None)
+                54           2 LOAD_CONST               0 (None)
                              4 RETURN_VALUE
                consts
                   None
                names      ()
                varnames   ('self', 'module_name')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py'
                name       '_instrument_module'
-               firstlineno 56
+               firstlineno 53
                lnotab 0x0201
             code
                argcount  : 1
                nlocals   : 2
                stacksize : 1
                flags     : 11
                code 0x970064005300
-                59           0 RESUME                   0
+                56           0 RESUME                   0
                
-                60           2 LOAD_CONST               0 (None)
+                57           2 LOAD_CONST               0 (None)
                              4 RETURN_VALUE
                consts
                   None
                names      ()
                varnames   ('self', 'kwargs')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py'
                name       '_uninstrument'
-               firstlineno 59
+               firstlineno 56
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', '__doc__', 'Collection', 'str', 'instrumentation_dependencies', '_instrument', '_instrument_module', '_uninstrument')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py'
          name       'AnthropicInstrumentation'
-         firstlineno 35
+         firstlineno 32
          lnotab 0x0a0104041803060d0603
       'AnthropicInstrumentation'
-   names      ('__doc__', 'logging', 'typing', 'Collection', 'opentelemetry.instrumentation.instrumentor', 'BaseInstrumentor', 'opentelemetry.trace', 'get_tracer', 'wrapt', 'wrap_function_wrapper', 'agiflow.opentelemetry.instrumentation.utils', 'stream_wrapper', 'agiflow.opentelemetry.instrumentation.anthropic.hooks', 'MessageCreateSpanCapture', 'agiflow.version', '__version__', 'basicConfig', 'FATAL', 'AnthropicInstrumentation')
+      None
+   names      ('__doc__', 'typing', 'Collection', 'opentelemetry.instrumentation.instrumentor', 'BaseInstrumentor', 'opentelemetry.trace', 'get_tracer', 'wrapt', 'wrap_function_wrapper', 'agiflow.opentelemetry.instrumentation.utils', 'stream_wrapper', 'agiflow.opentelemetry.instrumentation.anthropic.hooks', 'MessageCreateSpanCapture', 'agiflow.version', '__version__', 'AnthropicInstrumentation')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff0201041008010c020c010c010c010c040c030c022c03
+   lnotab 0x00ff020104100c020c010c010c010c040c030c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/hooks/__pycache__/base.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/hooks/__pycache__/base.cpython-311.pyc`

 * *Files 15% similar despite different names*

#### Python bytecode

```diff
@@ -1,66 +1,68 @@
 magic:    0xa70d0d0a
-moddate:  0x907c5966 (Fri May 31 07:30:24 2024 UTC)
-files sz: 1486
+moddate:  0x02995a66 (Sat Jun  1 03:44:02 2024 UTC)
+files sz: 1581
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
-      0x970064005a00640164026c015a02640164036c036d045a040100640164
-      046c056d065a060100640164056c076d085a080100020047006406840064
-      076508a6030000ab0300000000000000005a0964025300
+      0x970064005a00640164026c015a02640164036c036d045a046d055a0501
+      00640164046c066d075a070100640164056c086d095a0901000200470064
+      06840064076509a6030000ab0300000000000000005a0a64025300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
                  8 LOAD_CONST               2 (None)
                 10 IMPORT_NAME              1 (importlib.metadata)
                 12 STORE_NAME               2 (importlib)
    
     18          14 LOAD_CONST               1 (0)
-                16 LOAD_CONST               3 (('SpanAttributes',))
+                16 LOAD_CONST               3 (('SpanAttributes', 'AgiflowServiceTypes'))
                 18 IMPORT_NAME              3 (agiflow.opentelemetry.convention)
                 20 IMPORT_FROM              4 (SpanAttributes)
                 22 STORE_NAME               4 (SpanAttributes)
-                24 POP_TOP
-   
-    19          26 LOAD_CONST               1 (0)
-                28 LOAD_CONST               4 (('SERVICE_PROVIDERS',))
-                30 IMPORT_NAME              5 (agiflow.opentelemetry.instrumentation.constants.common)
-                32 IMPORT_FROM              6 (SERVICE_PROVIDERS)
-                34 STORE_NAME               6 (SERVICE_PROVIDERS)
-                36 POP_TOP
-   
-    22          38 LOAD_CONST               1 (0)
-                40 LOAD_CONST               5 (('BaseSpanCapture',))
-                42 IMPORT_NAME              7 (agiflow.opentelemetry.instrumentation.utils)
-                44 IMPORT_FROM              8 (BaseSpanCapture)
-                46 STORE_NAME               8 (BaseSpanCapture)
-                48 POP_TOP
-   
-    25          50 PUSH_NULL
-                52 LOAD_BUILD_CLASS
-                54 LOAD_CONST               6 (<code object AnthropicSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/base.py", line 25>)
-                56 MAKE_FUNCTION            0
-                58 LOAD_CONST               7 ('AnthropicSpanCapture')
-                60 LOAD_NAME                8 (BaseSpanCapture)
-                62 PRECALL                  3
-                66 CALL                     3
-                76 STORE_NAME               9 (AnthropicSpanCapture)
-                78 LOAD_CONST               2 (None)
-                80 RETURN_VALUE
+                24 IMPORT_FROM              5 (AgiflowServiceTypes)
+                26 STORE_NAME               5 (AgiflowServiceTypes)
+                28 POP_TOP
+   
+    19          30 LOAD_CONST               1 (0)
+                32 LOAD_CONST               4 (('SERVICE_PROVIDERS',))
+                34 IMPORT_NAME              6 (agiflow.opentelemetry.instrumentation.constants.common)
+                36 IMPORT_FROM              7 (SERVICE_PROVIDERS)
+                38 STORE_NAME               7 (SERVICE_PROVIDERS)
+                40 POP_TOP
+   
+    22          42 LOAD_CONST               1 (0)
+                44 LOAD_CONST               5 (('BaseSpanCapture',))
+                46 IMPORT_NAME              8 (agiflow.opentelemetry.instrumentation.utils)
+                48 IMPORT_FROM              9 (BaseSpanCapture)
+                50 STORE_NAME               9 (BaseSpanCapture)
+                52 POP_TOP
+   
+    25          54 PUSH_NULL
+                56 LOAD_BUILD_CLASS
+                58 LOAD_CONST               6 (<code object AnthropicSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/base.py", line 25>)
+                60 MAKE_FUNCTION            0
+                62 LOAD_CONST               7 ('AnthropicSpanCapture')
+                64 LOAD_NAME                9 (BaseSpanCapture)
+                66 PRECALL                  3
+                70 CALL                     3
+                80 STORE_NAME              10 (AnthropicSpanCapture)
+                82 LOAD_CONST               2 (None)
+                84 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
       None
-      ('SpanAttributes',)
+      ('SpanAttributes', 'AgiflowServiceTypes')
       ('SERVICE_PROVIDERS',)
       ('BaseSpanCapture',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 2
          flags     : 0
@@ -101,15 +103,17 @@
                   0000006a060000000000000000a6010000ab0100000000000000006e0164
                   037d03740e000000000000000000006404190000000000000000007d047c
                   00a008000000000000000000000000000000000000000074120000000000
                   00000000006a0a00000000000000007c037412000000000000000000006a
                   0b00000000000000007c047412000000000000000000006a0c0000000000
                   000000741a000000000000000000006a0e0000000000000000a00f000000
                   00000000000000000000000000000000006405a6010000ab010000000000
-                  0000006903a6010000ab010000000000000000010064005300
+                  0000007412000000000000000000006a1000000000000000007422000000
+                  000000000000006a1200000000000000006904a6010000ab010000000000
+                  000000010064005300
                              0 COPY_FREE_VARS           1
                
                 27           2 RESUME                   0
                
                 32           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
@@ -174,45 +178,50 @@
                            332 LOAD_GLOBAL             26 (importlib)
                            344 LOAD_ATTR               14 (metadata)
                            354 LOAD_METHOD             15 (version)
                            376 LOAD_CONST               5 ('anthropic')
                            378 PRECALL                  1
                            382 CALL                     1
                
-                39         392 BUILD_MAP                3
-                           394 PRECALL                  1
-                           398 CALL                     1
-                           408 POP_TOP
-                           410 LOAD_CONST               0 (None)
-                           412 RETURN_VALUE
+                43         392 LOAD_GLOBAL             18 (SpanAttributes)
+                           404 LOAD_ATTR               16 (AGIFLOW_SERVICE_TYPE)
+                           414 LOAD_GLOBAL             34 (AgiflowServiceTypes)
+                           426 LOAD_ATTR               18 (LLM)
+               
+                39         436 BUILD_MAP                4
+                           438 PRECALL                  1
+                           442 CALL                     1
+                           452 POP_TOP
+                           454 LOAD_CONST               0 (None)
+                           456 RETURN_VALUE
                consts
                   None
                   '_client'
                   '_base_url'
                   ''
                   'ANTHROPIC'
                   'anthropic'
-               names      ('super', '__init__', 'hasattr', 'instance', '_client', 'str', '_base_url', 'SERVICE_PROVIDERS', 'set_pydantic_attributes', 'SpanAttributes', 'URL_FULL', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_VERSION', 'importlib', 'metadata', 'version')
+               names      ('super', '__init__', 'hasattr', 'instance', '_client', 'str', '_base_url', 'SERVICE_PROVIDERS', 'set_pydantic_attributes', 'SpanAttributes', 'URL_FULL', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_VERSION', 'importlib', 'metadata', 'version', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'LLM')
                varnames   ('self', 'args', 'kwargs', 'base_url', 'service_provider')
                freevars   ('__class__',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/base.py'
                name       '__init__'
                firstlineno 27
-               lnotab 0x0405320328ff020132ff3e0202fd02051a0118011801180152fd
+               lnotab 0x0405320328ff020132ff3e0202fd02051a0118011801180152012cfc
          names      ('__name__', '__module__', '__qualname__', '__init__', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/base.py'
          name       'AnthropicSpanCapture'
          firstlineno 25
          lnotab 0x0c02
       'AnthropicSpanCapture'
-   names      ('__doc__', 'importlib.metadata', 'importlib', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'agiflow.opentelemetry.instrumentation.constants.common', 'SERVICE_PROVIDERS', 'agiflow.opentelemetry.instrumentation.utils', 'BaseSpanCapture', 'AnthropicSpanCapture')
+   names      ('__doc__', 'importlib.metadata', 'importlib', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'agiflow.opentelemetry.instrumentation.constants.common', 'SERVICE_PROVIDERS', 'agiflow.opentelemetry.instrumentation.utils', 'BaseSpanCapture', 'AnthropicSpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/base.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff0201041008010c010c030c03
+   lnotab 0x00ff02010410080110010c030c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/hooks/__pycache__/message_create.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/hooks/__pycache__/message_create.cpython-311.pyc`

 * *Files 8% similar despite different names*

#### Python bytecode

```diff
@@ -1,22 +1,21 @@
 magic:    0xa70d0d0a
-moddate:  0xe77c5966 (Fri May 31 07:31:51 2024 UTC)
-files sz: 7600
+moddate:  0x43985a66 (Sat Jun  1 03:40:51 2024 UTC)
+files sz: 7481
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
       0x970064005a00640164026c016d025a026d035a036d045a040100640164
       036c056d065a060100640164046c076d085a080100640164056c096d0a5a
-      0a0100640164066c0b6d0c5a0c0100640164076c0d6d0e5a0e6d0f5a0f6d
-      105a100100640164086c116d125a120100640164096c136d145a14010002
-      004700640a8400640b650ca6030000ab0300000000000000005a15640c53
-      00
+      0a0100640164066c0b6d0c5a0c0100640164076c0d6d0e5a0e6d0f5a0f01
+      00640164086c106d115a110100640164096c126d135a1301000200470064
+      0a8400640b650ca6030000ab0300000000000000005a14640c5300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
                  8 LOAD_CONST               2 (('Event', 'LLMTokenUsageKeys', 'LLMTypes'))
@@ -54,123 +53,110 @@
                 64 LOAD_CONST               6 (('AnthropicSpanCapture',))
                 66 IMPORT_NAME             11 (agiflow.opentelemetry.instrumentation.anthropic.hooks.base)
                 68 IMPORT_FROM             12 (AnthropicSpanCapture)
                 70 STORE_NAME              12 (AnthropicSpanCapture)
                 72 POP_TOP
    
     22          74 LOAD_CONST               1 (0)
-                76 LOAD_CONST               7 (('SpanAttributes', 'AgiflowServiceTypes', 'AgiflowSpanKindValues'))
+                76 LOAD_CONST               7 (('SpanAttributes', 'AgiflowServiceTypes'))
                 78 IMPORT_NAME             13 (agiflow.opentelemetry.convention)
                 80 IMPORT_FROM             14 (SpanAttributes)
                 82 STORE_NAME              14 (SpanAttributes)
                 84 IMPORT_FROM             15 (AgiflowServiceTypes)
                 86 STORE_NAME              15 (AgiflowServiceTypes)
-                88 IMPORT_FROM             16 (AgiflowSpanKindValues)
-                90 STORE_NAME              16 (AgiflowSpanKindValues)
-                92 POP_TOP
+                88 POP_TOP
    
-    27          94 LOAD_CONST               1 (0)
-                96 LOAD_CONST               8 (('should_send_prompts',))
-                98 IMPORT_NAME             17 (agiflow.opentelemetry.utils)
-               100 IMPORT_FROM             18 (should_send_prompts)
-               102 STORE_NAME              18 (should_send_prompts)
-               104 POP_TOP
+    26          90 LOAD_CONST               1 (0)
+                92 LOAD_CONST               8 (('should_send_prompts',))
+                94 IMPORT_NAME             16 (agiflow.opentelemetry.utils)
+                96 IMPORT_FROM             17 (should_send_prompts)
+                98 STORE_NAME              17 (should_send_prompts)
+               100 POP_TOP
    
-    28         106 LOAD_CONST               1 (0)
-               108 LOAD_CONST               9 (('StatusCode',))
-               110 IMPORT_NAME             19 (opentelemetry.trace)
-               112 IMPORT_FROM             20 (StatusCode)
-               114 STORE_NAME              20 (StatusCode)
-               116 POP_TOP
+    27         102 LOAD_CONST               1 (0)
+               104 LOAD_CONST               9 (('StatusCode',))
+               106 IMPORT_NAME             18 (opentelemetry.trace)
+               108 IMPORT_FROM             19 (StatusCode)
+               110 STORE_NAME              19 (StatusCode)
+               112 POP_TOP
    
-    31         118 PUSH_NULL
-               120 LOAD_BUILD_CLASS
-               122 LOAD_CONST              10 (<code object MessageCreateSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 31>)
-               124 MAKE_FUNCTION            0
-               126 LOAD_CONST              11 ('MessageCreateSpanCapture')
-               128 LOAD_NAME               12 (AnthropicSpanCapture)
-               130 PRECALL                  3
-               134 CALL                     3
-               144 STORE_NAME              21 (MessageCreateSpanCapture)
-               146 LOAD_CONST              12 (None)
-               148 RETURN_VALUE
+    30         114 PUSH_NULL
+               116 LOAD_BUILD_CLASS
+               118 LOAD_CONST              10 (<code object MessageCreateSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 30>)
+               120 MAKE_FUNCTION            0
+               122 LOAD_CONST              11 ('MessageCreateSpanCapture')
+               124 LOAD_NAME               12 (AnthropicSpanCapture)
+               126 PRECALL                  3
+               130 CALL                     3
+               140 STORE_NAME              20 (MessageCreateSpanCapture)
+               142 LOAD_CONST              12 (None)
+               144 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
       ('Event', 'LLMTokenUsageKeys', 'LLMTypes')
       ('LLMSpanAttributesValidator',)
       ('APIS',)
       ('serialise_to_json',)
       ('AnthropicSpanCapture',)
-      ('SpanAttributes', 'AgiflowServiceTypes', 'AgiflowSpanKindValues')
+      ('SpanAttributes', 'AgiflowServiceTypes')
       ('should_send_prompts',)
       ('StatusCode',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 2
          flags     : 0
          code
-            0x8700970065005a0164005a0288006601640184085a03650464028400a6
-            000000ab0000000000000000005a05640384005a06640484005a07640584
-            005a08880078015a095300
+            0x8700970065005a0164005a0288006601640184085a03640284005a0464
+            0384005a05640484005a06880078015a075300
                        0 MAKE_CELL                0 (__class__)
          
-          31           2 RESUME                   0
+          30           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
                        8 LOAD_CONST               0 ('MessageCreateSpanCapture')
                       10 STORE_NAME               2 (__qualname__)
          
-          32          12 LOAD_CLOSURE             0 (__class__)
+          31          12 LOAD_CLOSURE             0 (__class__)
                       14 BUILD_TUPLE              1
-                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 32>)
+                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 31>)
                       18 MAKE_FUNCTION            8 (closure)
                       20 STORE_NAME               3 (__init__)
          
-          35          22 LOAD_NAME                4 (staticmethod)
+          34          22 LOAD_CONST               2 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 34>)
+                      24 MAKE_FUNCTION            0
+                      26 STORE_NAME               4 (capture_input)
          
-          36          24 LOAD_CONST               2 (<code object get_span_kind, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 35>)
-                      26 MAKE_FUNCTION            0
+          65          28 LOAD_CONST               3 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 65>)
+                      30 MAKE_FUNCTION            0
+                      32 STORE_NAME               5 (capture_output)
          
-          35          28 PRECALL                  0
-                      32 CALL                     0
-         
-          36          42 STORE_NAME               5 (get_span_kind)
-         
-          39          44 LOAD_CONST               3 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 39>)
-                      46 MAKE_FUNCTION            0
-                      48 STORE_NAME               6 (capture_input)
-         
-          70          50 LOAD_CONST               4 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 70>)
-                      52 MAKE_FUNCTION            0
-                      54 STORE_NAME               7 (capture_output)
-         
-         111          56 LOAD_CONST               5 (<code object capture_stream_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 111>)
-                      58 MAKE_FUNCTION            0
-                      60 STORE_NAME               8 (capture_stream_output)
-                      62 LOAD_CLOSURE             0 (__class__)
-                      64 COPY                     1
-                      66 STORE_NAME               9 (__classcell__)
-                      68 RETURN_VALUE
+         106          34 LOAD_CONST               4 (<code object capture_stream_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py", line 106>)
+                      36 MAKE_FUNCTION            0
+                      38 STORE_NAME               6 (capture_stream_output)
+                      40 LOAD_CLOSURE             0 (__class__)
+                      42 COPY                     1
+                      44 STORE_NAME               7 (__classcell__)
+                      46 RETURN_VALUE
          consts
             'MessageCreateSpanCapture'
             code
                argcount  : 1
                nlocals   : 3
                stacksize : 5
                flags     : 15
                code
                   0x950197000200740100000000000000000000a6000000ab000000000000
                   0000006a0100000000000000007c0169007c02a4018e01010064005300
                              0 COPY_FREE_VARS           1
                
-                32           2 RESUME                   0
+                31           2 RESUME                   0
                
-                33           4 PUSH_NULL
+                32           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
                             22 CALL                     0
                             32 LOAD_ATTR                1 (__init__)
                             42 LOAD_FAST                1 (args)
                             44 BUILD_MAP                0
                             46 LOAD_FAST                2 (kwargs)
@@ -183,39 +169,18 @@
                   None
                names      ('super', '__init__')
                varnames   ('self', 'args', 'kwargs')
                freevars   ('__class__',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py'
                name       '__init__'
-               firstlineno 32
+               firstlineno 31
                lnotab 0x0401
             code
                argcount  : 1
-               nlocals   : 1
-               stacksize : 1
-               flags     : 3
-               code 0x97007400000000000000000000006a0100000000000000005300
-                35           0 RESUME                   0
-               
-                37           2 LOAD_GLOBAL              0 (AgiflowSpanKindValues)
-                            14 LOAD_ATTR                1 (CHAT)
-                            24 RETURN_VALUE
-               consts
-                  None
-               names      ('AgiflowSpanKindValues', 'CHAT')
-               varnames   ('instance',)
-               freevars   ()
-               cellvars   ()
-               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py'
-               name       'get_span_kind'
-               firstlineno 35
-               lnotab 0x0202
-            code
-               argcount  : 1
                nlocals   : 4
                stacksize : 12
                flags     : 3
                code
                   0x97007400000000000000000000006a0100000000000000007404000000
                   000000000000006a0300000000000000007400000000000000000000006a
                   040000000000000000740a000000000000000000006a0600000000000000
@@ -256,205 +221,205 @@
                   00000000000000a00b000000000000000000000000000000000000000064
                   0ca6010000ab01000000000000000081277c006a0a0000000000000000a0
                   0b0000000000000000000000000000000000000000640ca6010000ab0100
                   000000000000007c017400000000000000000000006a1400000000000000
                   003c0000007c00a01500000000000000000000000000000000000000007c
                   01742c00000000000000000000a6020000ab020000000000000000010064
                   005300
-                39           0 RESUME                   0
+                34           0 RESUME                   0
                
-                41           2 LOAD_GLOBAL              0 (SpanAttributes)
+                36           2 LOAD_GLOBAL              0 (SpanAttributes)
                             14 LOAD_ATTR                1 (AGIFLOW_SERVICE_TYPE)
                             24 LOAD_GLOBAL              4 (AgiflowServiceTypes)
                             36 LOAD_ATTR                3 (LLM)
                
-                42          46 LOAD_GLOBAL              0 (SpanAttributes)
+                37          46 LOAD_GLOBAL              0 (SpanAttributes)
                             58 LOAD_ATTR                4 (LLM_TYPE)
                             68 LOAD_GLOBAL             10 (LLMTypes)
                             80 LOAD_ATTR                6 (CHAT)
                
-                43          90 LOAD_GLOBAL              0 (SpanAttributes)
+                38          90 LOAD_GLOBAL              0 (SpanAttributes)
                            102 LOAD_ATTR                7 (LLM_API)
                            112 LOAD_GLOBAL             16 (APIS)
                            124 LOAD_CONST               1 ('MESSAGES_CREATE')
                            126 BINARY_SUBSCR
                            136 LOAD_CONST               2 ('ENDPOINT')
                            138 BINARY_SUBSCR
                
-                44         148 LOAD_GLOBAL              0 (SpanAttributes)
+                39         148 LOAD_GLOBAL              0 (SpanAttributes)
                            160 LOAD_ATTR                9 (LLM_MODEL)
                            170 LOAD_FAST                0 (self)
                            172 LOAD_ATTR               10 (fkwargs)
                            182 LOAD_METHOD             11 (get)
                            204 LOAD_CONST               3 ('model')
                            206 PRECALL                  1
                            210 CALL                     1
                
-                45         220 LOAD_GLOBAL              0 (SpanAttributes)
+                40         220 LOAD_GLOBAL              0 (SpanAttributes)
                            232 LOAD_ATTR               12 (LLM_STREAM)
                            242 LOAD_FAST                0 (self)
                            244 LOAD_ATTR               10 (fkwargs)
                            254 LOAD_METHOD             11 (get)
                            276 LOAD_CONST               4 ('stream')
                            278 PRECALL                  1
                            282 CALL                     1
                
-                40         292 BUILD_MAP                5
+                35         292 BUILD_MAP                5
                            294 STORE_FAST               1 (span_attributes)
                
-                48         296 LOAD_GLOBAL             27 (NULL + should_send_prompts)
+                43         296 LOAD_GLOBAL             27 (NULL + should_send_prompts)
                            308 PRECALL                  0
                            312 CALL                     0
                            322 POP_JUMP_FORWARD_IF_FALSE   130 (to 584)
                
-                49         324 LOAD_GLOBAL             29 (NULL + serialise_to_json)
+                44         324 LOAD_GLOBAL             29 (NULL + serialise_to_json)
                            336 LOAD_FAST                0 (self)
                            338 LOAD_ATTR               10 (fkwargs)
                            348 LOAD_METHOD             11 (get)
                            370 LOAD_CONST               5 ('messages')
                            372 BUILD_LIST               0
                            374 PRECALL                  2
                            378 CALL                     2
                            388 PRECALL                  1
                            392 CALL                     1
                            402 STORE_FAST               2 (prompts)
                
-                50         404 LOAD_FAST                0 (self)
+                45         404 LOAD_FAST                0 (self)
                            406 LOAD_ATTR               10 (fkwargs)
                            416 LOAD_METHOD             11 (get)
                            438 LOAD_CONST               6 ('system')
                            440 PRECALL                  1
                            444 CALL                     1
                            454 STORE_FAST               3 (system)
                
-                51         456 LOAD_FAST                3 (system)
+                46         456 LOAD_FAST                3 (system)
                            458 POP_JUMP_FORWARD_IF_FALSE    47 (to 554)
                
-                52         460 LOAD_GLOBAL             29 (NULL + serialise_to_json)
+                47         460 LOAD_GLOBAL             29 (NULL + serialise_to_json)
                
-                53         472 LOAD_CONST               6 ('system')
+                48         472 LOAD_CONST               6 ('system')
                            474 LOAD_FAST                3 (system)
                            476 LOAD_CONST               7 (('role', 'content'))
                            478 BUILD_CONST_KEY_MAP      2
                            480 BUILD_LIST               1
                            482 LOAD_FAST                0 (self)
                            484 LOAD_ATTR               10 (fkwargs)
                            494 LOAD_METHOD             11 (get)
                            516 LOAD_CONST               5 ('messages')
                            518 BUILD_LIST               0
                            520 PRECALL                  2
                            524 CALL                     2
                            534 BINARY_OP                0 (+)
                
-                52         538 PRECALL                  1
+                47         538 PRECALL                  1
                            542 CALL                     1
                            552 STORE_FAST               2 (prompts)
                
-                55     >>  554 LOAD_FAST                2 (prompts)
+                50     >>  554 LOAD_FAST                2 (prompts)
                            556 LOAD_FAST                1 (span_attributes)
                            558 LOAD_GLOBAL              0 (SpanAttributes)
                            570 LOAD_ATTR               15 (LLM_PROMPTS)
                            580 STORE_SUBSCR
                
-                57     >>  584 LOAD_FAST                0 (self)
+                52     >>  584 LOAD_FAST                0 (self)
                            586 LOAD_ATTR               10 (fkwargs)
                            596 LOAD_METHOD             11 (get)
                            618 LOAD_CONST               8 ('temperature')
                            620 PRECALL                  1
                            624 CALL                     1
                            634 POP_JUMP_FORWARD_IF_NONE    39 (to 714)
                
-                58         636 LOAD_FAST                0 (self)
+                53         636 LOAD_FAST                0 (self)
                            638 LOAD_ATTR               10 (fkwargs)
                            648 LOAD_METHOD             11 (get)
                            670 LOAD_CONST               8 ('temperature')
                            672 PRECALL                  1
                            676 CALL                     1
                            686 LOAD_FAST                1 (span_attributes)
                            688 LOAD_GLOBAL              0 (SpanAttributes)
                            700 LOAD_ATTR               16 (LLM_TEMPERATURE)
                            710 STORE_SUBSCR
                
-                59     >>  714 LOAD_FAST                0 (self)
+                54     >>  714 LOAD_FAST                0 (self)
                            716 LOAD_ATTR               10 (fkwargs)
                            726 LOAD_METHOD             11 (get)
                            748 LOAD_CONST               9 ('top_p')
                            750 PRECALL                  1
                            754 CALL                     1
                            764 POP_JUMP_FORWARD_IF_NONE    39 (to 844)
                
-                60         766 LOAD_FAST                0 (self)
+                55         766 LOAD_FAST                0 (self)
                            768 LOAD_ATTR               10 (fkwargs)
                            778 LOAD_METHOD             11 (get)
                            800 LOAD_CONST               9 ('top_p')
                            802 PRECALL                  1
                            806 CALL                     1
                            816 LOAD_FAST                1 (span_attributes)
                            818 LOAD_GLOBAL              0 (SpanAttributes)
                            830 LOAD_ATTR               17 (LLM_TOP_P)
                            840 STORE_SUBSCR
                
-                61     >>  844 LOAD_FAST                0 (self)
+                56     >>  844 LOAD_FAST                0 (self)
                            846 LOAD_ATTR               10 (fkwargs)
                            856 LOAD_METHOD             11 (get)
                            878 LOAD_CONST              10 ('top_k')
                            880 PRECALL                  1
                            884 CALL                     1
                            894 POP_JUMP_FORWARD_IF_NONE    39 (to 974)
                
-                62         896 LOAD_FAST                0 (self)
+                57         896 LOAD_FAST                0 (self)
                            898 LOAD_ATTR               10 (fkwargs)
                            908 LOAD_METHOD             11 (get)
                            930 LOAD_CONST              10 ('top_k')
                            932 PRECALL                  1
                            936 CALL                     1
                            946 LOAD_FAST                1 (span_attributes)
                            948 LOAD_GLOBAL              0 (SpanAttributes)
                            960 LOAD_ATTR               18 (LLM_TOP_K)
                            970 STORE_SUBSCR
                
-                63     >>  974 LOAD_FAST                0 (self)
+                58     >>  974 LOAD_FAST                0 (self)
                            976 LOAD_ATTR               10 (fkwargs)
                            986 LOAD_METHOD             11 (get)
                           1008 LOAD_CONST              11 ('user')
                           1010 PRECALL                  1
                           1014 CALL                     1
                           1024 POP_JUMP_FORWARD_IF_NONE    39 (to 1104)
                
-                64        1026 LOAD_FAST                0 (self)
+                59        1026 LOAD_FAST                0 (self)
                           1028 LOAD_ATTR               10 (fkwargs)
                           1038 LOAD_METHOD             11 (get)
                           1060 LOAD_CONST              11 ('user')
                           1062 PRECALL                  1
                           1066 CALL                     1
                           1076 LOAD_FAST                1 (span_attributes)
                           1078 LOAD_GLOBAL              0 (SpanAttributes)
                           1090 LOAD_ATTR               19 (LLM_USER)
                           1100 STORE_SUBSCR
                
-                65     >> 1104 LOAD_FAST                0 (self)
+                60     >> 1104 LOAD_FAST                0 (self)
                           1106 LOAD_ATTR               10 (fkwargs)
                           1116 LOAD_METHOD             11 (get)
                           1138 LOAD_CONST              12 ('max_tokens')
                           1140 PRECALL                  1
                           1144 CALL                     1
                           1154 POP_JUMP_FORWARD_IF_NONE    39 (to 1234)
                
-                66        1156 LOAD_FAST                0 (self)
+                61        1156 LOAD_FAST                0 (self)
                           1158 LOAD_ATTR               10 (fkwargs)
                           1168 LOAD_METHOD             11 (get)
                           1190 LOAD_CONST              12 ('max_tokens')
                           1192 PRECALL                  1
                           1196 CALL                     1
                           1206 LOAD_FAST                1 (span_attributes)
                           1208 LOAD_GLOBAL              0 (SpanAttributes)
                           1220 LOAD_ATTR               20 (LLM_MAX_TOKENS)
                           1230 STORE_SUBSCR
                
-                68     >> 1234 LOAD_FAST                0 (self)
+                63     >> 1234 LOAD_FAST                0 (self)
                           1236 LOAD_METHOD             21 (set_span_attributes_from_pydantic)
                           1258 LOAD_FAST                1 (span_attributes)
                           1260 LOAD_GLOBAL             44 (LLMSpanAttributesValidator)
                           1272 PRECALL                  2
                           1276 CALL                     2
                           1286 POP_TOP
                           1288 LOAD_CONST               0 (None)
@@ -475,15 +440,15 @@
                   'max_tokens'
                names      ('SpanAttributes', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'LLM', 'LLM_TYPE', 'LLMTypes', 'CHAT', 'LLM_API', 'APIS', 'LLM_MODEL', 'fkwargs', 'get', 'LLM_STREAM', 'should_send_prompts', 'serialise_to_json', 'LLM_PROMPTS', 'LLM_TEMPERATURE', 'LLM_TOP_P', 'LLM_TOP_K', 'LLM_USER', 'LLM_MAX_TOKENS', 'set_span_attributes_from_pydantic', 'LLMSpanAttributesValidator')
                varnames   ('self', 'span_attributes', 'prompts', 'system')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py'
                name       'capture_input'
-               firstlineno 39
+               firstlineno 34
                lnotab
                   0x02022c012c013a01480148fb04081c015001340104010c0142ff10031e
                   0234014e0134014e0134014e0134014e0134014e02
             code
                argcount  : 2
                nlocals   : 5
                stacksize : 9
@@ -516,196 +481,196 @@
                   00000000007422000000000000000000006a1400000000000000007c036a
                   1500000000000000007422000000000000000000006a1600000000000000
                   007c036a1300000000000000007c036a1500000000000000007a00000069
                   037d047c00a0030000000000000000000000000000000000000000740800
                   0000000000000000006a1700000000000000007415000000000000000000
                   007c04a6010000ab010000000000000000a6020000ab0200000000000000
                   0001006400530064005300640053006400530064005300
-                70           0 RESUME                   0
+                65           0 RESUME                   0
                
-                71           2 LOAD_GLOBAL              1 (NULL + should_send_prompts)
+                66           2 LOAD_GLOBAL              1 (NULL + should_send_prompts)
                             14 PRECALL                  0
                             18 CALL                     0
                             28 EXTENDED_ARG             1
                             30 POP_JUMP_FORWARD_IF_FALSE   437 (to 906)
                
-                72          32 LOAD_GLOBAL              3 (NULL + hasattr)
+                67          32 LOAD_GLOBAL              3 (NULL + hasattr)
                             44 LOAD_FAST                1 (result)
                             46 LOAD_CONST               1 ('content')
                             48 PRECALL                  2
                             52 CALL                     2
                             62 POP_JUMP_FORWARD_IF_FALSE   174 (to 412)
                             64 LOAD_FAST                1 (result)
                             66 LOAD_ATTR                2 (content)
                             76 POP_JUMP_FORWARD_IF_NONE   167 (to 412)
                
-                73          78 LOAD_FAST                0 (self)
+                68          78 LOAD_FAST                0 (self)
                             80 LOAD_METHOD              3 (set_span_attribute)
                
-                74         102 LOAD_GLOBAL              8 (SpanAttributes)
+                69         102 LOAD_GLOBAL              8 (SpanAttributes)
                            114 LOAD_ATTR                5 (LLM_MODEL)
                
-                75         124 LOAD_FAST                1 (result)
+                70         124 LOAD_FAST                1 (result)
                            126 LOAD_ATTR                6 (model)
                            136 POP_JUMP_FORWARD_IF_FALSE     7 (to 152)
                            138 LOAD_FAST                1 (result)
                            140 LOAD_ATTR                6 (model)
                            150 JUMP_FORWARD            25 (to 202)
                        >>  152 LOAD_FAST                0 (self)
                            154 LOAD_ATTR                7 (fkwargs)
                            164 LOAD_METHOD              8 (get)
                            186 LOAD_CONST               2 ('model')
                            188 PRECALL                  1
                            192 CALL                     1
                
-                73     >>  202 PRECALL                  2
+                68     >>  202 PRECALL                  2
                            206 CALL                     2
                            216 POP_TOP
                
-                77         218 LOAD_FAST                0 (self)
+                72         218 LOAD_FAST                0 (self)
                            220 LOAD_METHOD              3 (set_span_attribute)
                
-                78         242 LOAD_GLOBAL              8 (SpanAttributes)
+                73         242 LOAD_GLOBAL              8 (SpanAttributes)
                            254 LOAD_ATTR                9 (LLM_RESPONSES)
                
-                79         264 LOAD_GLOBAL             21 (NULL + serialise_to_json)
+                74         264 LOAD_GLOBAL             21 (NULL + serialise_to_json)
                
-                82         276 LOAD_FAST                1 (result)
+                77         276 LOAD_FAST                1 (result)
                            278 LOAD_ATTR               11 (role)
                            288 POP_JUMP_FORWARD_IF_FALSE     7 (to 304)
                            290 LOAD_FAST                1 (result)
                            292 LOAD_ATTR               11 (role)
                            302 JUMP_FORWARD             1 (to 306)
                        >>  304 LOAD_CONST               3 ('assistant')
                
-                83     >>  306 LOAD_FAST                1 (result)
+                78     >>  306 LOAD_FAST                1 (result)
                            308 LOAD_ATTR                2 (content)
                            318 LOAD_CONST               4 (0)
                            320 BINARY_SUBSCR
                            330 LOAD_ATTR               12 (text)
                
-                84         340 LOAD_FAST                1 (result)
+                79         340 LOAD_FAST                1 (result)
                            342 LOAD_ATTR                2 (content)
                            352 LOAD_CONST               4 (0)
                            354 BINARY_SUBSCR
                            364 LOAD_ATTR               13 (type)
                
-                81         374 LOAD_CONST               5 (('role', 'content', 'type'))
+                76         374 LOAD_CONST               5 (('role', 'content', 'type'))
                            376 BUILD_CONST_KEY_MAP      3
                
-                80         378 BUILD_LIST               1
+                75         378 BUILD_LIST               1
                
-                79         380 PRECALL                  1
+                74         380 PRECALL                  1
                            384 CALL                     1
                
-                77         394 PRECALL                  2
+                72         394 PRECALL                  2
                            398 CALL                     2
                            408 POP_TOP
                            410 JUMP_FORWARD            47 (to 506)
                
-                90     >>  412 BUILD_LIST               0
+                85     >>  412 BUILD_LIST               0
                            414 STORE_FAST               2 (responses)
                
-                91         416 LOAD_FAST                0 (self)
+                86         416 LOAD_FAST                0 (self)
                            418 LOAD_METHOD              3 (set_span_attribute)
                            440 LOAD_GLOBAL              8 (SpanAttributes)
                            452 LOAD_ATTR                9 (LLM_RESPONSES)
                            462 LOAD_GLOBAL             21 (NULL + serialise_to_json)
                            474 LOAD_FAST                2 (responses)
                            476 PRECALL                  1
                            480 CALL                     1
                            490 PRECALL                  2
                            494 CALL                     2
                            504 POP_TOP
                
-                93     >>  506 LOAD_GLOBAL              3 (NULL + hasattr)
+                88     >>  506 LOAD_GLOBAL              3 (NULL + hasattr)
                            518 LOAD_FAST                1 (result)
                            520 LOAD_CONST               6 ('system_fingerprint')
                            522 PRECALL                  2
                            526 CALL                     2
                
-                92         536 POP_JUMP_FORWARD_IF_FALSE    44 (to 626)
+                87         536 POP_JUMP_FORWARD_IF_FALSE    44 (to 626)
                
-                94         538 LOAD_FAST                1 (result)
+                89         538 LOAD_FAST                1 (result)
                            540 LOAD_ATTR               14 (system_fingerprint)
                            550 POP_JUMP_FORWARD_IF_NONE    37 (to 626)
                
-                96         552 LOAD_FAST                0 (self)
+                91         552 LOAD_FAST                0 (self)
                            554 LOAD_METHOD              3 (set_span_attribute)
                
-                97         576 LOAD_GLOBAL              8 (SpanAttributes)
+                92         576 LOAD_GLOBAL              8 (SpanAttributes)
                            588 LOAD_ATTR               15 (LLM_SYSTEM_FINGERPRINT)
                            598 LOAD_FAST                1 (result)
                            600 LOAD_ATTR               14 (system_fingerprint)
                
-                96         610 PRECALL                  2
+                91         610 PRECALL                  2
                            614 CALL                     2
                            624 POP_TOP
                
-               101     >>  626 LOAD_GLOBAL              3 (NULL + hasattr)
+                96     >>  626 LOAD_GLOBAL              3 (NULL + hasattr)
                            638 LOAD_FAST                1 (result)
                            640 LOAD_CONST               7 ('usage')
                            642 PRECALL                  2
                            646 CALL                     2
                            656 POP_JUMP_FORWARD_IF_FALSE   126 (to 910)
                            658 LOAD_FAST                1 (result)
                            660 LOAD_ATTR               16 (usage)
                            670 POP_JUMP_FORWARD_IF_NONE   121 (to 914)
                
-               102         672 LOAD_FAST                1 (result)
+                97         672 LOAD_FAST                1 (result)
                            674 LOAD_ATTR               16 (usage)
                            684 STORE_FAST               3 (usage)
                
-               103         686 LOAD_FAST                3 (usage)
+                98         686 LOAD_FAST                3 (usage)
                            688 POP_JUMP_FORWARD_IF_NONE   114 (to 918)
                
-               105         690 LOAD_GLOBAL             34 (LLMTokenUsageKeys)
+               100         690 LOAD_GLOBAL             34 (LLMTokenUsageKeys)
                            702 LOAD_ATTR               18 (PROMPT_TOKENS)
                            712 LOAD_FAST                3 (usage)
                            714 LOAD_ATTR               19 (input_tokens)
                
-               106         724 LOAD_GLOBAL             34 (LLMTokenUsageKeys)
+               101         724 LOAD_GLOBAL             34 (LLMTokenUsageKeys)
                            736 LOAD_ATTR               20 (COMPLETION_TOKENS)
                            746 LOAD_FAST                3 (usage)
                            748 LOAD_ATTR               21 (output_tokens)
                
-               107         758 LOAD_GLOBAL             34 (LLMTokenUsageKeys)
+               102         758 LOAD_GLOBAL             34 (LLMTokenUsageKeys)
                            770 LOAD_ATTR               22 (TOTAL_TOKENS)
                            780 LOAD_FAST                3 (usage)
                            782 LOAD_ATTR               19 (input_tokens)
                            792 LOAD_FAST                3 (usage)
                            794 LOAD_ATTR               21 (output_tokens)
                            804 BINARY_OP                0 (+)
                
-               104         808 BUILD_MAP                3
+                99         808 BUILD_MAP                3
                            810 STORE_FAST               4 (usage_dict)
                
-               109         812 LOAD_FAST                0 (self)
+               104         812 LOAD_FAST                0 (self)
                            814 LOAD_METHOD              3 (set_span_attribute)
                            836 LOAD_GLOBAL              8 (SpanAttributes)
                            848 LOAD_ATTR               23 (LLM_TOKEN_COUNTS)
                            858 LOAD_GLOBAL             21 (NULL + serialise_to_json)
                            870 LOAD_FAST                4 (usage_dict)
                            872 PRECALL                  1
                            876 CALL                     1
                            886 PRECALL                  2
                            890 CALL                     2
                            900 POP_TOP
                            902 LOAD_CONST               0 (None)
                            904 RETURN_VALUE
                
-                71     >>  906 LOAD_CONST               0 (None)
+                66     >>  906 LOAD_CONST               0 (None)
                            908 RETURN_VALUE
                
-               101     >>  910 LOAD_CONST               0 (None)
+                96     >>  910 LOAD_CONST               0 (None)
                            912 RETURN_VALUE
                        >>  914 LOAD_CONST               0 (None)
                            916 RETURN_VALUE
                
-               103     >>  918 LOAD_CONST               0 (None)
+                98     >>  918 LOAD_CONST               0 (None)
                            920 RETURN_VALUE
                consts
                   None
                   'content'
                   'model'
                   'assistant'
                   0
@@ -714,15 +679,15 @@
                   'usage'
                names      ('should_send_prompts', 'hasattr', 'content', 'set_span_attribute', 'SpanAttributes', 'LLM_MODEL', 'model', 'fkwargs', 'get', 'LLM_RESPONSES', 'serialise_to_json', 'role', 'text', 'type', 'system_fingerprint', 'LLM_SYSTEM_FINGERPRINT', 'usage', 'LLMTokenUsageKeys', 'PROMPT_TOKENS', 'input_tokens', 'COMPLETION_TOKENS', 'output_tokens', 'TOTAL_TOKENS', 'LLM_TOKEN_COUNTS')
                varnames   ('self', 'result', 'responses', 'usage', 'usage_dict')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py'
                name       'capture_output'
-               firstlineno 70
+               firstlineno 65
                lnotab
                   0x02011e012e01180116014efe1004180116010c031e01220122fd04ff02
                   ff0efe120d04015a021eff02020e02180122ff10052e010e010402220122
                   0132fd04055eda041e0802
             code
                argcount  : 2
                nlocals   : 7
@@ -791,110 +756,110 @@
                   007c02a6010000ab010000000000000000640d9c026701a6010000ab0100
                   00000000000000a6020000ab02000000000000000001007c006a00000000
                   0000000000a01c0000000000000000000000000000000000000000743a00
                   0000000000000000006a1e0000000000000000a6010000ab010000000000
                   00000001007c006a000000000000000000a01f0000000000000000000000
                   000000000000000000a6000000ab00000000000000000001007700780359
                   007701
-               111           0 RETURN_GENERATOR
+               106           0 RETURN_GENERATOR
                              2 POP_TOP
                              4 RESUME                   0
                
-               113           6 BUILD_LIST               0
+               108           6 BUILD_LIST               0
                              8 STORE_FAST               2 (result_content)
                
-               114          10 LOAD_FAST                0 (self)
+               109          10 LOAD_FAST                0 (self)
                             12 LOAD_ATTR                0 (span)
                             22 LOAD_METHOD              1 (add_event)
                             44 LOAD_GLOBAL              4 (Event)
                             56 LOAD_ATTR                3 (STREAM_START)
                             66 LOAD_ATTR                4 (value)
                             76 PRECALL                  1
                             80 CALL                     1
                             90 POP_TOP
                
-               115          92 LOAD_CONST               1 (0)
+               110          92 LOAD_CONST               1 (0)
                             94 STORE_FAST               3 (input_tokens)
                
-               116          96 LOAD_CONST               1 (0)
+               111          96 LOAD_CONST               1 (0)
                             98 STORE_FAST               4 (output_tokens)
                
-               117         100 NOP
+               112         100 NOP
                
-               118         102 LOAD_FAST                1 (result)
+               113         102 LOAD_FAST                1 (result)
                            104 GET_ITER
                        >>  106 EXTENDED_ARG             1
                            108 FOR_ITER               405 (to 920)
                            110 STORE_FAST               5 (chunk)
                
-               120         112 LOAD_GLOBAL             11 (NULL + hasattr)
+               115         112 LOAD_GLOBAL             11 (NULL + hasattr)
                            124 LOAD_FAST                5 (chunk)
                            126 LOAD_CONST               2 ('message')
                            128 PRECALL                  2
                            132 CALL                     2
                
-               119         142 POP_JUMP_FORWARD_IF_FALSE    82 (to 308)
+               114         142 POP_JUMP_FORWARD_IF_FALSE    82 (to 308)
                
-               121         144 LOAD_FAST                5 (chunk)
+               116         144 LOAD_FAST                5 (chunk)
                            146 LOAD_ATTR                6 (message)
                            156 POP_JUMP_FORWARD_IF_NONE    75 (to 308)
                
-               122         158 LOAD_GLOBAL             11 (NULL + hasattr)
+               117         158 LOAD_GLOBAL             11 (NULL + hasattr)
                            170 LOAD_FAST                5 (chunk)
                            172 LOAD_ATTR                6 (message)
                            182 LOAD_CONST               4 ('model')
                            184 PRECALL                  2
                            188 CALL                     2
                
-               121         198 POP_JUMP_FORWARD_IF_FALSE    54 (to 308)
+               116         198 POP_JUMP_FORWARD_IF_FALSE    54 (to 308)
                
-               123         200 LOAD_FAST                5 (chunk)
+               118         200 LOAD_FAST                5 (chunk)
                            202 LOAD_ATTR                6 (message)
                            212 LOAD_ATTR                7 (model)
                            222 POP_JUMP_FORWARD_IF_NONE    42 (to 308)
                
-               125         224 LOAD_FAST                0 (self)
+               120         224 LOAD_FAST                0 (self)
                            226 LOAD_METHOD              8 (set_span_attribute)
                            248 LOAD_GLOBAL             18 (SpanAttributes)
                            260 LOAD_ATTR               10 (LLM_MODEL)
                            270 LOAD_FAST                5 (chunk)
                            272 LOAD_ATTR                6 (message)
                            282 LOAD_ATTR                7 (model)
                            292 PRECALL                  2
                            296 CALL                     2
                            306 POP_TOP
                
-               126     >>  308 LOAD_CONST               5 ('')
+               121     >>  308 LOAD_CONST               5 ('')
                            310 STORE_FAST               6 (content)
                
-               127         312 LOAD_GLOBAL             11 (NULL + hasattr)
+               122         312 LOAD_GLOBAL             11 (NULL + hasattr)
                            324 LOAD_FAST                5 (chunk)
                            326 LOAD_CONST               6 ('delta')
                            328 PRECALL                  2
                            332 CALL                     2
                            342 POP_JUMP_FORWARD_IF_FALSE    42 (to 428)
                            344 LOAD_FAST                5 (chunk)
                            346 LOAD_ATTR               11 (delta)
                            356 POP_JUMP_FORWARD_IF_NONE    35 (to 428)
                
-               128         358 LOAD_GLOBAL             11 (NULL + hasattr)
+               123         358 LOAD_GLOBAL             11 (NULL + hasattr)
                            370 LOAD_FAST                5 (chunk)
                            372 LOAD_ATTR               11 (delta)
                            382 LOAD_CONST               7 ('text')
                            384 PRECALL                  2
                            388 CALL                     2
                            398 POP_JUMP_FORWARD_IF_FALSE    12 (to 424)
                            400 LOAD_FAST                5 (chunk)
                            402 LOAD_ATTR               11 (delta)
                            412 LOAD_ATTR               12 (text)
                            422 JUMP_FORWARD             1 (to 426)
                        >>  424 LOAD_CONST               5 ('')
                        >>  426 STORE_FAST               6 (content)
                
-               130     >>  428 LOAD_FAST                2 (result_content)
+               125     >>  428 LOAD_FAST                2 (result_content)
                            430 LOAD_METHOD             13 (append)
                            452 LOAD_GLOBAL             29 (NULL + len)
                            464 LOAD_FAST                6 (content)
                            466 PRECALL                  1
                            470 CALL                     1
                            480 LOAD_CONST               1 (0)
                            482 COMPARE_OP               4 (>)
@@ -902,260 +867,260 @@
                            490 LOAD_FAST                6 (content)
                            492 JUMP_FORWARD             1 (to 496)
                        >>  494 LOAD_CONST               5 ('')
                        >>  496 PRECALL                  1
                            500 CALL                     1
                            510 POP_TOP
                
-               132         512 LOAD_GLOBAL             11 (NULL + hasattr)
+               127         512 LOAD_GLOBAL             11 (NULL + hasattr)
                            524 LOAD_FAST                5 (chunk)
                            526 LOAD_CONST               2 ('message')
                            528 PRECALL                  2
                            532 CALL                     2
                            542 POP_JUMP_FORWARD_IF_FALSE   117 (to 778)
                            544 LOAD_GLOBAL             11 (NULL + hasattr)
                            556 LOAD_FAST                5 (chunk)
                            558 LOAD_ATTR                6 (message)
                            568 LOAD_CONST               8 ('usage')
                            570 PRECALL                  2
                            574 CALL                     2
                            584 POP_JUMP_FORWARD_IF_FALSE    96 (to 778)
                
-               133         586 LOAD_FAST                3 (input_tokens)
+               128         586 LOAD_FAST                3 (input_tokens)
                
-               135         588 LOAD_GLOBAL             11 (NULL + hasattr)
+               130         588 LOAD_GLOBAL             11 (NULL + hasattr)
                            600 LOAD_FAST                5 (chunk)
                            602 LOAD_ATTR                6 (message)
                            612 LOAD_ATTR               15 (usage)
                            622 LOAD_CONST               9 ('input_tokens')
                            624 PRECALL                  2
                            628 CALL                     2
                
-               134         638 POP_JUMP_FORWARD_IF_FALSE    17 (to 674)
+               129         638 POP_JUMP_FORWARD_IF_FALSE    17 (to 674)
                            640 LOAD_FAST                5 (chunk)
                            642 LOAD_ATTR                6 (message)
                            652 LOAD_ATTR               15 (usage)
                            662 LOAD_ATTR               16 (input_tokens)
                            672 JUMP_FORWARD             1 (to 676)
                
-               136     >>  674 LOAD_CONST               1 (0)
+               131     >>  674 LOAD_CONST               1 (0)
                
-               133     >>  676 BINARY_OP               13 (+=)
+               128     >>  676 BINARY_OP               13 (+=)
                            680 STORE_FAST               3 (input_tokens)
                
-               138         682 LOAD_FAST                4 (output_tokens)
+               133         682 LOAD_FAST                4 (output_tokens)
                
-               140         684 LOAD_GLOBAL             11 (NULL + hasattr)
+               135         684 LOAD_GLOBAL             11 (NULL + hasattr)
                            696 LOAD_FAST                5 (chunk)
                            698 LOAD_ATTR                6 (message)
                            708 LOAD_ATTR               15 (usage)
                            718 LOAD_CONST              10 ('output_tokens')
                            720 PRECALL                  2
                            724 CALL                     2
                
-               139         734 POP_JUMP_FORWARD_IF_FALSE    17 (to 770)
+               134         734 POP_JUMP_FORWARD_IF_FALSE    17 (to 770)
                            736 LOAD_FAST                5 (chunk)
                            738 LOAD_ATTR                6 (message)
                            748 LOAD_ATTR               15 (usage)
                            758 LOAD_ATTR               17 (output_tokens)
                            768 JUMP_FORWARD             1 (to 772)
                
-               141     >>  770 LOAD_CONST               1 (0)
+               136     >>  770 LOAD_CONST               1 (0)
                
-               138     >>  772 BINARY_OP               13 (+=)
+               133     >>  772 BINARY_OP               13 (+=)
                            776 STORE_FAST               4 (output_tokens)
                
-               146     >>  778 LOAD_FAST                6 (content)
+               141     >>  778 LOAD_FAST                6 (content)
                            780 POP_JUMP_FORWARD_IF_FALSE    63 (to 908)
                
-               147         782 LOAD_FAST                0 (self)
+               142         782 LOAD_FAST                0 (self)
                            784 LOAD_ATTR                0 (span)
                            794 LOAD_METHOD              1 (add_event)
                
-               148         816 LOAD_GLOBAL              4 (Event)
+               143         816 LOAD_GLOBAL              4 (Event)
                            828 LOAD_ATTR               18 (STREAM_OUTPUT)
                            838 LOAD_ATTR                4 (value)
                            848 LOAD_CONST              11 ('response')
                            850 LOAD_CONST               5 ('')
                            852 LOAD_METHOD             19 (join)
                            874 LOAD_FAST                6 (content)
                            876 PRECALL                  1
                            880 CALL                     1
                            890 BUILD_MAP                1
                
-               147         892 PRECALL                  2
+               142         892 PRECALL                  2
                            896 CALL                     2
                            906 POP_TOP
                
-               152     >>  908 LOAD_FAST                6 (content)
+               147     >>  908 LOAD_FAST                6 (content)
                            910 YIELD_VALUE
                            912 RESUME                   1
                            914 POP_TOP
                            916 EXTENDED_ARG             1
                            918 JUMP_BACKWARD          407 (to 106)
                
-               118     >>  920 NOP
+               113     >>  920 NOP
                
-               156         922 LOAD_FAST                0 (self)
+               151         922 LOAD_FAST                0 (self)
                            924 LOAD_ATTR                0 (span)
                            934 LOAD_METHOD              1 (add_event)
                            956 LOAD_GLOBAL              4 (Event)
                            968 LOAD_ATTR               20 (STREAM_END)
                            978 LOAD_ATTR                4 (value)
                            988 PRECALL                  1
                            992 CALL                     1
                           1002 POP_TOP
                
-               157        1004 LOAD_FAST                0 (self)
+               152        1004 LOAD_FAST                0 (self)
                           1006 LOAD_METHOD              8 (set_span_attribute)
                
-               158        1028 LOAD_GLOBAL             18 (SpanAttributes)
+               153        1028 LOAD_GLOBAL             18 (SpanAttributes)
                           1040 LOAD_ATTR               21 (LLM_TOKEN_COUNTS)
                
-               159        1050 LOAD_GLOBAL             45 (NULL + serialise_to_json)
+               154        1050 LOAD_GLOBAL             45 (NULL + serialise_to_json)
                
-               161        1062 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
+               156        1062 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
                           1074 LOAD_ATTR               24 (PROMPT_TOKENS)
                           1084 LOAD_FAST                3 (input_tokens)
                
-               162        1086 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
+               157        1086 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
                           1098 LOAD_ATTR               25 (COMPLETION_TOKENS)
                           1108 LOAD_FAST                4 (output_tokens)
                
-               163        1110 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
+               158        1110 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
                           1122 LOAD_ATTR               26 (TOTAL_TOKENS)
                           1132 LOAD_FAST                3 (input_tokens)
                           1134 LOAD_FAST                4 (output_tokens)
                           1136 BINARY_OP                0 (+)
                
-               160        1140 BUILD_MAP                3
+               155        1140 BUILD_MAP                3
                
-               159        1142 PRECALL                  1
+               154        1142 PRECALL                  1
                           1146 CALL                     1
                
-               157        1156 PRECALL                  2
+               152        1156 PRECALL                  2
                           1160 CALL                     2
                           1170 POP_TOP
                
-               167        1172 LOAD_FAST                0 (self)
+               162        1172 LOAD_FAST                0 (self)
                           1174 LOAD_METHOD              8 (set_span_attribute)
                
-               168        1196 LOAD_GLOBAL             18 (SpanAttributes)
+               163        1196 LOAD_GLOBAL             18 (SpanAttributes)
                           1208 LOAD_ATTR               27 (LLM_RESPONSES)
                
-               169        1218 LOAD_GLOBAL             45 (NULL + serialise_to_json)
+               164        1218 LOAD_GLOBAL             45 (NULL + serialise_to_json)
                           1230 LOAD_CONST              12 ('assistant')
                           1232 LOAD_CONST               5 ('')
                           1234 LOAD_METHOD             19 (join)
                           1256 LOAD_FAST                2 (result_content)
                           1258 PRECALL                  1
                           1262 CALL                     1
                           1272 LOAD_CONST              13 (('role', 'content'))
                           1274 BUILD_CONST_KEY_MAP      2
                           1276 BUILD_LIST               1
                           1278 PRECALL                  1
                           1282 CALL                     1
                
-               167        1292 PRECALL                  2
+               162        1292 PRECALL                  2
                           1296 CALL                     2
                           1306 POP_TOP
                
-               171        1308 LOAD_FAST                0 (self)
+               166        1308 LOAD_FAST                0 (self)
                           1310 LOAD_ATTR                0 (span)
                           1320 LOAD_METHOD             28 (set_status)
                           1342 LOAD_GLOBAL             58 (StatusCode)
                           1354 LOAD_ATTR               30 (OK)
                           1364 PRECALL                  1
                           1368 CALL                     1
                           1378 POP_TOP
                
-               172        1380 LOAD_FAST                0 (self)
+               167        1380 LOAD_FAST                0 (self)
                           1382 LOAD_ATTR                0 (span)
                           1392 LOAD_METHOD             31 (end)
                           1414 PRECALL                  0
                           1418 CALL                     0
                           1428 POP_TOP
                           1430 LOAD_CONST               3 (None)
                           1432 RETURN_VALUE
                        >> 1434 PUSH_EXC_INFO
                
-               156        1436 LOAD_FAST                0 (self)
+               151        1436 LOAD_FAST                0 (self)
                           1438 LOAD_ATTR                0 (span)
                           1448 LOAD_METHOD              1 (add_event)
                           1470 LOAD_GLOBAL              4 (Event)
                           1482 LOAD_ATTR               20 (STREAM_END)
                           1492 LOAD_ATTR                4 (value)
                           1502 PRECALL                  1
                           1506 CALL                     1
                           1516 POP_TOP
                
-               157        1518 LOAD_FAST                0 (self)
+               152        1518 LOAD_FAST                0 (self)
                           1520 LOAD_METHOD              8 (set_span_attribute)
                
-               158        1542 LOAD_GLOBAL             18 (SpanAttributes)
+               153        1542 LOAD_GLOBAL             18 (SpanAttributes)
                           1554 LOAD_ATTR               21 (LLM_TOKEN_COUNTS)
                
-               159        1564 LOAD_GLOBAL             45 (NULL + serialise_to_json)
+               154        1564 LOAD_GLOBAL             45 (NULL + serialise_to_json)
                
-               161        1576 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
+               156        1576 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
                           1588 LOAD_ATTR               24 (PROMPT_TOKENS)
                           1598 LOAD_FAST                3 (input_tokens)
                
-               162        1600 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
+               157        1600 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
                           1612 LOAD_ATTR               25 (COMPLETION_TOKENS)
                           1622 LOAD_FAST                4 (output_tokens)
                
-               163        1624 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
+               158        1624 LOAD_GLOBAL             46 (LLMTokenUsageKeys)
                           1636 LOAD_ATTR               26 (TOTAL_TOKENS)
                           1646 LOAD_FAST                3 (input_tokens)
                           1648 LOAD_FAST                4 (output_tokens)
                           1650 BINARY_OP                0 (+)
                
-               160        1654 BUILD_MAP                3
+               155        1654 BUILD_MAP                3
                
-               159        1656 PRECALL                  1
+               154        1656 PRECALL                  1
                           1660 CALL                     1
                
-               157        1670 PRECALL                  2
+               152        1670 PRECALL                  2
                           1674 CALL                     2
                           1684 POP_TOP
                
-               167        1686 LOAD_FAST                0 (self)
+               162        1686 LOAD_FAST                0 (self)
                           1688 LOAD_METHOD              8 (set_span_attribute)
                
-               168        1710 LOAD_GLOBAL             18 (SpanAttributes)
+               163        1710 LOAD_GLOBAL             18 (SpanAttributes)
                           1722 LOAD_ATTR               27 (LLM_RESPONSES)
                
-               169        1732 LOAD_GLOBAL             45 (NULL + serialise_to_json)
+               164        1732 LOAD_GLOBAL             45 (NULL + serialise_to_json)
                           1744 LOAD_CONST              12 ('assistant')
                           1746 LOAD_CONST               5 ('')
                           1748 LOAD_METHOD             19 (join)
                           1770 LOAD_FAST                2 (result_content)
                           1772 PRECALL                  1
                           1776 CALL                     1
                           1786 LOAD_CONST              13 (('role', 'content'))
                           1788 BUILD_CONST_KEY_MAP      2
                           1790 BUILD_LIST               1
                           1792 PRECALL                  1
                           1796 CALL                     1
                
-               167        1806 PRECALL                  2
+               162        1806 PRECALL                  2
                           1810 CALL                     2
                           1820 POP_TOP
                
-               171        1822 LOAD_FAST                0 (self)
+               166        1822 LOAD_FAST                0 (self)
                           1824 LOAD_ATTR                0 (span)
                           1834 LOAD_METHOD             28 (set_status)
                           1856 LOAD_GLOBAL             58 (StatusCode)
                           1868 LOAD_ATTR               30 (OK)
                           1878 PRECALL                  1
                           1882 CALL                     1
                           1892 POP_TOP
                
-               172        1894 LOAD_FAST                0 (self)
+               167        1894 LOAD_FAST                0 (self)
                           1896 LOAD_ATTR                0 (span)
                           1906 LOAD_METHOD             31 (end)
                           1928 PRECALL                  0
                           1932 CALL                     0
                           1942 POP_TOP
                           1944 RERAISE                  0
                        >> 1946 COPY                     3
@@ -1181,32 +1146,32 @@
                   ('role', 'content')
                names      ('span', 'add_event', 'Event', 'STREAM_START', 'value', 'hasattr', 'message', 'model', 'set_span_attribute', 'SpanAttributes', 'LLM_MODEL', 'delta', 'text', 'append', 'len', 'usage', 'input_tokens', 'output_tokens', 'STREAM_OUTPUT', 'join', 'STREAM_END', 'LLM_TOKEN_COUNTS', 'serialise_to_json', 'LLMTokenUsageKeys', 'PROMPT_TOKENS', 'COMPLETION_TOKENS', 'TOTAL_TOKENS', 'LLM_RESPONSES', 'set_status', 'StatusCode', 'OK', 'end')
                varnames   ('self', 'result', 'result_content', 'input_tokens', 'output_tokens', 'chunk', 'content')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py'
                name       'capture_stream_output'
-               firstlineno 111
+               firstlineno 106
                lnotab
                   0x0602040152010401040102010a021eff02020e0128ff02021802540104
                   012e01460254024a01020232ff240202fd0605020232ff240202fd060804
                   0122014cff10050cde02265201180116010c02180118011efd02ff0efe10
                   0a180116014afe1004480138f05201180116010c02180118011efd02ff0e
                   fe100a180116014afe10044801
-         names      ('__name__', '__module__', '__qualname__', '__init__', 'staticmethod', 'get_span_kind', 'capture_input', 'capture_output', 'capture_stream_output', '__classcell__')
+         names      ('__name__', '__module__', '__qualname__', '__init__', 'capture_input', 'capture_output', 'capture_stream_output', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py'
          name       'MessageCreateSpanCapture'
-         firstlineno 31
-         lnotab 0x0c010a03020104ff0e010203061f0629
+         firstlineno 30
+         lnotab 0x0c010a03061f0629
       'MessageCreateSpanCapture'
       None
-   names      ('__doc__', 'agiflow.opentelemetry.convention.constants', 'Event', 'LLMTokenUsageKeys', 'LLMTypes', 'agiflow.opentelemetry.convention.llm_span_attributes', 'LLMSpanAttributesValidator', 'agiflow.opentelemetry.instrumentation.constants.anthropic', 'APIS', 'agiflow.utils', 'serialise_to_json', 'agiflow.opentelemetry.instrumentation.anthropic.hooks.base', 'AnthropicSpanCapture', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'AgiflowSpanKindValues', 'agiflow.opentelemetry.utils', 'should_send_prompts', 'opentelemetry.trace', 'StatusCode', 'MessageCreateSpanCapture')
+   names      ('__doc__', 'agiflow.opentelemetry.convention.constants', 'Event', 'LLMTokenUsageKeys', 'LLMTypes', 'agiflow.opentelemetry.convention.llm_span_attributes', 'LLMSpanAttributesValidator', 'agiflow.opentelemetry.instrumentation.constants.anthropic', 'APIS', 'agiflow.utils', 'serialise_to_json', 'agiflow.opentelemetry.instrumentation.anthropic.hooks.base', 'AnthropicSpanCapture', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'agiflow.opentelemetry.utils', 'should_send_prompts', 'opentelemetry.trace', 'StatusCode', 'MessageCreateSpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff0201041014010c010c010c010c0114050c010c03
+   lnotab 0x00ff0201041014010c010c010c010c0110040c010c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/hooks/base.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/base.py`

 * *Files 16% similar despite different names*

```diff
@@ -11,33 +11,28 @@
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
 import importlib.metadata
-from agiflow.opentelemetry.convention import SpanAttributes
+from agiflow.opentelemetry.convention import SpanAttributes, AgiflowServiceTypes
 from agiflow.opentelemetry.instrumentation.constants.common import (
     SERVICE_PROVIDERS,
 )
 from agiflow.opentelemetry.instrumentation.utils import BaseSpanCapture
 
 
-class AnthropicSpanCapture(BaseSpanCapture):
+class CohereSpanCapture(BaseSpanCapture):
 
     def __init__(
         self,
         *args,
         **kwargs
     ):
         super().__init__(*args, **kwargs)
-        base_url = (
-            str(self.instance._client._base_url)
-            if hasattr(self.instance, "_client") and hasattr(self.instance._client, "_base_url")
-            else ""
-        )
-        service_provider = SERVICE_PROVIDERS["ANTHROPIC"]
+        service_provider = SERVICE_PROVIDERS["COHERE"]
         self.set_pydantic_attributes({
-            SpanAttributes.URL_FULL: base_url,
             SpanAttributes.AGIFLOW_SERVICE_NAME: service_provider,
-            SpanAttributes.AGIFLOW_SERVICE_VERSION: importlib.metadata.version("anthropic"),
+            SpanAttributes.AGIFLOW_SERVICE_VERSION: importlib.metadata.version("cohere"),
+            SpanAttributes.AGIFLOW_SERVICE_TYPE: AgiflowServiceTypes.LLM,
         })
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/hooks/message_create.py`

 * *Files 1% similar despite different names*

```diff
@@ -18,28 +18,23 @@
 from agiflow.opentelemetry.convention.llm_span_attributes import LLMSpanAttributesValidator
 from agiflow.opentelemetry.instrumentation.constants.anthropic import APIS
 from agiflow.utils import serialise_to_json
 from agiflow.opentelemetry.instrumentation.anthropic.hooks.base import AnthropicSpanCapture
 from agiflow.opentelemetry.convention import (
   SpanAttributes,
   AgiflowServiceTypes,
-  AgiflowSpanKindValues,
 )
 from agiflow.opentelemetry.utils import should_send_prompts
 from opentelemetry.trace import StatusCode
 
 
 class MessageCreateSpanCapture(AnthropicSpanCapture):
     def __init__(self, *args, **kwargs):
         super().__init__(*args, **kwargs)
 
-    @staticmethod
-    def get_span_kind(instance):
-        return AgiflowSpanKindValues.CHAT
-
     def capture_input(self):
         span_attributes = {
           SpanAttributes.AGIFLOW_SERVICE_TYPE: AgiflowServiceTypes.LLM,
           SpanAttributes.LLM_TYPE: LLMTypes.CHAT,
           SpanAttributes.LLM_API: APIS["MESSAGES_CREATE"]["ENDPOINT"],
           SpanAttributes.LLM_MODEL: self.fkwargs.get('model'),
           SpanAttributes.LLM_STREAM: self.fkwargs.get('stream'),
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/anthropic/instrumentation.py`

 * *Files 13% similar despite different names*

```diff
@@ -10,31 +10,28 @@
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
-import logging
 from typing import Collection
 
 from opentelemetry.instrumentation.instrumentor import BaseInstrumentor
 from opentelemetry.trace import get_tracer
 from wrapt import wrap_function_wrapper
 from agiflow.opentelemetry.instrumentation.utils import (
   stream_wrapper,
 )
 
 from agiflow.opentelemetry.instrumentation.anthropic.hooks import (
   MessageCreateSpanCapture,
 )
 from agiflow.version import __version__
 
-logging.basicConfig(level=logging.FATAL)
-
 
 class AnthropicInstrumentation(BaseInstrumentor):
     """
     The AnthropicInstrumentation class represents the Anthropic instrumentation
     """
 
     def instrumentation_dependencies(self) -> Collection[str]:
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/__pycache__/__init__.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/__pycache__/__init__.cpython-311.pyc`

 * *Files 2% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0x732e5966 (Fri May 31 01:57:07 2024 UTC)
+moddate:  0xa99a5a66 (Sat Jun  1 03:51:05 2024 UTC)
 files sz: 391
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 2
    flags     : 0
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/__pycache__/common.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/__pycache__/common.cpython-311.pyc`

 * *Files 1% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0x251f5966 (Fri May 31 00:51:49 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 750
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 15
    flags     : 0
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/__pycache__/openai.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/__pycache__/openai.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/common.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/common.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/constants/openai.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/constants/openai.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/.DS_Store` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/.DS_Store`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/__pycache__/instrumentation.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/__pycache__/instrumentation.cpython-311.pyc`

 * *Files 19% similar despite different names*

#### Python bytecode

```diff
@@ -1,355 +1,320 @@
 magic:    0xa70d0d0a
-moddate:  0x1c235966 (Fri May 31 01:08:44 2024 UTC)
-files sz: 2382
+moddate:  0x2cb45b66 (Sat Jun  1 23:52:12 2024 UTC)
+files sz: 2232
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
-      0x970064005a00640164026c015a02640164026c035a03640164036c046d
-      055a050100640164046c066d075a070100640164056c086d095a09010064
-      0164066c0a6d0b5a0b0100640164076c0c6d0d5a0d6d0e5a0e0100640164
-      086c0f6d105a106d115a110100640164096c0c6d125a1201006401640a6c
-      136d145a140100020065036a15000000000000000065036a160000000000
-      000000ac0ba6010000ab010000000000000000010002004700640c840064
-      0d6507a6030000ab0300000000000000005a1764025300
+      0x970064005a00640164026c016d025a020100640164036c036d045a0401
+      00640164046c056d065a060100640164056c076d085a080100640164066c
+      096d0a5a0a6d0b5a0b0100640164076c0c6d0d5a0d6d0e5a0e0100640164
+      086c096d0f5a0f0100640164096c106d115a11010002004700640a840064
+      0b6504a6030000ab0300000000000000005a12640c5300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
-                 8 LOAD_CONST               2 (None)
-                10 IMPORT_NAME              1 (importlib.metadata)
-                12 STORE_NAME               2 (importlib)
-   
-    18          14 LOAD_CONST               1 (0)
-                16 LOAD_CONST               2 (None)
-                18 IMPORT_NAME              3 (logging)
-                20 STORE_NAME               3 (logging)
-   
-    19          22 LOAD_CONST               1 (0)
-                24 LOAD_CONST               3 (('Collection',))
-                26 IMPORT_NAME              4 (typing)
-                28 IMPORT_FROM              5 (Collection)
-                30 STORE_NAME               5 (Collection)
-                32 POP_TOP
-   
-    21          34 LOAD_CONST               1 (0)
-                36 LOAD_CONST               4 (('BaseInstrumentor',))
-                38 IMPORT_NAME              6 (opentelemetry.instrumentation.instrumentor)
-                40 IMPORT_FROM              7 (BaseInstrumentor)
-                42 STORE_NAME               7 (BaseInstrumentor)
-                44 POP_TOP
-   
-    22          46 LOAD_CONST               1 (0)
-                48 LOAD_CONST               5 (('get_tracer',))
-                50 IMPORT_NAME              8 (opentelemetry.trace)
-                52 IMPORT_FROM              9 (get_tracer)
-                54 STORE_NAME               9 (get_tracer)
-                56 POP_TOP
-   
-    23          58 LOAD_CONST               1 (0)
-                60 LOAD_CONST               6 (('wrap_function_wrapper',))
-                62 IMPORT_NAME             10 (wrapt)
-                64 IMPORT_FROM             11 (wrap_function_wrapper)
-                66 STORE_NAME              11 (wrap_function_wrapper)
+                 8 LOAD_CONST               2 (('Collection',))
+                10 IMPORT_NAME              1 (typing)
+                12 IMPORT_FROM              2 (Collection)
+                14 STORE_NAME               2 (Collection)
+                16 POP_TOP
+   
+    19          18 LOAD_CONST               1 (0)
+                20 LOAD_CONST               3 (('BaseInstrumentor',))
+                22 IMPORT_NAME              3 (opentelemetry.instrumentation.instrumentor)
+                24 IMPORT_FROM              4 (BaseInstrumentor)
+                26 STORE_NAME               4 (BaseInstrumentor)
+                28 POP_TOP
+   
+    20          30 LOAD_CONST               1 (0)
+                32 LOAD_CONST               4 (('get_tracer',))
+                34 IMPORT_NAME              5 (opentelemetry.trace)
+                36 IMPORT_FROM              6 (get_tracer)
+                38 STORE_NAME               6 (get_tracer)
+                40 POP_TOP
+   
+    21          42 LOAD_CONST               1 (0)
+                44 LOAD_CONST               5 (('wrap_function_wrapper',))
+                46 IMPORT_NAME              7 (wrapt)
+                48 IMPORT_FROM              8 (wrap_function_wrapper)
+                50 STORE_NAME               8 (wrap_function_wrapper)
+                52 POP_TOP
+   
+    22          54 LOAD_CONST               1 (0)
+                56 LOAD_CONST               6 (('method_wrapper', 'async_method_wrapper'))
+                58 IMPORT_NAME              9 (agiflow.opentelemetry.instrumentation.utils)
+                60 IMPORT_FROM             10 (method_wrapper)
+                62 STORE_NAME              10 (method_wrapper)
+                64 IMPORT_FROM             11 (async_method_wrapper)
+                66 STORE_NAME              11 (async_method_wrapper)
                 68 POP_TOP
    
-    24          70 LOAD_CONST               1 (0)
-                72 LOAD_CONST               7 (('method_wrapper', 'async_method_wrapper'))
-                74 IMPORT_NAME             12 (agiflow.opentelemetry.instrumentation.utils)
-                76 IMPORT_FROM             13 (method_wrapper)
-                78 STORE_NAME              13 (method_wrapper)
-                80 IMPORT_FROM             14 (async_method_wrapper)
-                82 STORE_NAME              14 (async_method_wrapper)
+    27          70 LOAD_CONST               1 (0)
+                72 LOAD_CONST               7 (('GenericSpanCapture', 'ChatSpanCapture'))
+                74 IMPORT_NAME             12 (agiflow.opentelemetry.instrumentation.langchain.hooks)
+                76 IMPORT_FROM             13 (GenericSpanCapture)
+                78 STORE_NAME              13 (GenericSpanCapture)
+                80 IMPORT_FROM             14 (ChatSpanCapture)
+                82 STORE_NAME              14 (ChatSpanCapture)
                 84 POP_TOP
    
-    29          86 LOAD_CONST               1 (0)
-                88 LOAD_CONST               8 (('GenericSpanCapture', 'ChatSpanCapture'))
-                90 IMPORT_NAME             15 (agiflow.opentelemetry.instrumentation.langchain.hooks)
-                92 IMPORT_FROM             16 (GenericSpanCapture)
-                94 STORE_NAME              16 (GenericSpanCapture)
-                96 IMPORT_FROM             17 (ChatSpanCapture)
-                98 STORE_NAME              17 (ChatSpanCapture)
-               100 POP_TOP
-   
-    30         102 LOAD_CONST               1 (0)
-               104 LOAD_CONST               9 (('patch_module_classes',))
-               106 IMPORT_NAME             12 (agiflow.opentelemetry.instrumentation.utils)
-               108 IMPORT_FROM             18 (patch_module_classes)
-               110 STORE_NAME              18 (patch_module_classes)
-               112 POP_TOP
-   
-    31         114 LOAD_CONST               1 (0)
-               116 LOAD_CONST              10 (('__version__',))
-               118 IMPORT_NAME             19 (agiflow.version)
-               120 IMPORT_FROM             20 (__version__)
-               122 STORE_NAME              20 (__version__)
-               124 POP_TOP
-   
-    33         126 PUSH_NULL
-               128 LOAD_NAME                3 (logging)
-               130 LOAD_ATTR               21 (basicConfig)
-               140 LOAD_NAME                3 (logging)
-               142 LOAD_ATTR               22 (FATAL)
-               152 KW_NAMES                11
-               154 PRECALL                  1
-               158 CALL                     1
-               168 POP_TOP
-   
-    36         170 PUSH_NULL
-               172 LOAD_BUILD_CLASS
-               174 LOAD_CONST              12 (<code object LangchainInstrumentation, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py", line 36>)
-               176 MAKE_FUNCTION            0
-               178 LOAD_CONST              13 ('LangchainInstrumentation')
-               180 LOAD_NAME                7 (BaseInstrumentor)
-               182 PRECALL                  3
-               186 CALL                     3
-               196 STORE_NAME              23 (LangchainInstrumentation)
-               198 LOAD_CONST               2 (None)
-               200 RETURN_VALUE
+    28          86 LOAD_CONST               1 (0)
+                88 LOAD_CONST               8 (('patch_module_classes',))
+                90 IMPORT_NAME              9 (agiflow.opentelemetry.instrumentation.utils)
+                92 IMPORT_FROM             15 (patch_module_classes)
+                94 STORE_NAME              15 (patch_module_classes)
+                96 POP_TOP
+   
+    29          98 LOAD_CONST               1 (0)
+               100 LOAD_CONST               9 (('__version__',))
+               102 IMPORT_NAME             16 (agiflow.version)
+               104 IMPORT_FROM             17 (__version__)
+               106 STORE_NAME              17 (__version__)
+               108 POP_TOP
+   
+    32         110 PUSH_NULL
+               112 LOAD_BUILD_CLASS
+               114 LOAD_CONST              10 (<code object LangchainInstrumentation, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py", line 32>)
+               116 MAKE_FUNCTION            0
+               118 LOAD_CONST              11 ('LangchainInstrumentation')
+               120 LOAD_NAME                4 (BaseInstrumentor)
+               122 PRECALL                  3
+               126 CALL                     3
+               136 STORE_NAME              18 (LangchainInstrumentation)
+               138 LOAD_CONST              12 (None)
+               140 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
-      None
       ('Collection',)
       ('BaseInstrumentor',)
       ('get_tracer',)
       ('wrap_function_wrapper',)
       ('method_wrapper', 'async_method_wrapper')
       ('GenericSpanCapture', 'ChatSpanCapture')
       ('patch_module_classes',)
       ('__version__',)
-      ('level',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 3
          flags     : 0
          code
             0x970065005a0164005a0264015a03640265046505190000000000000000
             006602640384045a06640484005a07640584005a0864065300
-          36           0 RESUME                   0
+          32           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('LangchainInstrumentation')
                        8 STORE_NAME               2 (__qualname__)
          
-          37          10 LOAD_CONST               1 ('\n    Instrumentor for langchain.\n    ')
+          33          10 LOAD_CONST               1 ('\n    Instrumentor for langchain.\n    ')
                       12 STORE_NAME               3 (__doc__)
          
-          41          14 LOAD_CONST               2 ('return')
+          37          14 LOAD_CONST               2 ('return')
                       16 LOAD_NAME                4 (Collection)
                       18 LOAD_NAME                5 (str)
                       20 BINARY_SUBSCR
                       30 BUILD_TUPLE              2
-                      32 LOAD_CONST               3 (<code object instrumentation_dependencies, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py", line 41>)
+                      32 LOAD_CONST               3 (<code object instrumentation_dependencies, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py", line 37>)
                       34 MAKE_FUNCTION            4 (annotations)
                       36 STORE_NAME               6 (instrumentation_dependencies)
          
-          44          38 LOAD_CONST               4 (<code object _instrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py", line 44>)
+          40          38 LOAD_CONST               4 (<code object _instrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py", line 40>)
                       40 MAKE_FUNCTION            0
                       42 STORE_NAME               7 (_instrument)
          
-          76          44 LOAD_CONST               5 (<code object _uninstrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py", line 76>)
+          71          44 LOAD_CONST               5 (<code object _uninstrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py", line 71>)
                       46 MAKE_FUNCTION            0
                       48 STORE_NAME               8 (_uninstrument)
                       50 LOAD_CONST               6 (None)
                       52 RETURN_VALUE
          consts
             'LangchainInstrumentation'
             '\n    Instrumentor for langchain.\n    '
             'return'
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x9700640167015300
-                41           0 RESUME                   0
+                37           0 RESUME                   0
                
-                42           2 LOAD_CONST               1 ('langchain >= 0.1.9')
+                38           2 LOAD_CONST               1 ('langchain >= 0.1.9')
                              4 BUILD_LIST               1
                              6 RETURN_VALUE
                consts
                   None
                   'langchain >= 0.1.9'
                names      ()
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py'
                name       'instrumentation_dependencies'
-               firstlineno 41
+               firstlineno 37
                lnotab 0x0201
             code
                argcount  : 1
-               nlocals   : 8
+               nlocals   : 7
                stacksize : 8
                flags     : 11
                code
                   0x97007c01a00000000000000000000000000000000000000000006401a6
                   010000ab0100000000000000007d02740300000000000000000000740400
                   0000000000000000007406000000000000000000007c02a6030000ab0300
-                  000000000000007d037408000000000000000000006a0500000000000000
-                  00a00600000000000000000000000000000000000000006402a6010000ab
-                  0100000000000000007d04640367017d057c0544005d1e5c0200007d067d
-                  07740f000000000000000000007c067c037c047c07741000000000000000
-                  000000ac04a6050000ab05000000000000000001008c1f74130000000000
-                  0000000000640564067415000000000000000000007c0374160000000000
-                  0000000000ac07a6020000ab020000000000000000a6030000ab03000000
-                  000000000001007413000000000000000000006405640874190000000000
-                  00000000007c03741600000000000000000000ac07a6020000ab02000000
-                  0000000000a6030000ab030000000000000000010064005300
-                44           0 RESUME                   0
+                  000000000000007d03640267017d047c0444005d1d5c0200007d057d0674
+                  09000000000000000000007c057c037c06740a00000000000000000000ac
+                  03a6040000ab04000000000000000001008c1e740d000000000000000000
+                  0064046405740f000000000000000000007c037410000000000000000000
+                  00ac06a6020000ab020000000000000000a6030000ab0300000000000000
+                  000100740d00000000000000000000640464077413000000000000000000
+                  007c03741000000000000000000000ac06a6020000ab0200000000000000
+                  00a6030000ab030000000000000000010064005300
+                40           0 RESUME                   0
                
-                45           2 LOAD_FAST                1 (kwargs)
+                41           2 LOAD_FAST                1 (kwargs)
                              4 LOAD_METHOD              0 (get)
                             26 LOAD_CONST               1 ('tracer_provider')
                             28 PRECALL                  1
                             32 CALL                     1
                             42 STORE_FAST               2 (tracer_provider)
                
-                46          44 LOAD_GLOBAL              3 (NULL + get_tracer)
+                42          44 LOAD_GLOBAL              3 (NULL + get_tracer)
                             56 LOAD_GLOBAL              4 (__name__)
                             68 LOAD_GLOBAL              6 (__version__)
                             80 LOAD_FAST                2 (tracer_provider)
                             82 PRECALL                  3
                             86 CALL                     3
                             96 STORE_FAST               3 (tracer)
                
-                47          98 LOAD_GLOBAL              8 (importlib)
-                           110 LOAD_ATTR                5 (metadata)
-                           120 LOAD_METHOD              6 (version)
-                           142 LOAD_CONST               2 ('langchain')
-                           144 PRECALL                  1
-                           148 CALL                     1
-                           158 STORE_FAST               4 (version)
-               
-                50         160 LOAD_CONST               3 (('langchain.text_splitter', 'split_text'))
+                45          98 LOAD_CONST               2 (('langchain.text_splitter', 'split_text'))
                
-                49         162 BUILD_LIST               1
-                           164 STORE_FAST               5 (modules_to_patch)
+                44         100 BUILD_LIST               1
+                           102 STORE_FAST               4 (modules_to_patch)
                
-                53         166 LOAD_FAST                5 (modules_to_patch)
-                           168 GET_ITER
-                       >>  170 FOR_ITER                30 (to 232)
-                           172 UNPACK_SEQUENCE          2
-                           176 STORE_FAST               6 (module_name)
-                           178 STORE_FAST               7 (task)
+                48         104 LOAD_FAST                4 (modules_to_patch)
+                           106 GET_ITER
+                       >>  108 FOR_ITER                29 (to 168)
+                           110 UNPACK_SEQUENCE          2
+                           114 STORE_FAST               5 (module_name)
+                           116 STORE_FAST               6 (task)
                
-                54         180 LOAD_GLOBAL             15 (NULL + patch_module_classes)
+                49         118 LOAD_GLOBAL              9 (NULL + patch_module_classes)
                
-                55         192 LOAD_FAST                6 (module_name)
-                           194 LOAD_FAST                3 (tracer)
-                           196 LOAD_FAST                4 (version)
-                           198 LOAD_FAST                7 (task)
-                           200 LOAD_GLOBAL             16 (GenericSpanCapture)
+                50         130 LOAD_FAST                5 (module_name)
+                           132 LOAD_FAST                3 (tracer)
+                           134 LOAD_FAST                6 (task)
+                           136 LOAD_GLOBAL             10 (GenericSpanCapture)
                
-                54         212 KW_NAMES                 4
-                           214 PRECALL                  5
-                           218 CALL                     5
-                           228 POP_TOP
-                           230 JUMP_BACKWARD           31 (to 170)
+                49         148 KW_NAMES                 3
+                           150 PRECALL                  4
+                           154 CALL                     4
+                           164 POP_TOP
+                           166 JUMP_BACKWARD           30 (to 108)
                
-                58     >>  232 LOAD_GLOBAL             19 (NULL + wrap_function_wrapper)
+                53     >>  168 LOAD_GLOBAL             13 (NULL + wrap_function_wrapper)
                
-                59         244 LOAD_CONST               5 ('langchain.chat_models.base')
+                54         180 LOAD_CONST               4 ('langchain.chat_models.base')
                
-                60         246 LOAD_CONST               6 ('BaseChatModel.generate')
+                55         182 LOAD_CONST               5 ('BaseChatModel.generate')
                
-                61         248 LOAD_GLOBAL             21 (NULL + method_wrapper)
+                56         184 LOAD_GLOBAL             15 (NULL + method_wrapper)
                
-                62         260 LOAD_FAST                3 (tracer)
+                57         196 LOAD_FAST                3 (tracer)
                
-                63         262 LOAD_GLOBAL             22 (ChatSpanCapture)
+                58         198 LOAD_GLOBAL             16 (ChatSpanCapture)
                
-                61         274 KW_NAMES                 7
-                           276 PRECALL                  2
-                           280 CALL                     2
+                56         210 KW_NAMES                 6
+                           212 PRECALL                  2
+                           216 CALL                     2
                
-                58         290 PRECALL                  3
-                           294 CALL                     3
-                           304 POP_TOP
+                53         226 PRECALL                  3
+                           230 CALL                     3
+                           240 POP_TOP
                
-                67         306 LOAD_GLOBAL             19 (NULL + wrap_function_wrapper)
+                62         242 LOAD_GLOBAL             13 (NULL + wrap_function_wrapper)
                
-                68         318 LOAD_CONST               5 ('langchain.chat_models.base')
+                63         254 LOAD_CONST               4 ('langchain.chat_models.base')
                
-                69         320 LOAD_CONST               8 ('BaseChatModel.agenerate')
+                64         256 LOAD_CONST               7 ('BaseChatModel.agenerate')
                
-                70         322 LOAD_GLOBAL             25 (NULL + async_method_wrapper)
+                65         258 LOAD_GLOBAL             19 (NULL + async_method_wrapper)
                
-                71         334 LOAD_FAST                3 (tracer)
+                66         270 LOAD_FAST                3 (tracer)
                
-                72         336 LOAD_GLOBAL             22 (ChatSpanCapture)
+                67         272 LOAD_GLOBAL             16 (ChatSpanCapture)
                
-                70         348 KW_NAMES                 7
-                           350 PRECALL                  2
-                           354 CALL                     2
+                65         284 KW_NAMES                 6
+                           286 PRECALL                  2
+                           290 CALL                     2
                
-                67         364 PRECALL                  3
-                           368 CALL                     3
-                           378 POP_TOP
-                           380 LOAD_CONST               0 (None)
-                           382 RETURN_VALUE
+                62         300 PRECALL                  3
+                           304 CALL                     3
+                           314 POP_TOP
+                           316 LOAD_CONST               0 (None)
+                           318 RETURN_VALUE
                consts
                   None
                   'tracer_provider'
-                  'langchain'
                   ('langchain.text_splitter', 'split_text')
                   ('SpanCapture',)
                   'langchain.chat_models.base'
                   'BaseChatModel.generate'
                   ('tracer', 'SpanCapture')
                   'BaseChatModel.agenerate'
-               names      ('get', 'get_tracer', '__name__', '__version__', 'importlib', 'metadata', 'version', 'patch_module_classes', 'GenericSpanCapture', 'wrap_function_wrapper', 'method_wrapper', 'ChatSpanCapture', 'async_method_wrapper')
-               varnames   ('self', 'kwargs', 'tracer_provider', 'tracer', 'version', 'modules_to_patch', 'module_name', 'task')
+               names      ('get', 'get_tracer', '__name__', '__version__', 'patch_module_classes', 'GenericSpanCapture', 'wrap_function_wrapper', 'method_wrapper', 'ChatSpanCapture', 'async_method_wrapper')
+               varnames   ('self', 'kwargs', 'tracer_provider', 'tracer', 'modules_to_patch', 'module_name', 'task')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py'
                name       '_instrument'
-               firstlineno 44
+               firstlineno 40
                lnotab
-                  0x02012a0136013e0302ff04040e010c0114ff14040c01020102010c0102
-                  010cfe10fd10090c01020102010c0102010cfe10fd
+                  0x02012a01360302ff04040e010c0112ff14040c01020102010c0102010c
+                  fe10fd10090c01020102010c0102010cfe10fd
             code
                argcount  : 1
                nlocals   : 2
                stacksize : 1
                flags     : 11
                code 0x970064005300
-                76           0 RESUME                   0
+                71           0 RESUME                   0
                
-                77           2 LOAD_CONST               0 (None)
+                72           2 LOAD_CONST               0 (None)
                              4 RETURN_VALUE
                consts
                   None
                names      ()
                varnames   ('self', 'kwargs')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py'
                name       '_uninstrument'
-               firstlineno 76
+               firstlineno 71
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', '__doc__', 'Collection', 'str', 'instrumentation_dependencies', '_instrument', '_uninstrument')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py'
          name       'LangchainInstrumentation'
-         firstlineno 36
-         lnotab 0x0a01040418030620
+         firstlineno 32
+         lnotab 0x0a0104041803061f
       'LangchainInstrumentation'
-   names      ('__doc__', 'importlib.metadata', 'importlib', 'logging', 'typing', 'Collection', 'opentelemetry.instrumentation.instrumentor', 'BaseInstrumentor', 'opentelemetry.trace', 'get_tracer', 'wrapt', 'wrap_function_wrapper', 'agiflow.opentelemetry.instrumentation.utils', 'method_wrapper', 'async_method_wrapper', 'agiflow.opentelemetry.instrumentation.langchain.hooks', 'GenericSpanCapture', 'ChatSpanCapture', 'patch_module_classes', 'agiflow.version', '__version__', 'basicConfig', 'FATAL', 'LangchainInstrumentation')
+      None
+   names      ('__doc__', 'typing', 'Collection', 'opentelemetry.instrumentation.instrumentor', 'BaseInstrumentor', 'opentelemetry.trace', 'get_tracer', 'wrapt', 'wrap_function_wrapper', 'agiflow.opentelemetry.instrumentation.utils', 'method_wrapper', 'async_method_wrapper', 'agiflow.opentelemetry.instrumentation.langchain.hooks', 'GenericSpanCapture', 'ChatSpanCapture', 'patch_module_classes', 'agiflow.version', '__version__', 'LangchainInstrumentation')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010410080108010c020c010c010c01100510010c010c022c03
+   lnotab 0x00ff020104100c020c010c010c01100510010c010c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/__pycache__/patch.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/__pycache__/patch.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/base.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/chroma/hooks/__pycache__/base.cpython-311.pyc`

 * *Files 18% similar despite different names*

#### Python bytecode

```diff
@@ -1,167 +1,188 @@
 magic:    0xa70d0d0a
-moddate:  0x523a5966 (Fri May 31 02:47:46 2024 UTC)
-files sz: 1229
+moddate:  0x4ad95a66 (Sat Jun  1 08:18:18 2024 UTC)
+files sz: 1385
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
-      0x970064005a00640164026c016d025a020100640164036c036d045a0401
-      00640164046c056d065a060100020047006405840064066506a6030000ab
-      0300000000000000005a0764075300
+      0x970064005a00640164026c015a02640164036c036d045a046d055a0501
+      00640164046c066d075a070100640164056c086d095a0901000200470064
+      06840064076509a6030000ab0300000000000000005a0a64025300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
-                 8 LOAD_CONST               2 (('SERVICE_PROVIDERS',))
-                10 IMPORT_NAME              1 (agiflow.opentelemetry.instrumentation.constants)
-                12 IMPORT_FROM              2 (SERVICE_PROVIDERS)
-                14 STORE_NAME               2 (SERVICE_PROVIDERS)
-                16 POP_TOP
-   
-    18          18 LOAD_CONST               1 (0)
-                20 LOAD_CONST               3 (('SpanAttributes',))
-                22 IMPORT_NAME              3 (agiflow.opentelemetry.convention)
-                24 IMPORT_FROM              4 (SpanAttributes)
-                26 STORE_NAME               4 (SpanAttributes)
+                 8 LOAD_CONST               2 (None)
+                10 IMPORT_NAME              1 (importlib.metadata)
+                12 STORE_NAME               2 (importlib)
+   
+    18          14 LOAD_CONST               1 (0)
+                16 LOAD_CONST               3 (('SpanAttributes', 'AgiflowServiceTypes'))
+                18 IMPORT_NAME              3 (agiflow.opentelemetry.convention)
+                20 IMPORT_FROM              4 (SpanAttributes)
+                22 STORE_NAME               4 (SpanAttributes)
+                24 IMPORT_FROM              5 (AgiflowServiceTypes)
+                26 STORE_NAME               5 (AgiflowServiceTypes)
                 28 POP_TOP
    
     19          30 LOAD_CONST               1 (0)
-                32 LOAD_CONST               4 (('BaseSpanCapture',))
-                34 IMPORT_NAME              5 (agiflow.opentelemetry.instrumentation.utils)
-                36 IMPORT_FROM              6 (BaseSpanCapture)
-                38 STORE_NAME               6 (BaseSpanCapture)
+                32 LOAD_CONST               4 (('SERVICE_PROVIDERS',))
+                34 IMPORT_NAME              6 (agiflow.opentelemetry.instrumentation.constants.common)
+                36 IMPORT_FROM              7 (SERVICE_PROVIDERS)
+                38 STORE_NAME               7 (SERVICE_PROVIDERS)
                 40 POP_TOP
    
-    22          42 PUSH_NULL
-                44 LOAD_BUILD_CLASS
-                46 LOAD_CONST               5 (<code object LangchainSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/base.py", line 22>)
-                48 MAKE_FUNCTION            0
-                50 LOAD_CONST               6 ('LangchainSpanCapture')
-                52 LOAD_NAME                6 (BaseSpanCapture)
-                54 PRECALL                  3
-                58 CALL                     3
-                68 STORE_NAME               7 (LangchainSpanCapture)
-                70 LOAD_CONST               7 (None)
-                72 RETURN_VALUE
+    22          42 LOAD_CONST               1 (0)
+                44 LOAD_CONST               5 (('BaseSpanCapture',))
+                46 IMPORT_NAME              8 (agiflow.opentelemetry.instrumentation.utils)
+                48 IMPORT_FROM              9 (BaseSpanCapture)
+                50 STORE_NAME               9 (BaseSpanCapture)
+                52 POP_TOP
+   
+    25          54 PUSH_NULL
+                56 LOAD_BUILD_CLASS
+                58 LOAD_CONST               6 (<code object ChromaSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/chroma/hooks/base.py", line 25>)
+                60 MAKE_FUNCTION            0
+                62 LOAD_CONST               7 ('ChromaSpanCapture')
+                64 LOAD_NAME                9 (BaseSpanCapture)
+                66 PRECALL                  3
+                70 CALL                     3
+                80 STORE_NAME              10 (ChromaSpanCapture)
+                82 LOAD_CONST               2 (None)
+                84 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
+      None
+      ('SpanAttributes', 'AgiflowServiceTypes')
       ('SERVICE_PROVIDERS',)
-      ('SpanAttributes',)
       ('BaseSpanCapture',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 2
          flags     : 0
          code
-            0x8700970065005a0164005a0264015a0388006601640284085a04880078
-            015a055300
+            0x8700970065005a0164005a0288006601640184085a03880078015a0453
+            00
                        0 MAKE_CELL                0 (__class__)
          
-          22           2 RESUME                   0
+          25           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
-                       8 LOAD_CONST               0 ('LangchainSpanCapture')
+                       8 LOAD_CONST               0 ('ChromaSpanCapture')
                       10 STORE_NAME               2 (__qualname__)
          
-          23          12 LOAD_CONST               1 ('\n    Base SpanCapture class for Langchain\n    ')
-                      14 STORE_NAME               3 (__doc__)
-         
-          26          16 LOAD_CLOSURE             0 (__class__)
-                      18 BUILD_TUPLE              1
-                      20 LOAD_CONST               2 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/base.py", line 26>)
-                      22 MAKE_FUNCTION            8 (closure)
-                      24 STORE_NAME               4 (__init__)
-                      26 LOAD_CLOSURE             0 (__class__)
-                      28 COPY                     1
-                      30 STORE_NAME               5 (__classcell__)
-                      32 RETURN_VALUE
+          27          12 LOAD_CLOSURE             0 (__class__)
+                      14 BUILD_TUPLE              1
+                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/chroma/hooks/base.py", line 27>)
+                      18 MAKE_FUNCTION            8 (closure)
+                      20 STORE_NAME               3 (__init__)
+                      22 LOAD_CLOSURE             0 (__class__)
+                      24 COPY                     1
+                      26 STORE_NAME               4 (__classcell__)
+                      28 RETURN_VALUE
          consts
-            'LangchainSpanCapture'
-            '\n    Base SpanCapture class for Langchain\n    '
+            'ChromaSpanCapture'
             code
                argcount  : 1
                nlocals   : 4
-               stacksize : 6
+               stacksize : 10
                flags     : 15
                code
                   0x950197000200740100000000000000000000a6000000ab000000000000
                   0000006a0100000000000000007c0169007c02a4018e0101007404000000
                   000000000000006401190000000000000000007d037c00a0030000000000
                   0000000000000000000000000000007408000000000000000000006a0500
                   000000000000007c037408000000000000000000006a0600000000000000
-                  007c006a0700000000000000006902a6010000ab01000000000000000001
-                  0064005300
+                  00740e000000000000000000006a080000000000000000a0090000000000
+                  0000000000000000000000000000006402a6010000ab0100000000000000
+                  007408000000000000000000006a0a000000000000000074160000000000
+                  00000000006a0c00000000000000007408000000000000000000006a0d00
+                  0000000000000064026904a6010000ab0100000000000000000100640053
+                  00
                              0 COPY_FREE_VARS           1
                
-                26           2 RESUME                   0
+                27           2 RESUME                   0
                
-                31           4 PUSH_NULL
+                32           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
                             22 CALL                     0
                             32 LOAD_ATTR                1 (__init__)
                             42 LOAD_FAST                1 (args)
                             44 BUILD_MAP                0
                             46 LOAD_FAST                2 (kwargs)
                             48 DICT_MERGE               1
                             50 CALL_FUNCTION_EX         1
                             52 POP_TOP
                
-                32          54 LOAD_GLOBAL              4 (SERVICE_PROVIDERS)
-                            66 LOAD_CONST               1 ('LANGCHAIN')
+                33          54 LOAD_GLOBAL              4 (SERVICE_PROVIDERS)
+                            66 LOAD_CONST               1 ('CHROMA')
                             68 BINARY_SUBSCR
                             78 STORE_FAST               3 (service_provider)
                
-                33          80 LOAD_FAST                0 (self)
+                34          80 LOAD_FAST                0 (self)
                             82 LOAD_METHOD              3 (set_pydantic_attributes)
                
-                34         104 LOAD_GLOBAL              8 (SpanAttributes)
+                35         104 LOAD_GLOBAL              8 (SpanAttributes)
                            116 LOAD_ATTR                5 (AGIFLOW_SERVICE_NAME)
                            126 LOAD_FAST                3 (service_provider)
                
-                35         128 LOAD_GLOBAL              8 (SpanAttributes)
+                36         128 LOAD_GLOBAL              8 (SpanAttributes)
                            140 LOAD_ATTR                6 (AGIFLOW_SERVICE_VERSION)
-                           150 LOAD_FAST                0 (self)
-                           152 LOAD_ATTR                7 (version)
-               
-                33         162 BUILD_MAP                2
-                           164 PRECALL                  1
-                           168 CALL                     1
-                           178 POP_TOP
-                           180 LOAD_CONST               0 (None)
-                           182 RETURN_VALUE
+                           150 LOAD_GLOBAL             14 (importlib)
+                           162 LOAD_ATTR                8 (metadata)
+                           172 LOAD_METHOD              9 (version)
+                           194 LOAD_CONST               2 ('chromadb')
+                           196 PRECALL                  1
+                           200 CALL                     1
+               
+                37         210 LOAD_GLOBAL              8 (SpanAttributes)
+                           222 LOAD_ATTR               10 (AGIFLOW_SERVICE_TYPE)
+                           232 LOAD_GLOBAL             22 (AgiflowServiceTypes)
+                           244 LOAD_ATTR               12 (VECTORDB)
+               
+                38         254 LOAD_GLOBAL              8 (SpanAttributes)
+                           266 LOAD_ATTR               13 (DB_SYSTEM)
+                           276 LOAD_CONST               2 ('chromadb')
+               
+                34         278 BUILD_MAP                4
+                           280 PRECALL                  1
+                           284 CALL                     1
+                           294 POP_TOP
+                           296 LOAD_CONST               0 (None)
+                           298 RETURN_VALUE
                consts
                   None
-                  'LANGCHAIN'
-               names      ('super', '__init__', 'SERVICE_PROVIDERS', 'set_pydantic_attributes', 'SpanAttributes', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_VERSION', 'version')
+                  'CHROMA'
+                  'chromadb'
+               names      ('super', '__init__', 'SERVICE_PROVIDERS', 'set_pydantic_attributes', 'SpanAttributes', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_VERSION', 'importlib', 'metadata', 'version', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'VECTORDB', 'DB_SYSTEM')
                varnames   ('self', 'args', 'kwargs', 'service_provider')
                freevars   ('__class__',)
                cellvars   ()
-               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/base.py'
+               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/chroma/hooks/base.py'
                name       '__init__'
-               firstlineno 26
-               lnotab 0x040532011a011801180122fe
-         names      ('__name__', '__module__', '__qualname__', '__doc__', '__init__', '__classcell__')
+               firstlineno 27
+               lnotab 0x040532011a011801180152012c0118fc
+         names      ('__name__', '__module__', '__qualname__', '__init__', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
-         filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/base.py'
-         name       'LangchainSpanCapture'
-         firstlineno 22
-         lnotab 0x0c010403
-      'LangchainSpanCapture'
-      None
-   names      ('__doc__', 'agiflow.opentelemetry.instrumentation.constants', 'SERVICE_PROVIDERS', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'agiflow.opentelemetry.instrumentation.utils', 'BaseSpanCapture', 'LangchainSpanCapture')
+         filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/chroma/hooks/base.py'
+         name       'ChromaSpanCapture'
+         firstlineno 25
+         lnotab 0x0c02
+      'ChromaSpanCapture'
+   names      ('__doc__', 'importlib.metadata', 'importlib', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'agiflow.opentelemetry.instrumentation.constants.common', 'SERVICE_PROVIDERS', 'agiflow.opentelemetry.instrumentation.utils', 'BaseSpanCapture', 'ChromaSpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
-   filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/base.py'
+   filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/chroma/hooks/base.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff020104100c010c010c03
+   lnotab 0x00ff02010410080110010c030c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/chat.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/chat.cpython-311.pyc`

 * *Files 11% similar despite different names*

#### Python bytecode

```diff
@@ -1,21 +1,22 @@
 magic:    0xa70d0d0a
-moddate:  0xc2395966 (Fri May 31 02:45:22 2024 UTC)
-files sz: 5017
+moddate:  0x3bd65b66 (Sun Jun  2 02:17:31 2024 UTC)
+files sz: 5021
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
       0x970064005a00640164026c015a01640164036c026d035a036d045a046d
       055a050100640164046c066d075a070100640164056c086d095a09010064
       0164066c0a6d0b5a0b0100640164076c0c6d0d5a0d6d0e5a0e6d0f5a0f6d
-      105a106d115a110100640164086c126d135a130100020047006409840064
-      0a650ba6030000ab0300000000000000005a1464025300
+      105a100100640164086c116d125a120100020065016a1300000000000000
+      006514a6010000ab0100000000000000005a150200470064098400640a65
+      0ba6030000ab0300000000000000005a1664025300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
                  8 LOAD_CONST               2 (None)
@@ -51,125 +52,121 @@
                 60 LOAD_CONST               6 (('LangchainSpanCapture',))
                 62 IMPORT_NAME             10 (agiflow.opentelemetry.instrumentation.langchain.hooks.base)
                 64 IMPORT_FROM             11 (LangchainSpanCapture)
                 66 STORE_NAME              11 (LangchainSpanCapture)
                 68 POP_TOP
    
     22          70 LOAD_CONST               1 (0)
-                72 LOAD_CONST               7 (('SpanAttributes', 'AgiflowServiceTypes', 'AgiflowSpanKindValues', 'LLMPromptRoles', 'LLMPromptKeys'))
+                72 LOAD_CONST               7 (('SpanAttributes', 'AgiflowServiceTypes', 'LLMPromptRoles', 'LLMPromptKeys'))
                 74 IMPORT_NAME             12 (agiflow.opentelemetry.convention)
                 76 IMPORT_FROM             13 (SpanAttributes)
                 78 STORE_NAME              13 (SpanAttributes)
                 80 IMPORT_FROM             14 (AgiflowServiceTypes)
                 82 STORE_NAME              14 (AgiflowServiceTypes)
-                84 IMPORT_FROM             15 (AgiflowSpanKindValues)
-                86 STORE_NAME              15 (AgiflowSpanKindValues)
-                88 IMPORT_FROM             16 (LLMPromptRoles)
-                90 STORE_NAME              16 (LLMPromptRoles)
-                92 IMPORT_FROM             17 (LLMPromptKeys)
-                94 STORE_NAME              17 (LLMPromptKeys)
-                96 POP_TOP
+                84 IMPORT_FROM             15 (LLMPromptRoles)
+                86 STORE_NAME              15 (LLMPromptRoles)
+                88 IMPORT_FROM             16 (LLMPromptKeys)
+                90 STORE_NAME              16 (LLMPromptKeys)
+                92 POP_TOP
    
-    29          98 LOAD_CONST               1 (0)
-               100 LOAD_CONST               8 (('should_send_prompts',))
-               102 IMPORT_NAME             18 (agiflow.opentelemetry.utils)
-               104 IMPORT_FROM             19 (should_send_prompts)
-               106 STORE_NAME              19 (should_send_prompts)
-               108 POP_TOP
+    28          94 LOAD_CONST               1 (0)
+                96 LOAD_CONST               8 (('should_send_prompts',))
+                98 IMPORT_NAME             17 (agiflow.opentelemetry.utils)
+               100 IMPORT_FROM             18 (should_send_prompts)
+               102 STORE_NAME              18 (should_send_prompts)
+               104 POP_TOP
    
-    32         110 PUSH_NULL
-               112 LOAD_BUILD_CLASS
-               114 LOAD_CONST               9 (<code object ChatSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 32>)
-               116 MAKE_FUNCTION            0
-               118 LOAD_CONST              10 ('ChatSpanCapture')
-               120 LOAD_NAME               11 (LangchainSpanCapture)
-               122 PRECALL                  3
-               126 CALL                     3
-               136 STORE_NAME              20 (ChatSpanCapture)
-               138 LOAD_CONST               2 (None)
-               140 RETURN_VALUE
+    30         106 PUSH_NULL
+               108 LOAD_NAME                1 (logging)
+               110 LOAD_ATTR               19 (getLogger)
+               120 LOAD_NAME               20 (__name__)
+               122 PRECALL                  1
+               126 CALL                     1
+               136 STORE_NAME              21 (logger)
+   
+    33         138 PUSH_NULL
+               140 LOAD_BUILD_CLASS
+               142 LOAD_CONST               9 (<code object ChatSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 33>)
+               144 MAKE_FUNCTION            0
+               146 LOAD_CONST              10 ('ChatSpanCapture')
+               148 LOAD_NAME               11 (LangchainSpanCapture)
+               150 PRECALL                  3
+               154 CALL                     3
+               164 STORE_NAME              22 (ChatSpanCapture)
+               166 LOAD_CONST               2 (None)
+               168 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
       None
       ('LLMResponseKeys', 'LLMTokenUsageKeys', 'LLMTypes')
       ('LLMSpanAttributesValidator',)
       ('serialise_to_json',)
       ('LangchainSpanCapture',)
-      ('SpanAttributes', 'AgiflowServiceTypes', 'AgiflowSpanKindValues', 'LLMPromptRoles', 'LLMPromptKeys')
+      ('SpanAttributes', 'AgiflowServiceTypes', 'LLMPromptRoles', 'LLMPromptKeys')
       ('should_send_prompts',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 2
          flags     : 0
          code
             0x8700970065005a0164005a0288006601640184085a03650464028400a6
-            000000ab0000000000000000005a05650464038400a6000000ab00000000
-            00000000005a06640484005a07640584005a08880078015a095300
+            000000ab0000000000000000005a05640384005a06640484005a07880078
+            015a085300
                        0 MAKE_CELL                0 (__class__)
          
-          32           2 RESUME                   0
+          33           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
                        8 LOAD_CONST               0 ('ChatSpanCapture')
                       10 STORE_NAME               2 (__qualname__)
          
-          33          12 LOAD_CLOSURE             0 (__class__)
+          34          12 LOAD_CLOSURE             0 (__class__)
                       14 BUILD_TUPLE              1
-                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 33>)
+                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 34>)
                       18 MAKE_FUNCTION            8 (closure)
                       20 STORE_NAME               3 (__init__)
          
-          36          22 LOAD_NAME                4 (staticmethod)
+          37          22 LOAD_NAME                4 (staticmethod)
          
-          37          24 LOAD_CONST               2 (<code object get_model, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 36>)
+          38          24 LOAD_CONST               2 (<code object get_model, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 37>)
                       26 MAKE_FUNCTION            0
          
-          36          28 PRECALL                  0
+          37          28 PRECALL                  0
                       32 CALL                     0
          
-          37          42 STORE_NAME               5 (get_model)
-         
-          49          44 LOAD_NAME                4 (staticmethod)
-         
-          50          46 LOAD_CONST               3 (<code object get_span_kind, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 49>)
-                      48 MAKE_FUNCTION            0
-         
-          49          50 PRECALL                  0
-                      54 CALL                     0
-         
-          50          64 STORE_NAME               6 (get_span_kind)
+          38          42 STORE_NAME               5 (get_model)
          
-          53          66 LOAD_CONST               4 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 53>)
-                      68 MAKE_FUNCTION            0
-                      70 STORE_NAME               7 (capture_input)
-         
-          93          72 LOAD_CONST               5 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 93>)
-                      74 MAKE_FUNCTION            0
-                      76 STORE_NAME               8 (capture_output)
-                      78 LOAD_CLOSURE             0 (__class__)
-                      80 COPY                     1
-                      82 STORE_NAME               9 (__classcell__)
-                      84 RETURN_VALUE
+          50          44 LOAD_CONST               3 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 50>)
+                      46 MAKE_FUNCTION            0
+                      48 STORE_NAME               6 (capture_input)
+         
+          92          50 LOAD_CONST               4 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py", line 92>)
+                      52 MAKE_FUNCTION            0
+                      54 STORE_NAME               7 (capture_output)
+                      56 LOAD_CLOSURE             0 (__class__)
+                      58 COPY                     1
+                      60 STORE_NAME               8 (__classcell__)
+                      62 RETURN_VALUE
          consts
             'ChatSpanCapture'
             code
                argcount  : 1
                nlocals   : 3
                stacksize : 5
                flags     : 15
                code
                   0x950197000200740100000000000000000000a6000000ab000000000000
                   0000006a0100000000000000007c0169007c02a4018e01010064005300
                              0 COPY_FREE_VARS           1
                
-                33           2 RESUME                   0
+                34           2 RESUME                   0
                
-                34           4 PUSH_NULL
+                35           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
                             22 CALL                     0
                             32 LOAD_ATTR                1 (__init__)
                             42 LOAD_FAST                1 (args)
                             44 BUILD_MAP                0
                             46 LOAD_FAST                2 (kwargs)
@@ -182,109 +179,88 @@
                   None
                names      ('super', '__init__')
                varnames   ('self', 'args', 'kwargs')
                freevars   ('__class__',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py'
                name       '__init__'
-               firstlineno 33
+               firstlineno 34
                lnotab 0x0401
             code
                argcount  : 1
                nlocals   : 2
                stacksize : 4
                flags     : 3
                code
                   0x97007401000000000000000000007c006401a6020000ab020000000000
                   00000072087c006a0100000000000000007d016e32740100000000000000
                   0000007c006402a6020000ab02000000000000000072087c006a02000000
                   00000000007d016e1a7401000000000000000000007c006403a6020000ab
                   02000000000000000072087c006a0300000000000000007d016e0264047d
                   017c015300
-                36           0 RESUME                   0
+                37           0 RESUME                   0
                
-                38           2 LOAD_GLOBAL              1 (NULL + hasattr)
+                39           2 LOAD_GLOBAL              1 (NULL + hasattr)
                             14 LOAD_FAST                0 (instance)
                             16 LOAD_CONST               1 ('model')
                             18 PRECALL                  2
                             22 CALL                     2
                             32 POP_JUMP_FORWARD_IF_FALSE     8 (to 50)
                
-                39          34 LOAD_FAST                0 (instance)
+                40          34 LOAD_FAST                0 (instance)
                             36 LOAD_ATTR                1 (model)
                             46 STORE_FAST               1 (model)
                             48 JUMP_FORWARD            50 (to 150)
                
-                40     >>   50 LOAD_GLOBAL              1 (NULL + hasattr)
+                41     >>   50 LOAD_GLOBAL              1 (NULL + hasattr)
                             62 LOAD_FAST                0 (instance)
                             64 LOAD_CONST               2 ('model_name')
                             66 PRECALL                  2
                             70 CALL                     2
                             80 POP_JUMP_FORWARD_IF_FALSE     8 (to 98)
                
-                41          82 LOAD_FAST                0 (instance)
+                42          82 LOAD_FAST                0 (instance)
                             84 LOAD_ATTR                2 (model_name)
                             94 STORE_FAST               1 (model)
                             96 JUMP_FORWARD            26 (to 150)
                
-                42     >>   98 LOAD_GLOBAL              1 (NULL + hasattr)
+                43     >>   98 LOAD_GLOBAL              1 (NULL + hasattr)
                            110 LOAD_FAST                0 (instance)
                            112 LOAD_CONST               3 ('model_id')
                            114 PRECALL                  2
                            118 CALL                     2
                            128 POP_JUMP_FORWARD_IF_FALSE     8 (to 146)
                
-                43         130 LOAD_FAST                0 (instance)
+                44         130 LOAD_FAST                0 (instance)
                            132 LOAD_ATTR                3 (model_id)
                            142 STORE_FAST               1 (model)
                            144 JUMP_FORWARD             2 (to 150)
                
-                45     >>  146 LOAD_CONST               4 ('unknown')
+                46     >>  146 LOAD_CONST               4 ('unknown')
                            148 STORE_FAST               1 (model)
                
-                47     >>  150 LOAD_FAST                1 (model)
+                48     >>  150 LOAD_FAST                1 (model)
                            152 RETURN_VALUE
                consts
                   None
                   'model'
                   'model_name'
                   'model_id'
                   'unknown'
                names      ('hasattr', 'model', 'model_name', 'model_id')
                varnames   ('instance', 'model')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py'
                name       'get_model'
-               firstlineno 36
+               firstlineno 37
                lnotab 0x02022001100120011001200110020402
             code
                argcount  : 1
-               nlocals   : 1
-               stacksize : 1
-               flags     : 3
-               code 0x97007400000000000000000000006a0100000000000000005300
-                49           0 RESUME                   0
-               
-                51           2 LOAD_GLOBAL              0 (AgiflowSpanKindValues)
-                            14 LOAD_ATTR                1 (CHAT)
-                            24 RETURN_VALUE
-               consts
-                  None
-               names      ('AgiflowSpanKindValues', 'CHAT')
-               varnames   ('instance',)
-               freevars   ()
-               cellvars   ()
-               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py'
-               name       'get_span_kind'
-               firstlineno 49
-               lnotab 0x0202
-            code
-               argcount  : 1
-               nlocals   : 10
+               nlocals   : 11
                stacksize : 10
                flags     : 3
                code
                   0x9700740000000000000000000000a00100000000000000000000000000
                   000000000000007c006a020000000000000000a6010000ab010000000000
                   0000007d0164017d027407000000000000000000007c006a020000000000
                   0000006402a6020000ab020000000000000000720c7c006a020000000000
@@ -292,582 +268,582 @@
                   00000000000000740e000000000000000000006a08000000000000000074
                   0a000000000000000000006a0900000000000000007c02740a0000000000
                   00000000006a0a00000000000000007c006a0200000000000000006a0b00
                   000000000000006a0c0000000000000000740a000000000000000000006a
                   0d00000000000000007c01740a000000000000000000006a0e0000000000
                   000000741e000000000000000000006a10000000000000000069057d0374
                   07000000000000000000007c006a0200000000000000006403a6020000ab
-                  02000000000000000072fe7423000000000000000000007c006a02000000
+                  02000000000000000072e27423000000000000000000007c006a02000000
                   00000000006a120000000000000000a6010000ab01000000000000000072
-                  e57c006a020000000000000000a012000000000000000000000000000000
-                  0000000000a6000000ab0000000000000000007d0409007c04a013000000
-                  00000000000000000000000000000000006404a6010000ab010000000000
-                  000000a01300000000000000000000000000000000000000006405a60100
-                  00ab0100000000000000007c03740a000000000000000000006a14000000
-                  00000000003c0000007c04a0130000000000000000000000000000000000
-                  0000006404a6010000ab010000000000000000a013000000000000000000
+                  c97c006a020000000000000000a012000000000000000000000000000000
+                  0000000000a6000000ab0000000000000000007d047c04a0130000000000
+                  0000000000000000000000000000006404a6010000ab0100000000000000
+                  007d057c05819909007c05a0130000000000000000000000000000000000
+                  0000006405a6010000ab0100000000000000007c03740a00000000000000
+                  0000006a1400000000000000003c0000007c05a013000000000000000000
                   00000000000000000000006406a6010000ab0100000000000000007c0374
-                  0a000000000000000000006a1500000000000000003c0000007c04a01300
-                  000000000000000000000000000000000000006404a6010000ab01000000
-                  0000000000a01300000000000000000000000000000000000000006407a6
-                  010000ab0100000000000000007c03740a000000000000000000006a1600
-                  000000000000003c0000006e2b2300742e00000000000000000000240072
-                  1e7d057431000000000000000000006a1900000000000000007c05a60100
-                  00ab0100000000000000000100590064007d057e056e0864007d057e0577
-                  01770078035900770167007d06743500000000000000000000a6000000ab
-                  00000000000000000072d97437000000000000000000007c006a1c000000
-                  0000000000a6010000ab01000000000000000064086b0400000000720d7c
-                  006a1c00000000000000006408190000000000000000006e1a7c006a1d00
-                  00000000000000a013000000000000000000000000000000000000000064
-                  096700a6020000ab0200000000000000007d0767007d06743d0000000000
-                  00000000007c07640819000000000000000000a6010000ab010000000000
-                  00000044005d815c0200007d087d097c06a01f0000000000000000000000
-                  0000000000000000007440000000000000000000006a2100000000000000
-                  007c096a220000000000000000640a6b0200000000720c74460000000000
-                  00000000006a2400000000000000006e067c096a22000000000000000074
-                  40000000000000000000006a250000000000000000744d00000000000000
-                  0000007c096a270000000000000000745000000000000000000000a60200
-                  00ab02000000000000000072147453000000000000000000007c096a2700
-                  00000000000000a6010000ab0100000000000000006e067c096a27000000
-                  00000000006902a6010000ab01000000000000000001008c827453000000
-                  000000000000007c06a6010000ab0100000000000000007c03740a000000
-                  000000000000006a2a00000000000000003c0000007c00a02b0000000000
-                  0000000000000000000000000000007c03745800000000000000000000a6
-                  020000ab020000000000000000010064005300
-                53           0 RESUME                   0
+                  0a000000000000000000006a1500000000000000003c0000007c05a01300
+                  000000000000000000000000000000000000006407a6010000ab01000000
+                  00000000007c03740a000000000000000000006a1600000000000000003c
+                  0000006e312300742e00000000000000000000240072247d067430000000
+                  00000000000000a01900000000000000000000000000000000000000007c
+                  06a6010000ab0100000000000000000100590064007d067e066e0864007d
+                  067e067701770078035900770167007d07743500000000000000000000a6
+                  000000ab00000000000000000072d97437000000000000000000007c006a
+                  1c0000000000000000a6010000ab01000000000000000064086b04000000
+                  00720d7c006a1c00000000000000006408190000000000000000006e1a7c
+                  006a1d0000000000000000a0130000000000000000000000000000000000
+                  00000064096700a6020000ab0200000000000000007d0867007d07743d00
+                  0000000000000000007c08640819000000000000000000a6010000ab0100
+                  0000000000000044005d815c0200007d097d0a7c07a01f00000000000000
+                  000000000000000000000000007440000000000000000000006a21000000
+                  00000000007c0a6a220000000000000000640a6b0200000000720c744600
+                  0000000000000000006a2400000000000000006e067c0a6a220000000000
+                  0000007440000000000000000000006a250000000000000000744d000000
+                  000000000000007c0a6a2700000000000000007450000000000000000000
+                  00a6020000ab02000000000000000072147453000000000000000000007c
+                  0a6a270000000000000000a6010000ab0100000000000000006e067c0a6a
+                  2700000000000000006902a6010000ab01000000000000000001008c8274
+                  53000000000000000000007c07a6010000ab0100000000000000007c0374
+                  0a000000000000000000006a2a00000000000000003c0000007c00a02b00
+                  000000000000000000000000000000000000007c03745800000000000000
+                  000000a6020000ab020000000000000000010064005300
+                50           0 RESUME                   0
                
-                54           2 LOAD_GLOBAL              0 (ChatSpanCapture)
+                51           2 LOAD_GLOBAL              0 (ChatSpanCapture)
                             14 LOAD_METHOD              1 (get_model)
                             36 LOAD_FAST                0 (self)
                             38 LOAD_ATTR                2 (instance)
                             48 PRECALL                  1
                             52 CALL                     1
                             62 STORE_FAST               1 (model)
                
-                55          64 LOAD_CONST               1 ('')
+                52          64 LOAD_CONST               1 ('')
                             66 STORE_FAST               2 (base_url)
                
-                57          68 LOAD_GLOBAL              7 (NULL + hasattr)
+                54          68 LOAD_GLOBAL              7 (NULL + hasattr)
                             80 LOAD_FAST                0 (self)
                             82 LOAD_ATTR                2 (instance)
                             92 LOAD_CONST               2 ('base_url')
                             94 PRECALL                  2
                             98 CALL                     2
                            108 POP_JUMP_FORWARD_IF_FALSE    12 (to 134)
                
-                58         110 LOAD_FAST                0 (self)
+                55         110 LOAD_FAST                0 (self)
                            112 LOAD_ATTR                2 (instance)
                            122 LOAD_ATTR                4 (base_url)
                            132 STORE_FAST               2 (base_url)
                
-                61     >>  134 LOAD_GLOBAL             10 (SpanAttributes)
+                58     >>  134 LOAD_GLOBAL             10 (SpanAttributes)
                            146 LOAD_ATTR                6 (AGIFLOW_SERVICE_TYPE)
                            156 LOAD_GLOBAL             14 (AgiflowServiceTypes)
                            168 LOAD_ATTR                8 (LLM)
                
-                62         178 LOAD_GLOBAL             10 (SpanAttributes)
+                59         178 LOAD_GLOBAL             10 (SpanAttributes)
                            190 LOAD_ATTR                9 (URL_FULL)
                            200 LOAD_FAST                2 (base_url)
                
-                63         202 LOAD_GLOBAL             10 (SpanAttributes)
+                60         202 LOAD_GLOBAL             10 (SpanAttributes)
                            214 LOAD_ATTR               10 (LLM_API)
                            224 LOAD_FAST                0 (self)
                            226 LOAD_ATTR                2 (instance)
                            236 LOAD_ATTR               11 (__class__)
                            246 LOAD_ATTR               12 (__name__)
                
-                64         256 LOAD_GLOBAL             10 (SpanAttributes)
+                61         256 LOAD_GLOBAL             10 (SpanAttributes)
                            268 LOAD_ATTR               13 (LLM_MODEL)
                            278 LOAD_FAST                1 (model)
                
-                65         280 LOAD_GLOBAL             10 (SpanAttributes)
+                62         280 LOAD_GLOBAL             10 (SpanAttributes)
                            292 LOAD_ATTR               14 (LLM_TYPE)
                            302 LOAD_GLOBAL             30 (LLMTypes)
                            314 LOAD_ATTR               16 (CHAT)
                
-                60         324 BUILD_MAP                5
+                57         324 BUILD_MAP                5
                            326 STORE_FAST               3 (span_attributes)
                
-                68         328 LOAD_GLOBAL              7 (NULL + hasattr)
+                65         328 LOAD_GLOBAL              7 (NULL + hasattr)
                            340 LOAD_FAST                0 (self)
                            342 LOAD_ATTR                2 (instance)
                            352 LOAD_CONST               3 ('dict')
                            354 PRECALL                  2
                            358 CALL                     2
-                           368 POP_JUMP_FORWARD_IF_FALSE   254 (to 878)
+                           368 POP_JUMP_FORWARD_IF_FALSE   226 (to 822)
                            370 LOAD_GLOBAL             35 (NULL + callable)
                            382 LOAD_FAST                0 (self)
                            384 LOAD_ATTR                2 (instance)
                            394 LOAD_ATTR               18 (dict)
                            404 PRECALL                  1
                            408 CALL                     1
-                           418 POP_JUMP_FORWARD_IF_FALSE   229 (to 878)
+                           418 POP_JUMP_FORWARD_IF_FALSE   201 (to 822)
                
-                69         420 LOAD_FAST                0 (self)
+                66         420 LOAD_FAST                0 (self)
                            422 LOAD_ATTR                2 (instance)
                            432 LOAD_METHOD             18 (dict)
                            454 PRECALL                  0
                            458 CALL                     0
                            468 STORE_FAST               4 (params)
                
-                70         470 NOP
-               
-                71         472 LOAD_FAST                4 (params)
-                           474 LOAD_METHOD             19 (get)
-                           496 LOAD_CONST               4 ('options')
-                           498 PRECALL                  1
-                           502 CALL                     1
-                           512 LOAD_METHOD             19 (get)
-                           534 LOAD_CONST               5 ('temperature')
-                           536 PRECALL                  1
-                           540 CALL                     1
-                           550 LOAD_FAST                3 (span_attributes)
-                           552 LOAD_GLOBAL             10 (SpanAttributes)
-                           564 LOAD_ATTR               20 (LLM_TEMPERATURE)
-                           574 STORE_SUBSCR
-               
-                72         578 LOAD_FAST                4 (params)
-                           580 LOAD_METHOD             19 (get)
-                           602 LOAD_CONST               4 ('options')
-                           604 PRECALL                  1
-                           608 CALL                     1
-                           618 LOAD_METHOD             19 (get)
-                           640 LOAD_CONST               6 ('top_p')
-                           642 PRECALL                  1
-                           646 CALL                     1
-                           656 LOAD_FAST                3 (span_attributes)
-                           658 LOAD_GLOBAL             10 (SpanAttributes)
-                           670 LOAD_ATTR               21 (LLM_TOP_P)
-                           680 STORE_SUBSCR
-               
-                73         684 LOAD_FAST                4 (params)
-                           686 LOAD_METHOD             19 (get)
-                           708 LOAD_CONST               4 ('options')
-                           710 PRECALL                  1
-                           714 CALL                     1
-                           724 LOAD_METHOD             19 (get)
-                           746 LOAD_CONST               7 ('top_k')
-                           748 PRECALL                  1
-                           752 CALL                     1
-                           762 LOAD_FAST                3 (span_attributes)
-                           764 LOAD_GLOBAL             10 (SpanAttributes)
-                           776 LOAD_ATTR               22 (LLM_TOP_K)
-                           786 STORE_SUBSCR
-                           790 JUMP_FORWARD            43 (to 878)
-                       >>  792 PUSH_EXC_INFO
-               
-                74         794 LOAD_GLOBAL             46 (Exception)
-                           806 CHECK_EXC_MATCH
-                           808 POP_JUMP_FORWARD_IF_FALSE    30 (to 870)
-                           810 STORE_FAST               5 (e)
-               
-                75         812 LOAD_GLOBAL             49 (NULL + logging)
-                           824 LOAD_ATTR               25 (error)
-                           834 LOAD_FAST                5 (e)
-                           836 PRECALL                  1
-                           840 CALL                     1
-                           850 POP_TOP
-                           852 POP_EXCEPT
-                           854 LOAD_CONST               0 (None)
-                           856 STORE_FAST               5 (e)
-                           858 DELETE_FAST              5 (e)
-                           860 JUMP_FORWARD             8 (to 878)
-                       >>  862 LOAD_CONST               0 (None)
-                           864 STORE_FAST               5 (e)
-                           866 DELETE_FAST              5 (e)
-                           868 RERAISE                  1
-               
-                74     >>  870 RERAISE                  0
-                       >>  872 COPY                     3
-                           874 POP_EXCEPT
-                           876 RERAISE                  1
-               
-                77     >>  878 BUILD_LIST               0
-                           880 STORE_FAST               6 (prompts)
-               
-                78         882 LOAD_GLOBAL             53 (NULL + should_send_prompts)
-                           894 PRECALL                  0
-                           898 CALL                     0
-                           908 POP_JUMP_FORWARD_IF_FALSE   217 (to 1344)
-               
-                79         910 LOAD_GLOBAL             55 (NULL + len)
-                           922 LOAD_FAST                0 (self)
-                           924 LOAD_ATTR               28 (fargs)
-                           934 PRECALL                  1
-                           938 CALL                     1
-                           948 LOAD_CONST               8 (0)
-                           950 COMPARE_OP               4 (>)
-                           956 POP_JUMP_FORWARD_IF_FALSE    13 (to 984)
-                           958 LOAD_FAST                0 (self)
-                           960 LOAD_ATTR               28 (fargs)
-                           970 LOAD_CONST               8 (0)
-                           972 BINARY_SUBSCR
-                           982 JUMP_FORWARD            26 (to 1036)
-                       >>  984 LOAD_FAST                0 (self)
-                           986 LOAD_ATTR               29 (fkwargs)
-                           996 LOAD_METHOD             19 (get)
-                          1018 LOAD_CONST               9 ('messages')
-                          1020 BUILD_LIST               0
-                          1022 PRECALL                  2
-                          1026 CALL                     2
-                       >> 1036 STORE_FAST               7 (messages)
-               
-                80        1038 BUILD_LIST               0
-                          1040 STORE_FAST               6 (prompts)
-               
-                81        1042 LOAD_GLOBAL             61 (NULL + enumerate)
-                          1054 LOAD_FAST                7 (messages)
-                          1056 LOAD_CONST               8 (0)
-                          1058 BINARY_SUBSCR
-                          1068 PRECALL                  1
-                          1072 CALL                     1
-                          1082 GET_ITER
-                       >> 1084 FOR_ITER               129 (to 1344)
-                          1086 UNPACK_SEQUENCE          2
-                          1090 STORE_FAST               8 (idx)
-                          1092 STORE_FAST               9 (prompt)
-               
-                82        1094 LOAD_FAST                6 (prompts)
-                          1096 LOAD_METHOD             31 (append)
-               
-                83        1118 LOAD_GLOBAL             64 (LLMPromptKeys)
-                          1130 LOAD_ATTR               33 (ROLE)
-               
-                84        1140 LOAD_FAST                9 (prompt)
-                          1142 LOAD_ATTR               34 (type)
-                          1152 LOAD_CONST              10 ('human')
-                          1154 COMPARE_OP               2 (==)
-                          1160 POP_JUMP_FORWARD_IF_FALSE    12 (to 1186)
-                          1162 LOAD_GLOBAL             70 (LLMPromptRoles)
-                          1174 LOAD_ATTR               36 (USER)
-                          1184 JUMP_FORWARD             6 (to 1198)
-                       >> 1186 LOAD_FAST                9 (prompt)
-                          1188 LOAD_ATTR               34 (type)
-               
-                85     >> 1198 LOAD_GLOBAL             64 (LLMPromptKeys)
-                          1210 LOAD_ATTR               37 (CONTENT)
-               
-                86        1220 LOAD_GLOBAL             77 (NULL + isinstance)
-                          1232 LOAD_FAST                9 (prompt)
-                          1234 LOAD_ATTR               39 (content)
-                          1244 LOAD_GLOBAL             80 (list)
-                          1256 PRECALL                  2
-                          1260 CALL                     2
-                          1270 POP_JUMP_FORWARD_IF_FALSE    20 (to 1312)
-                          1272 LOAD_GLOBAL             83 (NULL + serialise_to_json)
-                          1284 LOAD_FAST                9 (prompt)
-                          1286 LOAD_ATTR               39 (content)
-                          1296 PRECALL                  1
-                          1300 CALL                     1
-                          1310 JUMP_FORWARD             6 (to 1324)
-                       >> 1312 LOAD_FAST                9 (prompt)
-                          1314 LOAD_ATTR               39 (content)
-               
-                82     >> 1324 BUILD_MAP                2
-                          1326 PRECALL                  1
-                          1330 CALL                     1
-                          1340 POP_TOP
-                          1342 JUMP_BACKWARD          130 (to 1084)
-               
-                89     >> 1344 LOAD_GLOBAL             83 (NULL + serialise_to_json)
-                          1356 LOAD_FAST                6 (prompts)
-                          1358 PRECALL                  1
-                          1362 CALL                     1
-                          1372 LOAD_FAST                3 (span_attributes)
-                          1374 LOAD_GLOBAL             10 (SpanAttributes)
-                          1386 LOAD_ATTR               42 (LLM_PROMPTS)
-                          1396 STORE_SUBSCR
-               
-                91        1400 LOAD_FAST                0 (self)
-                          1402 LOAD_METHOD             43 (set_span_attributes_from_pydantic)
-                          1424 LOAD_FAST                3 (span_attributes)
-                          1426 LOAD_GLOBAL             88 (LLMSpanAttributesValidator)
-                          1438 PRECALL                  2
-                          1442 CALL                     2
-                          1452 POP_TOP
-                          1454 LOAD_CONST               0 (None)
-                          1456 RETURN_VALUE
+                67         470 LOAD_FAST                4 (params)
+                           472 LOAD_METHOD             19 (get)
+                           494 LOAD_CONST               4 ('options')
+                           496 PRECALL                  1
+                           500 CALL                     1
+                           510 STORE_FAST               5 (options)
+               
+                68         512 LOAD_FAST                5 (options)
+                           514 POP_JUMP_FORWARD_IF_NONE   153 (to 822)
+               
+                69         516 NOP
+               
+                70         518 LOAD_FAST                5 (options)
+                           520 LOAD_METHOD             19 (get)
+                           542 LOAD_CONST               5 ('temperature')
+                           544 PRECALL                  1
+                           548 CALL                     1
+                           558 LOAD_FAST                3 (span_attributes)
+                           560 LOAD_GLOBAL             10 (SpanAttributes)
+                           572 LOAD_ATTR               20 (LLM_TEMPERATURE)
+                           582 STORE_SUBSCR
+               
+                71         586 LOAD_FAST                5 (options)
+                           588 LOAD_METHOD             19 (get)
+                           610 LOAD_CONST               6 ('top_p')
+                           612 PRECALL                  1
+                           616 CALL                     1
+                           626 LOAD_FAST                3 (span_attributes)
+                           628 LOAD_GLOBAL             10 (SpanAttributes)
+                           640 LOAD_ATTR               21 (LLM_TOP_P)
+                           650 STORE_SUBSCR
+               
+                72         654 LOAD_FAST                5 (options)
+                           656 LOAD_METHOD             19 (get)
+                           678 LOAD_CONST               7 ('top_k')
+                           680 PRECALL                  1
+                           684 CALL                     1
+                           694 LOAD_FAST                3 (span_attributes)
+                           696 LOAD_GLOBAL             10 (SpanAttributes)
+                           708 LOAD_ATTR               22 (LLM_TOP_K)
+                           718 STORE_SUBSCR
+                           722 JUMP_FORWARD            49 (to 822)
+                       >>  724 PUSH_EXC_INFO
+               
+                73         726 LOAD_GLOBAL             46 (Exception)
+                           738 CHECK_EXC_MATCH
+                           740 POP_JUMP_FORWARD_IF_FALSE    36 (to 814)
+                           742 STORE_FAST               6 (e)
+               
+                74         744 LOAD_GLOBAL             48 (logger)
+                           756 LOAD_METHOD             25 (error)
+                           778 LOAD_FAST                6 (e)
+                           780 PRECALL                  1
+                           784 CALL                     1
+                           794 POP_TOP
+                           796 POP_EXCEPT
+                           798 LOAD_CONST               0 (None)
+                           800 STORE_FAST               6 (e)
+                           802 DELETE_FAST              6 (e)
+                           804 JUMP_FORWARD             8 (to 822)
+                       >>  806 LOAD_CONST               0 (None)
+                           808 STORE_FAST               6 (e)
+                           810 DELETE_FAST              6 (e)
+                           812 RERAISE                  1
+               
+                73     >>  814 RERAISE                  0
+                       >>  816 COPY                     3
+                           818 POP_EXCEPT
+                           820 RERAISE                  1
+               
+                76     >>  822 BUILD_LIST               0
+                           824 STORE_FAST               7 (prompts)
+               
+                77         826 LOAD_GLOBAL             53 (NULL + should_send_prompts)
+                           838 PRECALL                  0
+                           842 CALL                     0
+                           852 POP_JUMP_FORWARD_IF_FALSE   217 (to 1288)
+               
+                78         854 LOAD_GLOBAL             55 (NULL + len)
+                           866 LOAD_FAST                0 (self)
+                           868 LOAD_ATTR               28 (fargs)
+                           878 PRECALL                  1
+                           882 CALL                     1
+                           892 LOAD_CONST               8 (0)
+                           894 COMPARE_OP               4 (>)
+                           900 POP_JUMP_FORWARD_IF_FALSE    13 (to 928)
+                           902 LOAD_FAST                0 (self)
+                           904 LOAD_ATTR               28 (fargs)
+                           914 LOAD_CONST               8 (0)
+                           916 BINARY_SUBSCR
+                           926 JUMP_FORWARD            26 (to 980)
+                       >>  928 LOAD_FAST                0 (self)
+                           930 LOAD_ATTR               29 (fkwargs)
+                           940 LOAD_METHOD             19 (get)
+                           962 LOAD_CONST               9 ('messages')
+                           964 BUILD_LIST               0
+                           966 PRECALL                  2
+                           970 CALL                     2
+                       >>  980 STORE_FAST               8 (messages)
+               
+                79         982 BUILD_LIST               0
+                           984 STORE_FAST               7 (prompts)
+               
+                80         986 LOAD_GLOBAL             61 (NULL + enumerate)
+                           998 LOAD_FAST                8 (messages)
+                          1000 LOAD_CONST               8 (0)
+                          1002 BINARY_SUBSCR
+                          1012 PRECALL                  1
+                          1016 CALL                     1
+                          1026 GET_ITER
+                       >> 1028 FOR_ITER               129 (to 1288)
+                          1030 UNPACK_SEQUENCE          2
+                          1034 STORE_FAST               9 (idx)
+                          1036 STORE_FAST              10 (prompt)
+               
+                81        1038 LOAD_FAST                7 (prompts)
+                          1040 LOAD_METHOD             31 (append)
+               
+                82        1062 LOAD_GLOBAL             64 (LLMPromptKeys)
+                          1074 LOAD_ATTR               33 (ROLE)
+               
+                83        1084 LOAD_FAST               10 (prompt)
+                          1086 LOAD_ATTR               34 (type)
+                          1096 LOAD_CONST              10 ('human')
+                          1098 COMPARE_OP               2 (==)
+                          1104 POP_JUMP_FORWARD_IF_FALSE    12 (to 1130)
+                          1106 LOAD_GLOBAL             70 (LLMPromptRoles)
+                          1118 LOAD_ATTR               36 (USER)
+                          1128 JUMP_FORWARD             6 (to 1142)
+                       >> 1130 LOAD_FAST               10 (prompt)
+                          1132 LOAD_ATTR               34 (type)
+               
+                84     >> 1142 LOAD_GLOBAL             64 (LLMPromptKeys)
+                          1154 LOAD_ATTR               37 (CONTENT)
+               
+                85        1164 LOAD_GLOBAL             77 (NULL + isinstance)
+                          1176 LOAD_FAST               10 (prompt)
+                          1178 LOAD_ATTR               39 (content)
+                          1188 LOAD_GLOBAL             80 (list)
+                          1200 PRECALL                  2
+                          1204 CALL                     2
+                          1214 POP_JUMP_FORWARD_IF_FALSE    20 (to 1256)
+                          1216 LOAD_GLOBAL             83 (NULL + serialise_to_json)
+                          1228 LOAD_FAST               10 (prompt)
+                          1230 LOAD_ATTR               39 (content)
+                          1240 PRECALL                  1
+                          1244 CALL                     1
+                          1254 JUMP_FORWARD             6 (to 1268)
+                       >> 1256 LOAD_FAST               10 (prompt)
+                          1258 LOAD_ATTR               39 (content)
+               
+                81     >> 1268 BUILD_MAP                2
+                          1270 PRECALL                  1
+                          1274 CALL                     1
+                          1284 POP_TOP
+                          1286 JUMP_BACKWARD          130 (to 1028)
+               
+                88     >> 1288 LOAD_GLOBAL             83 (NULL + serialise_to_json)
+                          1300 LOAD_FAST                7 (prompts)
+                          1302 PRECALL                  1
+                          1306 CALL                     1
+                          1316 LOAD_FAST                3 (span_attributes)
+                          1318 LOAD_GLOBAL             10 (SpanAttributes)
+                          1330 LOAD_ATTR               42 (LLM_PROMPTS)
+                          1340 STORE_SUBSCR
+               
+                90        1344 LOAD_FAST                0 (self)
+                          1346 LOAD_METHOD             43 (set_span_attributes_from_pydantic)
+                          1368 LOAD_FAST                3 (span_attributes)
+                          1370 LOAD_GLOBAL             88 (LLMSpanAttributesValidator)
+                          1382 PRECALL                  2
+                          1386 CALL                     2
+                          1396 POP_TOP
+                          1398 LOAD_CONST               0 (None)
+                          1400 RETURN_VALUE
                ExceptionTable:
-                 472 to 788 -> 792 [0]
-                 792 to 810 -> 872 [1] lasti
-                 812 to 850 -> 862 [1] lasti
-                 862 to 870 -> 872 [1] lasti
+                 518 to 720 -> 724 [0]
+                 724 to 742 -> 816 [1] lasti
+                 744 to 794 -> 806 [1] lasti
+                 806 to 814 -> 816 [1] lasti
                consts
                   None
                   ''
                   'base_url'
                   'dict'
                   'options'
                   'temperature'
                   'top_p'
                   'top_k'
                   0
                   'messages'
                   'human'
-               names      ('ChatSpanCapture', 'get_model', 'instance', 'hasattr', 'base_url', 'SpanAttributes', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'LLM', 'URL_FULL', 'LLM_API', '__class__', '__name__', 'LLM_MODEL', 'LLM_TYPE', 'LLMTypes', 'CHAT', 'callable', 'dict', 'get', 'LLM_TEMPERATURE', 'LLM_TOP_P', 'LLM_TOP_K', 'Exception', 'logging', 'error', 'should_send_prompts', 'len', 'fargs', 'fkwargs', 'enumerate', 'append', 'LLMPromptKeys', 'ROLE', 'type', 'LLMPromptRoles', 'USER', 'CONTENT', 'isinstance', 'content', 'list', 'serialise_to_json', 'LLM_PROMPTS', 'set_span_attributes_from_pydantic', 'LLMSpanAttributesValidator')
-               varnames   ('self', 'model', 'base_url', 'span_attributes', 'params', 'e', 'prompts', 'messages', 'idx', 'prompt')
+               names      ('ChatSpanCapture', 'get_model', 'instance', 'hasattr', 'base_url', 'SpanAttributes', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'LLM', 'URL_FULL', 'LLM_API', '__class__', '__name__', 'LLM_MODEL', 'LLM_TYPE', 'LLMTypes', 'CHAT', 'callable', 'dict', 'get', 'LLM_TEMPERATURE', 'LLM_TOP_P', 'LLM_TOP_K', 'Exception', 'logger', 'error', 'should_send_prompts', 'len', 'fargs', 'fkwargs', 'enumerate', 'append', 'LLMPromptKeys', 'ROLE', 'type', 'LLMPromptRoles', 'USER', 'CONTENT', 'isinstance', 'content', 'list', 'serialise_to_json', 'LLM_PROMPTS', 'set_span_attributes_from_pydantic', 'LLMSpanAttributesValidator')
+               varnames   ('self', 'model', 'base_url', 'span_attributes', 'params', 'options', 'e', 'prompts', 'messages', 'idx', 'prompt')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py'
                name       'capture_input'
-               firstlineno 53
+               firstlineno 50
                lnotab
-                  0x02013e0104022a0118032c011801360118012cfb04085c01320102016a
-                  016a016e0112013aff080304011c01800104013401180116013a01160168
-                  fc14073802
+                  0x02013e0104022a0118032c011801360118012cfb04085c0132012a0104
+                  010201440144014801120146ff080304011c01800104013401180116013a
+                  01160168fc14073802
             code
                argcount  : 2
                nlocals   : 10
                stacksize : 6
                flags     : 3
                code
                   0x9700740100000000000000000000a6000000ab00000000000000000090
-                  01729564017d0264017d0364017d0467007d057403000000000000000000
+                  01729764017d0264017d0364017d0467007d057403000000000000000000
                   007c016a020000000000000000a6010000ab01000000000000000044005d
                   315c0200007d067d077c05a0030000000000000000000000000000000000
                   0000007408000000000000000000006a0500000000000000007c07640119
                   0000000000000000006a0600000000000000006901a6010000ab01000000
                   000000000001008c327c00a0070000000000000000000000000000000000
                   0000007410000000000000000000006a0900000000000000007415000000
                   000000000000007c05a6010000ab010000000000000000a6020000ab0200
                   00000000000000010009007c076401190000000000000000006a0b000000
                   00000000006a0c00000000000000006402190000000000000000007d0874
                   1b000000000000000000007c086403a6020000ab02000000000000000072
                   277c027c086a0e00000000000000007a0d00007d027c037c086a0f000000
                   00000000007a0d00007d037c047c086a0e00000000000000007c086a0f00
-                  000000000000007a0000007a0d00007d046e627c027c08a0100000000000
-                  00000000000000000000000000000064036401a6020000ab020000000000
-                  0000007a0d00007d027c037c08a010000000000000000000000000000000
-                  000000000064046401a6020000ab0200000000000000007a0d00007d037c
-                  047c08a010000000000000000000000000000000000000000064036401a6
-                  020000ab0200000000000000007c08a01000000000000000000000000000
-                  0000000000000064046401a6020000ab0200000000000000007a0000007a
-                  0d00007d046e12230074220000000000000000000024007205010064017d
-                  0359006e0477007803590077017424000000000000000000006a13000000
-                  00000000007c037424000000000000000000006a1400000000000000007c
-                  027424000000000000000000006a1500000000000000007c0469037d097c
-                  00a007000000000000000000000000000000000000000074100000000000
-                  00000000006a1600000000000000007415000000000000000000007c09a6
-                  010000ab010000000000000000a6020000ab020000000000000000010064
-                  00530064005300
-                93           0 RESUME                   0
+                  000000000000007a0000007a0d00007d046e647c0881627c027c08a01000
+                  0000000000000000000000000000000000000064036401a6020000ab0200
+                  000000000000007a0d00007d027c037c08a0100000000000000000000000
+                  00000000000000000064046401a6020000ab0200000000000000007a0d00
+                  007d037c047c08a010000000000000000000000000000000000000000064
+                  036401a6020000ab0200000000000000007c08a010000000000000000000
+                  000000000000000000000064046401a6020000ab0200000000000000007a
+                  0000007a0d00007d046e1223007422000000000000000000002400720501
+                  0064017d0359006e0477007803590077017424000000000000000000006a
+                  1300000000000000007c037424000000000000000000006a140000000000
+                  0000007c027424000000000000000000006a1500000000000000007c0469
+                  037d097c00a0070000000000000000000000000000000000000000741000
+                  0000000000000000006a1600000000000000007415000000000000000000
+                  007c09a6010000ab010000000000000000a6020000ab0200000000000000
+                  0001006400530064005300
+                92           0 RESUME                   0
                
-                94           2 LOAD_GLOBAL              1 (NULL + should_send_prompts)
+                93           2 LOAD_GLOBAL              1 (NULL + should_send_prompts)
                             14 PRECALL                  0
                             18 CALL                     0
                             28 EXTENDED_ARG             1
-                            30 POP_JUMP_FORWARD_IF_FALSE   405 (to 842)
+                            30 POP_JUMP_FORWARD_IF_FALSE   407 (to 846)
                
-                95          32 LOAD_CONST               1 (0)
+                94          32 LOAD_CONST               1 (0)
                             34 STORE_FAST               2 (completion_tokens)
                
-                96          36 LOAD_CONST               1 (0)
+                95          36 LOAD_CONST               1 (0)
                             38 STORE_FAST               3 (prompt_tokens)
                
-                97          40 LOAD_CONST               1 (0)
+                96          40 LOAD_CONST               1 (0)
                             42 STORE_FAST               4 (total_tokens)
                
-                98          44 BUILD_LIST               0
+                97          44 BUILD_LIST               0
                             46 STORE_FAST               5 (responses)
                
-                99          48 LOAD_GLOBAL              3 (NULL + enumerate)
+                98          48 LOAD_GLOBAL              3 (NULL + enumerate)
                             60 LOAD_FAST                1 (result)
                             62 LOAD_ATTR                2 (generations)
                             72 PRECALL                  1
                             76 CALL                     1
                             86 GET_ITER
                        >>   88 FOR_ITER                49 (to 188)
                             90 UNPACK_SEQUENCE          2
                             94 STORE_FAST               6 (idx)
                             96 STORE_FAST               7 (generation)
                
-               100          98 LOAD_FAST                5 (responses)
+                99          98 LOAD_FAST                5 (responses)
                            100 LOAD_METHOD              3 (append)
                            122 LOAD_GLOBAL              8 (LLMResponseKeys)
                            134 LOAD_ATTR                5 (CONTENT)
                            144 LOAD_FAST                7 (generation)
                            146 LOAD_CONST               1 (0)
                            148 BINARY_SUBSCR
                            158 LOAD_ATTR                6 (text)
                            168 BUILD_MAP                1
                            170 PRECALL                  1
                            174 CALL                     1
                            184 POP_TOP
                            186 JUMP_BACKWARD           50 (to 88)
                
-               102     >>  188 LOAD_FAST                0 (self)
+               101     >>  188 LOAD_FAST                0 (self)
                            190 LOAD_METHOD              7 (set_span_attribute)
                
-               103         212 LOAD_GLOBAL             16 (SpanAttributes)
+               102         212 LOAD_GLOBAL             16 (SpanAttributes)
                            224 LOAD_ATTR                9 (LLM_RESPONSES)
                
-               104         234 LOAD_GLOBAL             21 (NULL + serialise_to_json)
+               103         234 LOAD_GLOBAL             21 (NULL + serialise_to_json)
                            246 LOAD_FAST                5 (responses)
                            248 PRECALL                  1
                            252 CALL                     1
                
-               102         262 PRECALL                  2
+               101         262 PRECALL                  2
                            266 CALL                     2
                            276 POP_TOP
                
-               106         278 NOP
+               105         278 NOP
                
-               107         280 LOAD_FAST                7 (generation)
+               106         280 LOAD_FAST                7 (generation)
                            282 LOAD_CONST               1 (0)
                            284 BINARY_SUBSCR
                            294 LOAD_ATTR               11 (message)
                            304 LOAD_ATTR               12 (response_metadata)
                            314 LOAD_CONST               2 ('token_usage')
                            316 BINARY_SUBSCR
                            326 STORE_FAST               8 (token_usage)
                
-               108         328 LOAD_GLOBAL             27 (NULL + hasattr)
+               107         328 LOAD_GLOBAL             27 (NULL + hasattr)
                            340 LOAD_FAST                8 (token_usage)
                            342 LOAD_CONST               3 ('completion_tokens')
                            344 PRECALL                  2
                            348 CALL                     2
                            358 POP_JUMP_FORWARD_IF_FALSE    39 (to 438)
                
-               109         360 LOAD_FAST                2 (completion_tokens)
+               108         360 LOAD_FAST                2 (completion_tokens)
                            362 LOAD_FAST                8 (token_usage)
                            364 LOAD_ATTR               14 (completion_tokens)
                            374 BINARY_OP               13 (+=)
                            378 STORE_FAST               2 (completion_tokens)
                
-               110         380 LOAD_FAST                3 (prompt_tokens)
+               109         380 LOAD_FAST                3 (prompt_tokens)
                            382 LOAD_FAST                8 (token_usage)
                            384 LOAD_ATTR               15 (prompt_tokens)
                            394 BINARY_OP               13 (+=)
                            398 STORE_FAST               3 (prompt_tokens)
                
-               111         400 LOAD_FAST                4 (total_tokens)
+               110         400 LOAD_FAST                4 (total_tokens)
                            402 LOAD_FAST                8 (token_usage)
                            404 LOAD_ATTR               14 (completion_tokens)
                            414 LOAD_FAST                8 (token_usage)
                            416 LOAD_ATTR               15 (prompt_tokens)
                            426 BINARY_OP                0 (+)
                            430 BINARY_OP               13 (+=)
                            434 STORE_FAST               4 (total_tokens)
-                           436 JUMP_FORWARD            98 (to 634)
+                           436 JUMP_FORWARD           100 (to 638)
                
-               113     >>  438 LOAD_FAST                2 (completion_tokens)
-                           440 LOAD_FAST                8 (token_usage)
-                           442 LOAD_METHOD             16 (get)
-                           464 LOAD_CONST               3 ('completion_tokens')
-                           466 LOAD_CONST               1 (0)
-                           468 PRECALL                  2
-                           472 CALL                     2
-                           482 BINARY_OP               13 (+=)
-                           486 STORE_FAST               2 (completion_tokens)
-               
-               114         488 LOAD_FAST                3 (prompt_tokens)
-                           490 LOAD_FAST                8 (token_usage)
-                           492 LOAD_METHOD             16 (get)
-                           514 LOAD_CONST               4 ('prompt_tokens')
-                           516 LOAD_CONST               1 (0)
-                           518 PRECALL                  2
-                           522 CALL                     2
-                           532 BINARY_OP               13 (+=)
-                           536 STORE_FAST               3 (prompt_tokens)
-               
-               115         538 LOAD_FAST                4 (total_tokens)
-                           540 LOAD_FAST                8 (token_usage)
-                           542 LOAD_METHOD             16 (get)
-                           564 LOAD_CONST               3 ('completion_tokens')
-                           566 LOAD_CONST               1 (0)
-                           568 PRECALL                  2
-                           572 CALL                     2
-                           582 LOAD_FAST                8 (token_usage)
-                           584 LOAD_METHOD             16 (get)
-                           606 LOAD_CONST               4 ('prompt_tokens')
-                           608 LOAD_CONST               1 (0)
-                           610 PRECALL                  2
-                           614 CALL                     2
-                           624 BINARY_OP                0 (+)
-                           628 BINARY_OP               13 (+=)
-                           632 STORE_FAST               4 (total_tokens)
-                       >>  634 JUMP_FORWARD            18 (to 672)
-                       >>  636 PUSH_EXC_INFO
-               
-               116         638 LOAD_GLOBAL             34 (Exception)
-                           650 CHECK_EXC_MATCH
-                           652 POP_JUMP_FORWARD_IF_FALSE     5 (to 664)
-                           654 POP_TOP
-               
-               117         656 LOAD_CONST               1 (0)
-                           658 STORE_FAST               3 (prompt_tokens)
-                           660 POP_EXCEPT
-                           662 JUMP_FORWARD             4 (to 672)
-               
-               116     >>  664 RERAISE                  0
-                       >>  666 COPY                     3
-                           668 POP_EXCEPT
-                           670 RERAISE                  1
-               
-               120     >>  672 LOAD_GLOBAL             36 (LLMTokenUsageKeys)
-                           684 LOAD_ATTR               19 (PROMPT_TOKENS)
-                           694 LOAD_FAST                3 (prompt_tokens)
-               
-               121         696 LOAD_GLOBAL             36 (LLMTokenUsageKeys)
-                           708 LOAD_ATTR               20 (COMPLETION_TOKENS)
-                           718 LOAD_FAST                2 (completion_tokens)
-               
-               122         720 LOAD_GLOBAL             36 (LLMTokenUsageKeys)
-                           732 LOAD_ATTR               21 (TOTAL_TOKENS)
-                           742 LOAD_FAST                4 (total_tokens)
-               
-               119         744 BUILD_MAP                3
-                           746 STORE_FAST               9 (usage_dict)
-               
-               124         748 LOAD_FAST                0 (self)
-                           750 LOAD_METHOD              7 (set_span_attribute)
-                           772 LOAD_GLOBAL             16 (SpanAttributes)
-                           784 LOAD_ATTR               22 (LLM_TOKEN_COUNTS)
-                           794 LOAD_GLOBAL             21 (NULL + serialise_to_json)
-                           806 LOAD_FAST                9 (usage_dict)
-                           808 PRECALL                  1
-                           812 CALL                     1
-                           822 PRECALL                  2
-                           826 CALL                     2
-                           836 POP_TOP
-                           838 LOAD_CONST               0 (None)
-                           840 RETURN_VALUE
+               111     >>  438 LOAD_FAST                8 (token_usage)
+                           440 POP_JUMP_FORWARD_IF_NONE    98 (to 638)
                
-                94     >>  842 LOAD_CONST               0 (None)
+               112         442 LOAD_FAST                2 (completion_tokens)
+                           444 LOAD_FAST                8 (token_usage)
+                           446 LOAD_METHOD             16 (get)
+                           468 LOAD_CONST               3 ('completion_tokens')
+                           470 LOAD_CONST               1 (0)
+                           472 PRECALL                  2
+                           476 CALL                     2
+                           486 BINARY_OP               13 (+=)
+                           490 STORE_FAST               2 (completion_tokens)
+               
+               113         492 LOAD_FAST                3 (prompt_tokens)
+                           494 LOAD_FAST                8 (token_usage)
+                           496 LOAD_METHOD             16 (get)
+                           518 LOAD_CONST               4 ('prompt_tokens')
+                           520 LOAD_CONST               1 (0)
+                           522 PRECALL                  2
+                           526 CALL                     2
+                           536 BINARY_OP               13 (+=)
+                           540 STORE_FAST               3 (prompt_tokens)
+               
+               114         542 LOAD_FAST                4 (total_tokens)
+                           544 LOAD_FAST                8 (token_usage)
+                           546 LOAD_METHOD             16 (get)
+                           568 LOAD_CONST               3 ('completion_tokens')
+                           570 LOAD_CONST               1 (0)
+                           572 PRECALL                  2
+                           576 CALL                     2
+                           586 LOAD_FAST                8 (token_usage)
+                           588 LOAD_METHOD             16 (get)
+                           610 LOAD_CONST               4 ('prompt_tokens')
+                           612 LOAD_CONST               1 (0)
+                           614 PRECALL                  2
+                           618 CALL                     2
+                           628 BINARY_OP                0 (+)
+                           632 BINARY_OP               13 (+=)
+                           636 STORE_FAST               4 (total_tokens)
+                       >>  638 JUMP_FORWARD            18 (to 676)
+                       >>  640 PUSH_EXC_INFO
+               
+               115         642 LOAD_GLOBAL             34 (Exception)
+                           654 CHECK_EXC_MATCH
+                           656 POP_JUMP_FORWARD_IF_FALSE     5 (to 668)
+                           658 POP_TOP
+               
+               116         660 LOAD_CONST               1 (0)
+                           662 STORE_FAST               3 (prompt_tokens)
+                           664 POP_EXCEPT
+                           666 JUMP_FORWARD             4 (to 676)
+               
+               115     >>  668 RERAISE                  0
+                       >>  670 COPY                     3
+                           672 POP_EXCEPT
+                           674 RERAISE                  1
+               
+               119     >>  676 LOAD_GLOBAL             36 (LLMTokenUsageKeys)
+                           688 LOAD_ATTR               19 (PROMPT_TOKENS)
+                           698 LOAD_FAST                3 (prompt_tokens)
+               
+               120         700 LOAD_GLOBAL             36 (LLMTokenUsageKeys)
+                           712 LOAD_ATTR               20 (COMPLETION_TOKENS)
+                           722 LOAD_FAST                2 (completion_tokens)
+               
+               121         724 LOAD_GLOBAL             36 (LLMTokenUsageKeys)
+                           736 LOAD_ATTR               21 (TOTAL_TOKENS)
+                           746 LOAD_FAST                4 (total_tokens)
+               
+               118         748 BUILD_MAP                3
+                           750 STORE_FAST               9 (usage_dict)
+               
+               123         752 LOAD_FAST                0 (self)
+                           754 LOAD_METHOD              7 (set_span_attribute)
+                           776 LOAD_GLOBAL             16 (SpanAttributes)
+                           788 LOAD_ATTR               22 (LLM_TOKEN_COUNTS)
+                           798 LOAD_GLOBAL             21 (NULL + serialise_to_json)
+                           810 LOAD_FAST                9 (usage_dict)
+                           812 PRECALL                  1
+                           816 CALL                     1
+                           826 PRECALL                  2
+                           830 CALL                     2
+                           840 POP_TOP
+                           842 LOAD_CONST               0 (None)
                            844 RETURN_VALUE
+               
+                93     >>  846 LOAD_CONST               0 (None)
+                           848 RETURN_VALUE
                ExceptionTable:
-                 280 to 632 -> 636 [0]
-                 636 to 658 -> 666 [1] lasti
-                 664 to 664 -> 666 [1] lasti
+                 280 to 636 -> 640 [0]
+                 640 to 662 -> 670 [1] lasti
+                 668 to 668 -> 670 [1] lasti
                consts
                   None
                   0
                   'token_usage'
                   'completion_tokens'
                   'prompt_tokens'
                names      ('should_send_prompts', 'enumerate', 'generations', 'append', 'LLMResponseKeys', 'CONTENT', 'text', 'set_span_attribute', 'SpanAttributes', 'LLM_RESPONSES', 'serialise_to_json', 'message', 'response_metadata', 'hasattr', 'completion_tokens', 'prompt_tokens', 'get', 'Exception', 'LLMTokenUsageKeys', 'PROMPT_TOKENS', 'COMPLETION_TOKENS', 'TOTAL_TOKENS', 'LLM_TOKEN_COUNTS')
                varnames   ('self', 'result', 'completion_tokens', 'prompt_tokens', 'total_tokens', 'responses', 'idx', 'generation', 'token_usage', 'usage_dict')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py'
                name       'capture_output'
-               firstlineno 93
+               firstlineno 92
                lnotab
                   0x02011e01040104010401040132015a02180116011cfe10040201300120
-                  01140114012602320132016401120108ff08041801180118fd04055ee2
-         names      ('__name__', '__module__', '__qualname__', '__init__', 'staticmethod', 'get_model', 'get_span_kind', 'capture_input', 'capture_output', '__classcell__')
+                  011401140126010401320132016401120108ff08041801180118fd04055e
+                  e2
+         names      ('__name__', '__module__', '__qualname__', '__init__', 'staticmethod', 'get_model', 'capture_input', 'capture_output', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py'
          name       'ChatSpanCapture'
-         firstlineno 32
-         lnotab 0x0c010a03020104ff0e01020c020104ff0e0102030628
+         firstlineno 33
+         lnotab 0x0c010a03020104ff0e01020c062a
       'ChatSpanCapture'
-   names      ('__doc__', 'logging', 'agiflow.opentelemetry.convention.constants', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'LLMTypes', 'agiflow.opentelemetry.convention.llm_span_attributes', 'LLMSpanAttributesValidator', 'agiflow.utils', 'serialise_to_json', 'agiflow.opentelemetry.instrumentation.langchain.hooks.base', 'LangchainSpanCapture', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'AgiflowSpanKindValues', 'LLMPromptRoles', 'LLMPromptKeys', 'agiflow.opentelemetry.utils', 'should_send_prompts', 'ChatSpanCapture')
+   names      ('__doc__', 'logging', 'agiflow.opentelemetry.convention.constants', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'LLMTypes', 'agiflow.opentelemetry.convention.llm_span_attributes', 'LLMSpanAttributesValidator', 'agiflow.utils', 'serialise_to_json', 'agiflow.opentelemetry.instrumentation.langchain.hooks.base', 'LangchainSpanCapture', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'LLMPromptRoles', 'LLMPromptKeys', 'agiflow.opentelemetry.utils', 'should_send_prompts', 'getLogger', '__name__', 'logger', 'ChatSpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010410080114010c010c010c011c070c03
+   lnotab 0x00ff02010410080114010c010c010c0118060c022003
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/generic.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/__pycache__/generic.cpython-311.pyc`

 * *Files 1% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0x6d3a5966 (Fri May 31 02:48:13 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 1741
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/base.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langgraph/hooks/base.py`

 * *Files 14% similar despite different names*

```diff
@@ -10,27 +10,29 @@
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
-from agiflow.opentelemetry.instrumentation.constants import SERVICE_PROVIDERS
-from agiflow.opentelemetry.convention import SpanAttributes
+import importlib.metadata
+from agiflow.opentelemetry.convention import SpanAttributes, AgiflowServiceTypes
+from agiflow.opentelemetry.instrumentation.constants.common import (
+    SERVICE_PROVIDERS,
+)
 from agiflow.opentelemetry.instrumentation.utils import BaseSpanCapture
 
 
-class LangchainSpanCapture(BaseSpanCapture):
-    """
-    Base SpanCapture class for Langchain
-    """
+class LanggraphSpanCapture(BaseSpanCapture):
+
     def __init__(
         self,
         *args,
         **kwargs
     ):
         super().__init__(*args, **kwargs)
-        service_provider = SERVICE_PROVIDERS["LANGCHAIN"]
+        service_provider = SERVICE_PROVIDERS["LANGGRAPH"]
         self.set_pydantic_attributes({
             SpanAttributes.AGIFLOW_SERVICE_NAME: service_provider,
-            SpanAttributes.AGIFLOW_SERVICE_VERSION: self.version,
+            SpanAttributes.AGIFLOW_SERVICE_VERSION: importlib.metadata.version("langgraph"),
+            SpanAttributes.AGIFLOW_SERVICE_TYPE: AgiflowServiceTypes.FRAMEWORK,
         })
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/chat.py`

 * *Files 15% similar despite different names*

```diff
@@ -18,20 +18,21 @@
 from agiflow.opentelemetry.convention.constants import LLMResponseKeys, LLMTokenUsageKeys, LLMTypes
 from agiflow.opentelemetry.convention.llm_span_attributes import LLMSpanAttributesValidator
 from agiflow.utils import serialise_to_json
 from agiflow.opentelemetry.instrumentation.langchain.hooks.base import LangchainSpanCapture
 from agiflow.opentelemetry.convention import (
   SpanAttributes,
   AgiflowServiceTypes,
-  AgiflowSpanKindValues,
   LLMPromptRoles,
   LLMPromptKeys
 )
 from agiflow.opentelemetry.utils import should_send_prompts
 
+logger = logging.getLogger(__name__)
+
 
 class ChatSpanCapture(LangchainSpanCapture):
     def __init__(self, *args, **kwargs):
         super().__init__(*args, **kwargs)
 
     @staticmethod
     def get_model(instance):
@@ -42,18 +43,14 @@
         elif hasattr(instance, "model_id"):
             model = instance.model_id
         else:
             model = "unknown"
 
         return model
 
-    @staticmethod
-    def get_span_kind(instance):
-        return AgiflowSpanKindValues.CHAT
-
     def capture_input(self):
         model = ChatSpanCapture.get_model(self.instance)
         base_url = ''
 
         if hasattr(self.instance, 'base_url'):
             base_url = self.instance.base_url
 
@@ -63,20 +60,22 @@
           SpanAttributes.LLM_API: self.instance.__class__.__name__,
           SpanAttributes.LLM_MODEL: model,
           SpanAttributes.LLM_TYPE: LLMTypes.CHAT,
         }
 
         if hasattr(self.instance, "dict") and callable(self.instance.dict):
             params = self.instance.dict()
-            try:
-                span_attributes[SpanAttributes.LLM_TEMPERATURE] = params.get("options").get("temperature")
-                span_attributes[SpanAttributes.LLM_TOP_P] = params.get("options").get("top_p")
-                span_attributes[SpanAttributes.LLM_TOP_K] = params.get("options").get("top_k")
-            except Exception as e:
-                logging.error(e)
+            options = params.get('options')
+            if options is not None:
+                try:
+                    span_attributes[SpanAttributes.LLM_TEMPERATURE] = options.get("temperature")
+                    span_attributes[SpanAttributes.LLM_TOP_P] = options.get("top_p")
+                    span_attributes[SpanAttributes.LLM_TOP_K] = options.get("top_k")
+                except Exception as e:
+                    logger.error(e)
 
         prompts = []
         if should_send_prompts():
             messages = self.fargs[0] if len(self.fargs) > 0 else self.fkwargs.get("messages", [])
             prompts = []
             for idx, prompt in enumerate(messages[0]):
                 prompts.append({
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/hooks/generic.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/hooks/generic.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain/instrumentation.py`

 * *Files 9% similar despite different names*

```diff
@@ -10,53 +10,48 @@
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
-import importlib.metadata
-import logging
 from typing import Collection
 
 from opentelemetry.instrumentation.instrumentor import BaseInstrumentor
 from opentelemetry.trace import get_tracer
 from wrapt import wrap_function_wrapper
 from agiflow.opentelemetry.instrumentation.utils import (
   method_wrapper,
   async_method_wrapper,
 )
 
 from agiflow.opentelemetry.instrumentation.langchain.hooks import GenericSpanCapture, ChatSpanCapture
 from agiflow.opentelemetry.instrumentation.utils import patch_module_classes
 from agiflow.version import __version__
 
-logging.basicConfig(level=logging.FATAL)
-
 
 class LangchainInstrumentation(BaseInstrumentor):
     """
     Instrumentor for langchain.
     """
 
     def instrumentation_dependencies(self) -> Collection[str]:
         return ["langchain >= 0.1.9"]
 
     def _instrument(self, **kwargs):
         tracer_provider = kwargs.get("tracer_provider")
         tracer = get_tracer(__name__, __version__, tracer_provider)
-        version = importlib.metadata.version("langchain")
 
         modules_to_patch = [
             ("langchain.text_splitter", "split_text"),
         ]
 
         for module_name, task in modules_to_patch:
             patch_module_classes(
-                module_name, tracer, version, task, SpanCapture=GenericSpanCapture
+                module_name, tracer, task, SpanCapture=GenericSpanCapture
             )
 
         wrap_function_wrapper(
             "langchain.chat_models.base",
             "BaseChatModel.generate",
             method_wrapper(
               tracer=tracer,
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/.DS_Store` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/.DS_Store`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/__pycache__/instrumentation.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/__pycache__/instrumentation.cpython-311.pyc`

 * *Files 9% similar despite different names*

#### Python bytecode

```diff
@@ -1,266 +1,249 @@
 magic:    0xa70d0d0a
-moddate:  0x00235966 (Fri May 31 01:08:16 2024 UTC)
-files sz: 3108
+moddate:  0x4fb45b66 (Sat Jun  1 23:52:47 2024 UTC)
+files sz: 3005
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
-      0x970064005a00640164026c015a02640164036c036d045a040100640164
-      046c056d065a060100640164056c076d085a080100640164066c096d0a5a
-      0a0100640164076c0b6d0c5a0c0100640164086c0d6d0e5a0e0100020047
-      0064098400640a6506a6030000ab0300000000000000005a0f64025300
+      0x970064005a00640164026c016d025a020100640164036c036d045a0401
+      00640164046c056d065a060100640164056c076d085a080100640164066c
+      096d0a5a0a0100640164076c0b6d0c5a0c01000200470064088400640965
+      04a6030000ab0300000000000000005a0d640a5300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
-                 8 LOAD_CONST               2 (None)
-                10 IMPORT_NAME              1 (importlib.metadata)
-                12 STORE_NAME               2 (importlib)
-   
-    18          14 LOAD_CONST               1 (0)
-                16 LOAD_CONST               3 (('Collection',))
-                18 IMPORT_NAME              3 (typing)
-                20 IMPORT_FROM              4 (Collection)
-                22 STORE_NAME               4 (Collection)
-                24 POP_TOP
-   
-    20          26 LOAD_CONST               1 (0)
-                28 LOAD_CONST               4 (('BaseInstrumentor',))
-                30 IMPORT_NAME              5 (opentelemetry.instrumentation.instrumentor)
-                32 IMPORT_FROM              6 (BaseInstrumentor)
-                34 STORE_NAME               6 (BaseInstrumentor)
-                36 POP_TOP
-   
-    21          38 LOAD_CONST               1 (0)
-                40 LOAD_CONST               5 (('get_tracer',))
-                42 IMPORT_NAME              7 (opentelemetry.trace)
-                44 IMPORT_FROM              8 (get_tracer)
-                46 STORE_NAME               8 (get_tracer)
-                48 POP_TOP
-   
-    23          50 LOAD_CONST               1 (0)
-                52 LOAD_CONST               6 (('GenericSpanCapture',))
-                54 IMPORT_NAME              9 (agiflow.opentelemetry.instrumentation.langchain_community.hooks)
-                56 IMPORT_FROM             10 (GenericSpanCapture)
-                58 STORE_NAME              10 (GenericSpanCapture)
-                60 POP_TOP
-   
-    26          62 LOAD_CONST               1 (0)
-                64 LOAD_CONST               7 (('patch_module_classes',))
-                66 IMPORT_NAME             11 (agiflow.opentelemetry.instrumentation.utils)
-                68 IMPORT_FROM             12 (patch_module_classes)
-                70 STORE_NAME              12 (patch_module_classes)
-                72 POP_TOP
-   
-    27          74 LOAD_CONST               1 (0)
-                76 LOAD_CONST               8 (('__version__',))
-                78 IMPORT_NAME             13 (agiflow.version)
-                80 IMPORT_FROM             14 (__version__)
-                82 STORE_NAME              14 (__version__)
-                84 POP_TOP
-   
-    30          86 PUSH_NULL
-                88 LOAD_BUILD_CLASS
-                90 LOAD_CONST               9 (<code object LangchainCommunityInstrumentation, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py", line 30>)
-                92 MAKE_FUNCTION            0
-                94 LOAD_CONST              10 ('LangchainCommunityInstrumentation')
-                96 LOAD_NAME                6 (BaseInstrumentor)
-                98 PRECALL                  3
-               102 CALL                     3
-               112 STORE_NAME              15 (LangchainCommunityInstrumentation)
-               114 LOAD_CONST               2 (None)
-               116 RETURN_VALUE
+                 8 LOAD_CONST               2 (('Collection',))
+                10 IMPORT_NAME              1 (typing)
+                12 IMPORT_FROM              2 (Collection)
+                14 STORE_NAME               2 (Collection)
+                16 POP_TOP
+   
+    19          18 LOAD_CONST               1 (0)
+                20 LOAD_CONST               3 (('BaseInstrumentor',))
+                22 IMPORT_NAME              3 (opentelemetry.instrumentation.instrumentor)
+                24 IMPORT_FROM              4 (BaseInstrumentor)
+                26 STORE_NAME               4 (BaseInstrumentor)
+                28 POP_TOP
+   
+    20          30 LOAD_CONST               1 (0)
+                32 LOAD_CONST               4 (('get_tracer',))
+                34 IMPORT_NAME              5 (opentelemetry.trace)
+                36 IMPORT_FROM              6 (get_tracer)
+                38 STORE_NAME               6 (get_tracer)
+                40 POP_TOP
+   
+    22          42 LOAD_CONST               1 (0)
+                44 LOAD_CONST               5 (('GenericSpanCapture',))
+                46 IMPORT_NAME              7 (agiflow.opentelemetry.instrumentation.langchain_community.hooks)
+                48 IMPORT_FROM              8 (GenericSpanCapture)
+                50 STORE_NAME               8 (GenericSpanCapture)
+                52 POP_TOP
+   
+    25          54 LOAD_CONST               1 (0)
+                56 LOAD_CONST               6 (('patch_module_classes',))
+                58 IMPORT_NAME              9 (agiflow.opentelemetry.instrumentation.utils)
+                60 IMPORT_FROM             10 (patch_module_classes)
+                62 STORE_NAME              10 (patch_module_classes)
+                64 POP_TOP
+   
+    26          66 LOAD_CONST               1 (0)
+                68 LOAD_CONST               7 (('__version__',))
+                70 IMPORT_NAME             11 (agiflow.version)
+                72 IMPORT_FROM             12 (__version__)
+                74 STORE_NAME              12 (__version__)
+                76 POP_TOP
+   
+    29          78 PUSH_NULL
+                80 LOAD_BUILD_CLASS
+                82 LOAD_CONST               8 (<code object LangchainCommunityInstrumentation, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py", line 29>)
+                84 MAKE_FUNCTION            0
+                86 LOAD_CONST               9 ('LangchainCommunityInstrumentation')
+                88 LOAD_NAME                4 (BaseInstrumentor)
+                90 PRECALL                  3
+                94 CALL                     3
+               104 STORE_NAME              13 (LangchainCommunityInstrumentation)
+               106 LOAD_CONST              10 (None)
+               108 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
-      None
       ('Collection',)
       ('BaseInstrumentor',)
       ('get_tracer',)
       ('GenericSpanCapture',)
       ('patch_module_classes',)
       ('__version__',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 3
          flags     : 0
          code
             0x970065005a0164005a0264015a03640265046505190000000000000000
             006602640384045a06640484005a07640584005a0864065300
-          30           0 RESUME                   0
+          29           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('LangchainCommunityInstrumentation')
                        8 STORE_NAME               2 (__qualname__)
          
-          31          10 LOAD_CONST               1 ('\n    Instrumentor for langchain-community.\n    ')
+          30          10 LOAD_CONST               1 ('\n    Instrumentor for langchain-community.\n    ')
                       12 STORE_NAME               3 (__doc__)
          
-          35          14 LOAD_CONST               2 ('return')
+          34          14 LOAD_CONST               2 ('return')
                       16 LOAD_NAME                4 (Collection)
                       18 LOAD_NAME                5 (str)
                       20 BINARY_SUBSCR
                       30 BUILD_TUPLE              2
-                      32 LOAD_CONST               3 (<code object instrumentation_dependencies, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py", line 35>)
+                      32 LOAD_CONST               3 (<code object instrumentation_dependencies, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py", line 34>)
                       34 MAKE_FUNCTION            4 (annotations)
                       36 STORE_NAME               6 (instrumentation_dependencies)
          
-          38          38 LOAD_CONST               4 (<code object _instrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py", line 38>)
+          37          38 LOAD_CONST               4 (<code object _instrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py", line 37>)
                       40 MAKE_FUNCTION            0
                       42 STORE_NAME               7 (_instrument)
          
-          84          44 LOAD_CONST               5 (<code object _uninstrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py", line 84>)
+          82          44 LOAD_CONST               5 (<code object _uninstrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py", line 82>)
                       46 MAKE_FUNCTION            0
                       48 STORE_NAME               8 (_uninstrument)
                       50 LOAD_CONST               6 (None)
                       52 RETURN_VALUE
          consts
             'LangchainCommunityInstrumentation'
             '\n    Instrumentor for langchain-community.\n    '
             'return'
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x9700640167015300
-                35           0 RESUME                   0
+                34           0 RESUME                   0
                
-                36           2 LOAD_CONST               1 ('langchain-community >= 0.0.24')
+                35           2 LOAD_CONST               1 ('langchain-community >= 0.0.24')
                              4 BUILD_LIST               1
                              6 RETURN_VALUE
                consts
                   None
                   'langchain-community >= 0.0.24'
                names      ()
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py'
                name       'instrumentation_dependencies'
-               firstlineno 35
+               firstlineno 34
                lnotab 0x0201
             code
                argcount  : 1
-               nlocals   : 8
-               stacksize : 8
+               nlocals   : 7
+               stacksize : 7
                flags     : 11
                code
                   0x97007c01a00000000000000000000000000000000000000000006401a6
                   010000ab0100000000000000007d02740300000000000000000000740400
                   0000000000000000007406000000000000000000007c02a6030000ab0300
-                  000000000000007d037408000000000000000000006a0500000000000000
-                  00a00600000000000000000000000000000000000000006402a6010000ab
-                  0100000000000000007d0467006403a2017d057c0544005d1e5c0200007d
-                  067d07740f000000000000000000007c067c037c047c0774100000000000
-                  0000000000ac04a6050000ab05000000000000000001008c1f64005300
-                38           0 RESUME                   0
+                  000000000000007d0367006402a2017d047c0444005d1d5c0200007d057d
+                  067409000000000000000000007c057c037c06740a000000000000000000
+                  00ac03a6040000ab04000000000000000001008c1e64005300
+                37           0 RESUME                   0
                
-                39           2 LOAD_FAST                1 (kwargs)
+                38           2 LOAD_FAST                1 (kwargs)
                              4 LOAD_METHOD              0 (get)
                             26 LOAD_CONST               1 ('tracer_provider')
                             28 PRECALL                  1
                             32 CALL                     1
                             42 STORE_FAST               2 (tracer_provider)
                
-                40          44 LOAD_GLOBAL              3 (NULL + get_tracer)
+                39          44 LOAD_GLOBAL              3 (NULL + get_tracer)
                             56 LOAD_GLOBAL              4 (__name__)
                             68 LOAD_GLOBAL              6 (__version__)
                             80 LOAD_FAST                2 (tracer_provider)
                             82 PRECALL                  3
                             86 CALL                     3
                             96 STORE_FAST               3 (tracer)
                
-                41          98 LOAD_GLOBAL              8 (importlib)
-                           110 LOAD_ATTR                5 (metadata)
-                           120 LOAD_METHOD              6 (version)
-                           142 LOAD_CONST               2 ('langchain-community')
-                           144 PRECALL                  1
-                           148 CALL                     1
-                           158 STORE_FAST               4 (version)
-               
-                44         160 BUILD_LIST               0
-                           162 LOAD_CONST               3 ((('langchain_community.document_loaders.pdf', 'load_pdf'), ('langchain_community.vectorstores.faiss', 'vector_store'), ('langchain_community.vectorstores.pgvector', 'vector_store'), ('langchain_community.vectorstores.pinecone', 'vector_store'), ('langchain_community.vectorstores.mongodb_atlas', 'vector_store'), ('langchain_community.vectorstores.azuresearch', 'vector_store'), ('langchain_community.vectorstores.azure_cosmos_db', 'vector_store'), ('langchain_community.vectorstores.cassandra', 'vector_store'), ('langchain_community.vectorstores.chroma', 'vector_store'), ('langchain_community.vectorstores.clickhouse', 'vector_store'), ('langchain_community.vectorstores.elasticsearch', 'vector_store'), ('langchain_community.vectorstores.supabase', 'vector_store'), ('langchain_community.vectorstores.weaviate', 'vector_store'), ('langchain_community.vectorstores.vectara', 'vector_store')))
-                           164 LIST_EXTEND              1
-                           166 STORE_FAST               5 (modules_to_patch)
-               
-                79         168 LOAD_FAST                5 (modules_to_patch)
-                           170 GET_ITER
-                       >>  172 FOR_ITER                30 (to 234)
-                           174 UNPACK_SEQUENCE          2
-                           178 STORE_FAST               6 (module_name)
-                           180 STORE_FAST               7 (task)
-               
-                80         182 LOAD_GLOBAL             15 (NULL + patch_module_classes)
+                42          98 BUILD_LIST               0
+                           100 LOAD_CONST               2 ((('langchain_community.document_loaders.pdf', 'load_pdf'), ('langchain_community.vectorstores.faiss', 'vector_store'), ('langchain_community.vectorstores.pgvector', 'vector_store'), ('langchain_community.vectorstores.pinecone', 'vector_store'), ('langchain_community.vectorstores.mongodb_atlas', 'vector_store'), ('langchain_community.vectorstores.azuresearch', 'vector_store'), ('langchain_community.vectorstores.azure_cosmos_db', 'vector_store'), ('langchain_community.vectorstores.cassandra', 'vector_store'), ('langchain_community.vectorstores.chroma', 'vector_store'), ('langchain_community.vectorstores.clickhouse', 'vector_store'), ('langchain_community.vectorstores.elasticsearch', 'vector_store'), ('langchain_community.vectorstores.supabase', 'vector_store'), ('langchain_community.vectorstores.weaviate', 'vector_store'), ('langchain_community.vectorstores.vectara', 'vector_store')))
+                           102 LIST_EXTEND              1
+                           104 STORE_FAST               4 (modules_to_patch)
+               
+                77         106 LOAD_FAST                4 (modules_to_patch)
+                           108 GET_ITER
+                       >>  110 FOR_ITER                29 (to 170)
+                           112 UNPACK_SEQUENCE          2
+                           116 STORE_FAST               5 (module_name)
+                           118 STORE_FAST               6 (task)
+               
+                78         120 LOAD_GLOBAL              9 (NULL + patch_module_classes)
+               
+                79         132 LOAD_FAST                5 (module_name)
+                           134 LOAD_FAST                3 (tracer)
+                           136 LOAD_FAST                6 (task)
+                           138 LOAD_GLOBAL             10 (GenericSpanCapture)
+               
+                78         150 KW_NAMES                 3
+                           152 PRECALL                  4
+                           156 CALL                     4
+                           166 POP_TOP
+                           168 JUMP_BACKWARD           30 (to 110)
                
-                81         194 LOAD_FAST                6 (module_name)
-                           196 LOAD_FAST                3 (tracer)
-                           198 LOAD_FAST                4 (version)
-                           200 LOAD_FAST                7 (task)
-                           202 LOAD_GLOBAL             16 (GenericSpanCapture)
-               
-                80         214 KW_NAMES                 4
-                           216 PRECALL                  5
-                           220 CALL                     5
-                           230 POP_TOP
-                           232 JUMP_BACKWARD           31 (to 172)
-               
-                79     >>  234 LOAD_CONST               0 (None)
-                           236 RETURN_VALUE
+                77     >>  170 LOAD_CONST               0 (None)
+                           172 RETURN_VALUE
                consts
                   None
                   'tracer_provider'
-                  'langchain-community'
                   (('langchain_community.document_loaders.pdf', 'load_pdf'), ('langchain_community.vectorstores.faiss', 'vector_store'), ('langchain_community.vectorstores.pgvector', 'vector_store'), ('langchain_community.vectorstores.pinecone', 'vector_store'), ('langchain_community.vectorstores.mongodb_atlas', 'vector_store'), ('langchain_community.vectorstores.azuresearch', 'vector_store'), ('langchain_community.vectorstores.azure_cosmos_db', 'vector_store'), ('langchain_community.vectorstores.cassandra', 'vector_store'), ('langchain_community.vectorstores.chroma', 'vector_store'), ('langchain_community.vectorstores.clickhouse', 'vector_store'), ('langchain_community.vectorstores.elasticsearch', 'vector_store'), ('langchain_community.vectorstores.supabase', 'vector_store'), ('langchain_community.vectorstores.weaviate', 'vector_store'), ('langchain_community.vectorstores.vectara', 'vector_store'))
                   ('SpanCapture',)
-               names      ('get', 'get_tracer', '__name__', '__version__', 'importlib', 'metadata', 'version', 'patch_module_classes', 'GenericSpanCapture')
-               varnames   ('self', 'kwargs', 'tracer_provider', 'tracer', 'version', 'modules_to_patch', 'module_name', 'task')
+               names      ('get', 'get_tracer', '__name__', '__version__', 'patch_module_classes', 'GenericSpanCapture')
+               varnames   ('self', 'kwargs', 'tracer_provider', 'tracer', 'modules_to_patch', 'module_name', 'task')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py'
                name       '_instrument'
-               firstlineno 38
-               lnotab 0x02012a0136013e0308230e010c0114ff14ff
+               firstlineno 37
+               lnotab 0x02012a01360308230e010c0112ff14ff
             code
                argcount  : 1
                nlocals   : 2
                stacksize : 1
                flags     : 11
                code 0x970064005300
-                84           0 RESUME                   0
+                82           0 RESUME                   0
                
-                85           2 LOAD_CONST               0 (None)
+                83           2 LOAD_CONST               0 (None)
                              4 RETURN_VALUE
                consts
                   None
                names      ()
                varnames   ('self', 'kwargs')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py'
                name       '_uninstrument'
-               firstlineno 84
+               firstlineno 82
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', '__doc__', 'Collection', 'str', 'instrumentation_dependencies', '_instrument', '_uninstrument')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py'
          name       'LangchainCommunityInstrumentation'
-         firstlineno 30
-         lnotab 0x0a0104041803062e
+         firstlineno 29
+         lnotab 0x0a0104041803062d
       'LangchainCommunityInstrumentation'
-   names      ('__doc__', 'importlib.metadata', 'importlib', 'typing', 'Collection', 'opentelemetry.instrumentation.instrumentor', 'BaseInstrumentor', 'opentelemetry.trace', 'get_tracer', 'agiflow.opentelemetry.instrumentation.langchain_community.hooks', 'GenericSpanCapture', 'agiflow.opentelemetry.instrumentation.utils', 'patch_module_classes', 'agiflow.version', '__version__', 'LangchainCommunityInstrumentation')
+      None
+   names      ('__doc__', 'typing', 'Collection', 'opentelemetry.instrumentation.instrumentor', 'BaseInstrumentor', 'opentelemetry.trace', 'get_tracer', 'agiflow.opentelemetry.instrumentation.langchain_community.hooks', 'GenericSpanCapture', 'agiflow.opentelemetry.instrumentation.utils', 'patch_module_classes', 'agiflow.version', '__version__', 'LangchainCommunityInstrumentation')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff0201041008010c020c010c020c030c010c03
+   lnotab 0x00ff020104100c020c010c020c030c010c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/__pycache__/patch.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/__pycache__/patch.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/.DS_Store` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/.DS_Store`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/base.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/__pycache__/base.cpython-311.pyc`

 * *Files 17% similar despite different names*

#### Python bytecode

```diff
@@ -1,110 +1,113 @@
 magic:    0xa70d0d0a
-moddate:  0x2a225966 (Fri May 31 01:04:42 2024 UTC)
-files sz: 1307
+moddate:  0x7ad95a66 (Sat Jun  1 08:19:06 2024 UTC)
+files sz: 1328
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
-      0x970064005a00640164026c015a02640164036c036d045a040100640164
-      046c056d065a060100640164056c076d085a080100020047006406840064
-      076508a6030000ab0300000000000000005a0964025300
+      0x970064005a00640164026c015a02640164036c036d045a046d055a0501
+      00640164046c066d075a070100640164056c086d095a0901000200470064
+      06840064076509a6030000ab0300000000000000005a0a64025300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
                  8 LOAD_CONST               2 (None)
                 10 IMPORT_NAME              1 (importlib.metadata)
                 12 STORE_NAME               2 (importlib)
    
-    19          14 LOAD_CONST               1 (0)
-                16 LOAD_CONST               3 (('SpanAttributes',))
+    18          14 LOAD_CONST               1 (0)
+                16 LOAD_CONST               3 (('SpanAttributes', 'AgiflowServiceTypes'))
                 18 IMPORT_NAME              3 (agiflow.opentelemetry.convention)
                 20 IMPORT_FROM              4 (SpanAttributes)
                 22 STORE_NAME               4 (SpanAttributes)
-                24 POP_TOP
-   
-    20          26 LOAD_CONST               1 (0)
-                28 LOAD_CONST               4 (('SERVICE_PROVIDERS',))
-                30 IMPORT_NAME              5 (agiflow.opentelemetry.instrumentation.constants.common)
-                32 IMPORT_FROM              6 (SERVICE_PROVIDERS)
-                34 STORE_NAME               6 (SERVICE_PROVIDERS)
-                36 POP_TOP
-   
-    23          38 LOAD_CONST               1 (0)
-                40 LOAD_CONST               5 (('BaseSpanCapture',))
-                42 IMPORT_NAME              7 (agiflow.opentelemetry.instrumentation.utils)
-                44 IMPORT_FROM              8 (BaseSpanCapture)
-                46 STORE_NAME               8 (BaseSpanCapture)
-                48 POP_TOP
-   
-    26          50 PUSH_NULL
-                52 LOAD_BUILD_CLASS
-                54 LOAD_CONST               6 (<code object LangchainCommunitySpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py", line 26>)
-                56 MAKE_FUNCTION            0
-                58 LOAD_CONST               7 ('LangchainCommunitySpanCapture')
-                60 LOAD_NAME                8 (BaseSpanCapture)
-                62 PRECALL                  3
-                66 CALL                     3
-                76 STORE_NAME               9 (LangchainCommunitySpanCapture)
-                78 LOAD_CONST               2 (None)
-                80 RETURN_VALUE
+                24 IMPORT_FROM              5 (AgiflowServiceTypes)
+                26 STORE_NAME               5 (AgiflowServiceTypes)
+                28 POP_TOP
+   
+    19          30 LOAD_CONST               1 (0)
+                32 LOAD_CONST               4 (('SERVICE_PROVIDERS',))
+                34 IMPORT_NAME              6 (agiflow.opentelemetry.instrumentation.constants.common)
+                36 IMPORT_FROM              7 (SERVICE_PROVIDERS)
+                38 STORE_NAME               7 (SERVICE_PROVIDERS)
+                40 POP_TOP
+   
+    22          42 LOAD_CONST               1 (0)
+                44 LOAD_CONST               5 (('BaseSpanCapture',))
+                46 IMPORT_NAME              8 (agiflow.opentelemetry.instrumentation.utils)
+                48 IMPORT_FROM              9 (BaseSpanCapture)
+                50 STORE_NAME               9 (BaseSpanCapture)
+                52 POP_TOP
+   
+    25          54 PUSH_NULL
+                56 LOAD_BUILD_CLASS
+                58 LOAD_CONST               6 (<code object CohereSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/cohere/hooks/base.py", line 25>)
+                60 MAKE_FUNCTION            0
+                62 LOAD_CONST               7 ('CohereSpanCapture')
+                64 LOAD_NAME                9 (BaseSpanCapture)
+                66 PRECALL                  3
+                70 CALL                     3
+                80 STORE_NAME              10 (CohereSpanCapture)
+                82 LOAD_CONST               2 (None)
+                84 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
       None
-      ('SpanAttributes',)
+      ('SpanAttributes', 'AgiflowServiceTypes')
       ('SERVICE_PROVIDERS',)
       ('BaseSpanCapture',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 2
          flags     : 0
          code
             0x8700970065005a0164005a0288006601640184085a03880078015a0453
             00
                        0 MAKE_CELL                0 (__class__)
          
-          26           2 RESUME                   0
+          25           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
-                       8 LOAD_CONST               0 ('LangchainCommunitySpanCapture')
+                       8 LOAD_CONST               0 ('CohereSpanCapture')
                       10 STORE_NAME               2 (__qualname__)
          
           27          12 LOAD_CLOSURE             0 (__class__)
                       14 BUILD_TUPLE              1
-                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py", line 27>)
+                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/cohere/hooks/base.py", line 27>)
                       18 MAKE_FUNCTION            8 (closure)
                       20 STORE_NAME               3 (__init__)
                       22 LOAD_CLOSURE             0 (__class__)
                       24 COPY                     1
                       26 STORE_NAME               4 (__classcell__)
                       28 RETURN_VALUE
          consts
-            'LangchainCommunitySpanCapture'
+            'CohereSpanCapture'
             code
                argcount  : 1
                nlocals   : 4
-               stacksize : 6
+               stacksize : 8
                flags     : 15
                code
                   0x950197000200740100000000000000000000a6000000ab000000000000
                   0000006a0100000000000000007c0169007c02a4018e0101007404000000
-                  000000000000006a030000000000000000a0040000000000000000000000
-                  0000000000000000006401a6010000ab0100000000000000007c005f0400
-                  00000000000000740a000000000000000000006402190000000000000000
-                  007d037c00a0060000000000000000000000000000000000000000740e00
-                  0000000000000000006a0800000000000000007c03740e00000000000000
-                  0000006a0900000000000000007c006a0400000000000000006902a60100
-                  00ab010000000000000000010064005300
+                  000000000000006401190000000000000000007d037c00a0030000000000
+                  0000000000000000000000000000007408000000000000000000006a0500
+                  000000000000007c037408000000000000000000006a0600000000000000
+                  00740e000000000000000000006a080000000000000000a0090000000000
+                  0000000000000000000000000000006402a6010000ab0100000000000000
+                  007408000000000000000000006a0a000000000000000074160000000000
+                  00000000006a0c00000000000000006903a6010000ab0100000000000000
+                  00010064005300
                              0 COPY_FREE_VARS           1
                
                 27           2 RESUME                   0
                
                 32           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
@@ -113,68 +116,68 @@
                             42 LOAD_FAST                1 (args)
                             44 BUILD_MAP                0
                             46 LOAD_FAST                2 (kwargs)
                             48 DICT_MERGE               1
                             50 CALL_FUNCTION_EX         1
                             52 POP_TOP
                
-                33          54 LOAD_GLOBAL              4 (importlib)
-                            66 LOAD_ATTR                3 (metadata)
-                            76 LOAD_METHOD              4 (version)
-                            98 LOAD_CONST               1 ('langchain-community')
-                           100 PRECALL                  1
-                           104 CALL                     1
-                           114 LOAD_FAST                0 (self)
-                           116 STORE_ATTR               4 (version)
-               
-                34         126 LOAD_GLOBAL             10 (SERVICE_PROVIDERS)
-                           138 LOAD_CONST               2 ('LANGCHAIN_COMMUNITY')
-                           140 BINARY_SUBSCR
-                           150 STORE_FAST               3 (service_provider)
-               
-                35         152 LOAD_FAST                0 (self)
-                           154 LOAD_METHOD              6 (set_pydantic_attributes)
-               
-                36         176 LOAD_GLOBAL             14 (SpanAttributes)
-                           188 LOAD_ATTR                8 (AGIFLOW_SERVICE_NAME)
-                           198 LOAD_FAST                3 (service_provider)
-               
-                37         200 LOAD_GLOBAL             14 (SpanAttributes)
-                           212 LOAD_ATTR                9 (AGIFLOW_SERVICE_VERSION)
-                           222 LOAD_FAST                0 (self)
-                           224 LOAD_ATTR                4 (version)
-               
-                35         234 BUILD_MAP                2
-                           236 PRECALL                  1
-                           240 CALL                     1
-                           250 POP_TOP
-                           252 LOAD_CONST               0 (None)
-                           254 RETURN_VALUE
+                33          54 LOAD_GLOBAL              4 (SERVICE_PROVIDERS)
+                            66 LOAD_CONST               1 ('COHERE')
+                            68 BINARY_SUBSCR
+                            78 STORE_FAST               3 (service_provider)
+               
+                34          80 LOAD_FAST                0 (self)
+                            82 LOAD_METHOD              3 (set_pydantic_attributes)
+               
+                35         104 LOAD_GLOBAL              8 (SpanAttributes)
+                           116 LOAD_ATTR                5 (AGIFLOW_SERVICE_NAME)
+                           126 LOAD_FAST                3 (service_provider)
+               
+                36         128 LOAD_GLOBAL              8 (SpanAttributes)
+                           140 LOAD_ATTR                6 (AGIFLOW_SERVICE_VERSION)
+                           150 LOAD_GLOBAL             14 (importlib)
+                           162 LOAD_ATTR                8 (metadata)
+                           172 LOAD_METHOD              9 (version)
+                           194 LOAD_CONST               2 ('cohere')
+                           196 PRECALL                  1
+                           200 CALL                     1
+               
+                37         210 LOAD_GLOBAL              8 (SpanAttributes)
+                           222 LOAD_ATTR               10 (AGIFLOW_SERVICE_TYPE)
+                           232 LOAD_GLOBAL             22 (AgiflowServiceTypes)
+                           244 LOAD_ATTR               12 (LLM)
+               
+                34         254 BUILD_MAP                3
+                           256 PRECALL                  1
+                           260 CALL                     1
+                           270 POP_TOP
+                           272 LOAD_CONST               0 (None)
+                           274 RETURN_VALUE
                consts
                   None
-                  'langchain-community'
-                  'LANGCHAIN_COMMUNITY'
-               names      ('super', '__init__', 'importlib', 'metadata', 'version', 'SERVICE_PROVIDERS', 'set_pydantic_attributes', 'SpanAttributes', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_VERSION')
+                  'COHERE'
+                  'cohere'
+               names      ('super', '__init__', 'SERVICE_PROVIDERS', 'set_pydantic_attributes', 'SpanAttributes', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_VERSION', 'importlib', 'metadata', 'version', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'LLM')
                varnames   ('self', 'args', 'kwargs', 'service_provider')
                freevars   ('__class__',)
                cellvars   ()
-               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py'
+               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/cohere/hooks/base.py'
                name       '__init__'
                firstlineno 27
-               lnotab 0x0405320148011a011801180122fe
+               lnotab 0x040532011a011801180152012cfd
          names      ('__name__', '__module__', '__qualname__', '__init__', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
-         filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py'
-         name       'LangchainCommunitySpanCapture'
-         firstlineno 26
-         lnotab 0x0c01
-      'LangchainCommunitySpanCapture'
-   names      ('__doc__', 'importlib.metadata', 'importlib', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'agiflow.opentelemetry.instrumentation.constants.common', 'SERVICE_PROVIDERS', 'agiflow.opentelemetry.instrumentation.utils', 'BaseSpanCapture', 'LangchainCommunitySpanCapture')
+         filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/cohere/hooks/base.py'
+         name       'CohereSpanCapture'
+         firstlineno 25
+         lnotab 0x0c02
+      'CohereSpanCapture'
+   names      ('__doc__', 'importlib.metadata', 'importlib', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'agiflow.opentelemetry.instrumentation.constants.common', 'SERVICE_PROVIDERS', 'agiflow.opentelemetry.instrumentation.utils', 'BaseSpanCapture', 'CohereSpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
-   filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py'
+   filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/cohere/hooks/base.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff0201041008020c010c030c03
+   lnotab 0x00ff02010410080110010c030c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/chat.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/chat.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/generic.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/generic.cpython-311.pyc`

 * *Files 2% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0x74225966 (Fri May 31 01:05:56 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 1769
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/llm.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/llm.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py`

 * *Files 8% similar despite different names*

```diff
@@ -13,14 +13,15 @@
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
 import importlib.metadata
 
 from agiflow.opentelemetry.convention import SpanAttributes
+from agiflow.opentelemetry.convention.constants import AgiflowServiceTypes
 from agiflow.opentelemetry.instrumentation.constants.common import (
     SERVICE_PROVIDERS,
 )
 from agiflow.opentelemetry.instrumentation.utils import BaseSpanCapture
 
 
 class LangchainCommunitySpanCapture(BaseSpanCapture):
@@ -30,9 +31,10 @@
         **kwargs
     ):
         super().__init__(*args, **kwargs)
         self.version = importlib.metadata.version("langchain-community")
         service_provider = SERVICE_PROVIDERS["LANGCHAIN_COMMUNITY"]
         self.set_pydantic_attributes({
             SpanAttributes.AGIFLOW_SERVICE_NAME: service_provider,
-            SpanAttributes.AGIFLOW_SERVICE_VERSION: self.version,
+            SpanAttributes.AGIFLOW_SERVICE_VERSION: importlib.metadata.version("langchain-community"),
+            SpanAttributes.AGIFLOW_SERVICE_TYPE: AgiflowServiceTypes.FRAMEWORK,
         })
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/hooks/generic.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/generic.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/instrumentation.py`

 * *Files 3% similar despite different names*

```diff
@@ -10,15 +10,14 @@
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
-import importlib.metadata
 from typing import Collection
 
 from opentelemetry.instrumentation.instrumentor import BaseInstrumentor
 from opentelemetry.trace import get_tracer
 
 from agiflow.opentelemetry.instrumentation.langchain_community.hooks import (
   GenericSpanCapture,
@@ -34,15 +33,14 @@
 
     def instrumentation_dependencies(self) -> Collection[str]:
         return ["langchain-community >= 0.0.24"]
 
     def _instrument(self, **kwargs):
         tracer_provider = kwargs.get("tracer_provider")
         tracer = get_tracer(__name__, __version__, tracer_provider)
-        version = importlib.metadata.version("langchain-community")
 
         # List of modules to patch, with their corresponding patch names
         modules_to_patch = [
             ("langchain_community.document_loaders.pdf", "load_pdf"),
             ("langchain_community.vectorstores.faiss", "vector_store"),
             ("langchain_community.vectorstores.pgvector", "vector_store"),
             ("langchain_community.vectorstores.pinecone", "vector_store"),
@@ -74,12 +72,12 @@
             ("langchain_community.vectorstores.supabase", "vector_store"),
             ("langchain_community.vectorstores.weaviate", "vector_store"),
             ("langchain_community.vectorstores.vectara", "vector_store"),
         ]
 
         for module_name, task in modules_to_patch:
             patch_module_classes(
-                module_name, tracer, version, task, SpanCapture=GenericSpanCapture
+                module_name, tracer, task, SpanCapture=GenericSpanCapture
             )
 
     def _uninstrument(self, **kwargs):
         pass
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/.DS_Store` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/.DS_Store`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/__pycache__/instrumentation.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/__pycache__/instrumentation.cpython-311.pyc`

 * *Files 10% similar despite different names*

#### Python bytecode

```diff
@@ -1,109 +1,102 @@
 magic:    0xa70d0d0a
-moddate:  0x34235966 (Fri May 31 01:09:08 2024 UTC)
-files sz: 3460
+moddate:  0x71b45b66 (Sat Jun  1 23:53:21 2024 UTC)
+files sz: 3346
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
-      0x970064005a00640164026c015a02640164036c036d045a040100640164
-      046c056d065a060100640164056c076d085a080100640164066c096d0a5a
-      0a0100640164076c0b6d0c5a0c6d0d5a0d0100640164086c0e6d0f5a0f6d
-      105a106d115a110100640164096c0b6d125a1201006401640a6c136d145a
-      14010002004700640b8400640c6508a6030000ab0300000000000000005a
-      1564025300
+      0x970064005a00640164026c016d025a020100640164036c036d045a0401
+      00640164046c056d065a060100640164056c076d085a080100640164066c
+      096d0a5a0a6d0b5a0b0100640164076c0c6d0d5a0d6d0e5a0e6d0f5a0f01
+      00640164086c096d105a100100640164096c116d125a1201000200470064
+      0a8400640b6506a6030000ab0300000000000000005a13640c5300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
-                 8 LOAD_CONST               2 (None)
-                10 IMPORT_NAME              1 (importlib.metadata)
-                12 STORE_NAME               2 (importlib)
-   
-    18          14 LOAD_CONST               1 (0)
-                16 LOAD_CONST               3 (('Collection',))
-                18 IMPORT_NAME              3 (typing)
-                20 IMPORT_FROM              4 (Collection)
-                22 STORE_NAME               4 (Collection)
-                24 POP_TOP
-   
-    19          26 LOAD_CONST               1 (0)
-                28 LOAD_CONST               4 (('wrap_function_wrapper',))
-                30 IMPORT_NAME              5 (wrapt)
-                32 IMPORT_FROM              6 (wrap_function_wrapper)
-                34 STORE_NAME               6 (wrap_function_wrapper)
-                36 POP_TOP
-   
-    21          38 LOAD_CONST               1 (0)
-                40 LOAD_CONST               5 (('BaseInstrumentor',))
-                42 IMPORT_NAME              7 (opentelemetry.instrumentation.instrumentor)
-                44 IMPORT_FROM              8 (BaseInstrumentor)
-                46 STORE_NAME               8 (BaseInstrumentor)
-                48 POP_TOP
-   
-    22          50 LOAD_CONST               1 (0)
-                52 LOAD_CONST               6 (('get_tracer',))
-                54 IMPORT_NAME              9 (opentelemetry.trace)
-                56 IMPORT_FROM             10 (get_tracer)
-                58 STORE_NAME              10 (get_tracer)
-                60 POP_TOP
-   
-    23          62 LOAD_CONST               1 (0)
-                64 LOAD_CONST               7 (('method_wrapper', 'async_method_wrapper'))
-                66 IMPORT_NAME             11 (agiflow.opentelemetry.instrumentation.utils)
-                68 IMPORT_FROM             12 (method_wrapper)
-                70 STORE_NAME              12 (method_wrapper)
-                72 IMPORT_FROM             13 (async_method_wrapper)
-                74 STORE_NAME              13 (async_method_wrapper)
-                76 POP_TOP
-   
-    28          78 LOAD_CONST               1 (0)
-                80 LOAD_CONST               8 (('GenericSpanCapture', 'RunnableSpanCapture', 'LLMSpanCapture'))
-                82 IMPORT_NAME             14 (agiflow.opentelemetry.instrumentation.langchain_core.hooks)
-                84 IMPORT_FROM             15 (GenericSpanCapture)
-                86 STORE_NAME              15 (GenericSpanCapture)
-                88 IMPORT_FROM             16 (RunnableSpanCapture)
-                90 STORE_NAME              16 (RunnableSpanCapture)
-                92 IMPORT_FROM             17 (LLMSpanCapture)
-                94 STORE_NAME              17 (LLMSpanCapture)
-                96 POP_TOP
-   
-    33          98 LOAD_CONST               1 (0)
-               100 LOAD_CONST               9 (('patch_module_classes',))
-               102 IMPORT_NAME             11 (agiflow.opentelemetry.instrumentation.utils)
-               104 IMPORT_FROM             18 (patch_module_classes)
-               106 STORE_NAME              18 (patch_module_classes)
-               108 POP_TOP
-   
-    34         110 LOAD_CONST               1 (0)
-               112 LOAD_CONST              10 (('__version__',))
-               114 IMPORT_NAME             19 (agiflow.version)
-               116 IMPORT_FROM             20 (__version__)
-               118 STORE_NAME              20 (__version__)
-               120 POP_TOP
-   
-    37         122 PUSH_NULL
-               124 LOAD_BUILD_CLASS
-               126 LOAD_CONST              11 (<code object LangchainCoreInstrumentation, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py", line 37>)
-               128 MAKE_FUNCTION            0
-               130 LOAD_CONST              12 ('LangchainCoreInstrumentation')
-               132 LOAD_NAME                8 (BaseInstrumentor)
-               134 PRECALL                  3
-               138 CALL                     3
-               148 STORE_NAME              21 (LangchainCoreInstrumentation)
-               150 LOAD_CONST               2 (None)
-               152 RETURN_VALUE
+                 8 LOAD_CONST               2 (('Collection',))
+                10 IMPORT_NAME              1 (typing)
+                12 IMPORT_FROM              2 (Collection)
+                14 STORE_NAME               2 (Collection)
+                16 POP_TOP
+   
+    18          18 LOAD_CONST               1 (0)
+                20 LOAD_CONST               3 (('wrap_function_wrapper',))
+                22 IMPORT_NAME              3 (wrapt)
+                24 IMPORT_FROM              4 (wrap_function_wrapper)
+                26 STORE_NAME               4 (wrap_function_wrapper)
+                28 POP_TOP
+   
+    20          30 LOAD_CONST               1 (0)
+                32 LOAD_CONST               4 (('BaseInstrumentor',))
+                34 IMPORT_NAME              5 (opentelemetry.instrumentation.instrumentor)
+                36 IMPORT_FROM              6 (BaseInstrumentor)
+                38 STORE_NAME               6 (BaseInstrumentor)
+                40 POP_TOP
+   
+    21          42 LOAD_CONST               1 (0)
+                44 LOAD_CONST               5 (('get_tracer',))
+                46 IMPORT_NAME              7 (opentelemetry.trace)
+                48 IMPORT_FROM              8 (get_tracer)
+                50 STORE_NAME               8 (get_tracer)
+                52 POP_TOP
+   
+    22          54 LOAD_CONST               1 (0)
+                56 LOAD_CONST               6 (('method_wrapper', 'async_method_wrapper'))
+                58 IMPORT_NAME              9 (agiflow.opentelemetry.instrumentation.utils)
+                60 IMPORT_FROM             10 (method_wrapper)
+                62 STORE_NAME              10 (method_wrapper)
+                64 IMPORT_FROM             11 (async_method_wrapper)
+                66 STORE_NAME              11 (async_method_wrapper)
+                68 POP_TOP
+   
+    27          70 LOAD_CONST               1 (0)
+                72 LOAD_CONST               7 (('GenericSpanCapture', 'RunnableSpanCapture', 'LLMSpanCapture'))
+                74 IMPORT_NAME             12 (agiflow.opentelemetry.instrumentation.langchain_core.hooks)
+                76 IMPORT_FROM             13 (GenericSpanCapture)
+                78 STORE_NAME              13 (GenericSpanCapture)
+                80 IMPORT_FROM             14 (RunnableSpanCapture)
+                82 STORE_NAME              14 (RunnableSpanCapture)
+                84 IMPORT_FROM             15 (LLMSpanCapture)
+                86 STORE_NAME              15 (LLMSpanCapture)
+                88 POP_TOP
+   
+    32          90 LOAD_CONST               1 (0)
+                92 LOAD_CONST               8 (('patch_module_classes',))
+                94 IMPORT_NAME              9 (agiflow.opentelemetry.instrumentation.utils)
+                96 IMPORT_FROM             16 (patch_module_classes)
+                98 STORE_NAME              16 (patch_module_classes)
+               100 POP_TOP
+   
+    33         102 LOAD_CONST               1 (0)
+               104 LOAD_CONST               9 (('__version__',))
+               106 IMPORT_NAME             17 (agiflow.version)
+               108 IMPORT_FROM             18 (__version__)
+               110 STORE_NAME              18 (__version__)
+               112 POP_TOP
+   
+    36         114 PUSH_NULL
+               116 LOAD_BUILD_CLASS
+               118 LOAD_CONST              10 (<code object LangchainCoreInstrumentation, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py", line 36>)
+               120 MAKE_FUNCTION            0
+               122 LOAD_CONST              11 ('LangchainCoreInstrumentation')
+               124 LOAD_NAME                6 (BaseInstrumentor)
+               126 PRECALL                  3
+               130 CALL                     3
+               140 STORE_NAME              19 (LangchainCoreInstrumentation)
+               142 LOAD_CONST              12 (None)
+               144 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
-      None
       ('Collection',)
       ('wrap_function_wrapper',)
       ('BaseInstrumentor',)
       ('get_tracer',)
       ('method_wrapper', 'async_method_wrapper')
       ('GenericSpanCapture', 'RunnableSpanCapture', 'LLMSpanCapture')
       ('patch_module_classes',)
@@ -112,275 +105,263 @@
          argcount  : 0
          nlocals   : 0
          stacksize : 3
          flags     : 0
          code
             0x970065005a0164005a0264015a03640265046505190000000000000000
             006602640384045a06640484005a07640584005a0864065300
-          37           0 RESUME                   0
+          36           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('LangchainCoreInstrumentation')
                        8 STORE_NAME               2 (__qualname__)
          
-          38          10 LOAD_CONST               1 ('\n    Instrumentor for langchain.\n    ')
+          37          10 LOAD_CONST               1 ('\n    Instrumentor for langchain.\n    ')
                       12 STORE_NAME               3 (__doc__)
          
-          42          14 LOAD_CONST               2 ('return')
+          41          14 LOAD_CONST               2 ('return')
                       16 LOAD_NAME                4 (Collection)
                       18 LOAD_NAME                5 (str)
                       20 BINARY_SUBSCR
                       30 BUILD_TUPLE              2
-                      32 LOAD_CONST               3 (<code object instrumentation_dependencies, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py", line 42>)
+                      32 LOAD_CONST               3 (<code object instrumentation_dependencies, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py", line 41>)
                       34 MAKE_FUNCTION            4 (annotations)
                       36 STORE_NAME               6 (instrumentation_dependencies)
          
-          45          38 LOAD_CONST               4 (<code object _instrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py", line 45>)
+          44          38 LOAD_CONST               4 (<code object _instrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py", line 44>)
                       40 MAKE_FUNCTION            0
                       42 STORE_NAME               7 (_instrument)
          
-         115          44 LOAD_CONST               5 (<code object _uninstrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py", line 115>)
+         112          44 LOAD_CONST               5 (<code object _uninstrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py", line 112>)
                       46 MAKE_FUNCTION            0
                       48 STORE_NAME               8 (_uninstrument)
                       50 LOAD_CONST               6 (None)
                       52 RETURN_VALUE
          consts
             'LangchainCoreInstrumentation'
             '\n    Instrumentor for langchain.\n    '
             'return'
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x9700640167015300
-                42           0 RESUME                   0
+                41           0 RESUME                   0
                
-                43           2 LOAD_CONST               1 ('langchain-core >= 0.1.27')
+                42           2 LOAD_CONST               1 ('langchain-core >= 0.1.27')
                              4 BUILD_LIST               1
                              6 RETURN_VALUE
                consts
                   None
                   'langchain-core >= 0.1.27'
                names      ()
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py'
                name       'instrumentation_dependencies'
-               firstlineno 42
+               firstlineno 41
                lnotab 0x0201
             code
                argcount  : 1
-               nlocals   : 11
-               stacksize : 10
+               nlocals   : 10
+               stacksize : 9
                flags     : 11
                code
                   0x97007c01a00000000000000000000000000000000000000000006401a6
                   010000ab0100000000000000007d02740300000000000000000000740400
                   0000000000000000007406000000000000000000007c02a6030000ab0300
-                  000000000000007d037408000000000000000000006a0500000000000000
-                  00a00600000000000000000000000000000000000000006402a6010000ab
-                  0100000000000000007d0467006403a2017d0567006404a2017d06640564
-                  06740e00000000000000000000660364076408740e000000000000000000
-                  0066036409640a741000000000000000000000660367037d077c0744005d
-                  1c5c0300007d087d097d0a7413000000000000000000007c087c037c047c
-                  097c0a7c057c06ac0ba6070000ab07000000000000000001008c1d741500
-                  000000000000000000640c640d7417000000000000000000007c03741800
-                  000000000000000000ac0ea6020000ab020000000000000000a6030000ab
-                  0300000000000000000100741500000000000000000000640c640f741b00
-                  0000000000000000007c03741800000000000000000000ac0ea6020000ab
-                  020000000000000000a6030000ab030000000000000000010064005300
-                45           0 RESUME                   0
+                  000000000000007d0367006402a2017d0467006403a2017d056404640574
+                  080000000000000000000066036406640774080000000000000000000066
+                  0364086409740a00000000000000000000660367037d067c0644005d1b5c
+                  0300007d077d087d09740d000000000000000000007c077c037c087c097c
+                  047c05ac0aa6060000ab06000000000000000001008c1c740f0000000000
+                  0000000000640b640c7411000000000000000000007c0374120000000000
+                  0000000000ac0da6020000ab020000000000000000a6030000ab03000000
+                  00000000000100740f00000000000000000000640b640e74150000000000
+                  00000000007c03741200000000000000000000ac0da6020000ab02000000
+                  0000000000a6030000ab030000000000000000010064005300
+                44           0 RESUME                   0
                
-                46           2 LOAD_FAST                1 (kwargs)
+                45           2 LOAD_FAST                1 (kwargs)
                              4 LOAD_METHOD              0 (get)
                             26 LOAD_CONST               1 ('tracer_provider')
                             28 PRECALL                  1
                             32 CALL                     1
                             42 STORE_FAST               2 (tracer_provider)
                
-                47          44 LOAD_GLOBAL              3 (NULL + get_tracer)
+                46          44 LOAD_GLOBAL              3 (NULL + get_tracer)
                             56 LOAD_GLOBAL              4 (__name__)
                             68 LOAD_GLOBAL              6 (__version__)
                             80 LOAD_FAST                2 (tracer_provider)
                             82 PRECALL                  3
                             86 CALL                     3
                             96 STORE_FAST               3 (tracer)
                
-                48          98 LOAD_GLOBAL              8 (importlib)
-                           110 LOAD_ATTR                5 (metadata)
-                           120 LOAD_METHOD              6 (version)
-                           142 LOAD_CONST               2 ('langchain-core')
-                           144 PRECALL                  1
-                           148 CALL                     1
-                           158 STORE_FAST               4 (version)
+                48          98 BUILD_LIST               0
+                           100 LOAD_CONST               2 (('get_name', 'get_output_schema', 'get_input_schema', 'get_graph', 'to_json', 'to_json_not_implemented', 'bind', 'dict', 'format', 'format_messages', 'format_prompt'))
+                           102 LIST_EXTEND              1
+                           104 STORE_FAST               4 (exclude_methods)
                
-                50         160 BUILD_LIST               0
-                           162 LOAD_CONST               3 (('get_name', 'get_output_schema', 'get_input_schema', 'get_graph', 'to_json', 'to_json_not_implemented', 'bind', 'dict', 'format', 'format_messages', 'format_prompt'))
-                           164 LIST_EXTEND              1
-                           166 STORE_FAST               5 (exclude_methods)
+                61         106 BUILD_LIST               0
+                           108 LOAD_CONST               3 (('BaseChatPromptTemplate', 'Runnable', 'RunnableBinding', 'RunnableBindingBase', 'RunnableEach', 'RunnableEachBase', 'RunnableGenerator', 'RunnablePick', 'RunnableMap', 'RunnableSerializable'))
+                           110 LIST_EXTEND              1
+                           112 STORE_FAST               5 (exclude_classes)
                
-                63         168 BUILD_LIST               0
-                           170 LOAD_CONST               4 (('BaseChatPromptTemplate', 'Runnable', 'RunnableBinding', 'RunnableBindingBase', 'RunnableEach', 'RunnableEachBase', 'RunnableGenerator', 'RunnablePick', 'RunnableMap', 'RunnableSerializable'))
-                           172 LIST_EXTEND              1
-                           174 STORE_FAST               6 (exclude_classes)
+                75         114 LOAD_CONST               4 ('langchain_core.retrievers')
+                           116 LOAD_CONST               5 ('retriever')
+                           118 LOAD_GLOBAL              8 (GenericSpanCapture)
+                           130 BUILD_TUPLE              3
                
-                77         176 LOAD_CONST               5 ('langchain_core.retrievers')
-                           178 LOAD_CONST               6 ('retriever')
-                           180 LOAD_GLOBAL             14 (GenericSpanCapture)
-                           192 BUILD_TUPLE              3
+                76         132 LOAD_CONST               6 ('langchain_core.prompts.chat')
+                           134 LOAD_CONST               7 ('prompt')
+                           136 LOAD_GLOBAL              8 (GenericSpanCapture)
+                           148 BUILD_TUPLE              3
                
-                78         194 LOAD_CONST               7 ('langchain_core.prompts.chat')
-                           196 LOAD_CONST               8 ('prompt')
-                           198 LOAD_GLOBAL             14 (GenericSpanCapture)
-                           210 BUILD_TUPLE              3
+                77         150 LOAD_CONST               8 ('langchain_core.runnables.base')
+                           152 LOAD_CONST               9 ('runnable')
+                           154 LOAD_GLOBAL             10 (RunnableSpanCapture)
+                           166 BUILD_TUPLE              3
                
-                79         212 LOAD_CONST               9 ('langchain_core.runnables.base')
-                           214 LOAD_CONST              10 ('runnable')
-                           216 LOAD_GLOBAL             16 (RunnableSpanCapture)
-                           228 BUILD_TUPLE              3
+                74         168 BUILD_LIST               3
+                           170 STORE_FAST               6 (modules_to_patch)
                
-                76         230 BUILD_LIST               3
-                           232 STORE_FAST               7 (modules_to_patch)
+                84         172 LOAD_FAST                6 (modules_to_patch)
                
-                86         234 LOAD_FAST                7 (modules_to_patch)
+                80         174 GET_ITER
+                       >>  176 FOR_ITER                27 (to 232)
+                           178 UNPACK_SEQUENCE          3
                
-                82         236 GET_ITER
-                       >>  238 FOR_ITER                28 (to 296)
-                           240 UNPACK_SEQUENCE          3
+                81         182 STORE_FAST               7 (module_name)
                
-                83         244 STORE_FAST               8 (module_name)
+                82         184 STORE_FAST               8 (task)
                
-                84         246 STORE_FAST               9 (task)
+                83         186 STORE_FAST               9 (SpanCapture)
                
-                85         248 STORE_FAST              10 (SpanCapture)
+                85         188 LOAD_GLOBAL             13 (NULL + patch_module_classes)
                
-                87         250 LOAD_GLOBAL             19 (NULL + patch_module_classes)
+                86         200 LOAD_FAST                7 (module_name)
                
-                88         262 LOAD_FAST                8 (module_name)
+                87         202 LOAD_FAST                3 (tracer)
                
-                89         264 LOAD_FAST                3 (tracer)
+                88         204 LOAD_FAST                8 (task)
                
-                90         266 LOAD_FAST                4 (version)
+                89         206 LOAD_FAST                9 (SpanCapture)
                
-                91         268 LOAD_FAST                9 (task)
+                90         208 LOAD_FAST                4 (exclude_methods)
                
-                92         270 LOAD_FAST               10 (SpanCapture)
+                91         210 LOAD_FAST                5 (exclude_classes)
                
-                93         272 LOAD_FAST                5 (exclude_methods)
+                85         212 KW_NAMES                10
+                           214 PRECALL                  6
+                           218 CALL                     6
+                           228 POP_TOP
+                           230 JUMP_BACKWARD           28 (to 176)
                
-                94         274 LOAD_FAST                6 (exclude_classes)
+                94     >>  232 LOAD_GLOBAL             15 (NULL + wrap_function_wrapper)
                
-                87         276 KW_NAMES                11
-                           278 PRECALL                  7
-                           282 CALL                     7
-                           292 POP_TOP
-                           294 JUMP_BACKWARD           29 (to 238)
+                95         244 LOAD_CONST              11 ('langchain_core.language_models.llms')
                
-                97     >>  296 LOAD_GLOBAL             21 (NULL + wrap_function_wrapper)
+                96         246 LOAD_CONST              12 ('BaseLLM.generate')
                
-                98         308 LOAD_CONST              12 ('langchain_core.language_models.llms')
+                97         248 LOAD_GLOBAL             17 (NULL + method_wrapper)
                
-                99         310 LOAD_CONST              13 ('BaseLLM.generate')
+                98         260 LOAD_FAST                3 (tracer)
                
-               100         312 LOAD_GLOBAL             23 (NULL + method_wrapper)
+                99         262 LOAD_GLOBAL             18 (LLMSpanCapture)
                
-               101         324 LOAD_FAST                3 (tracer)
+                97         274 KW_NAMES                13
+                           276 PRECALL                  2
+                           280 CALL                     2
                
-               102         326 LOAD_GLOBAL             24 (LLMSpanCapture)
+                94         290 PRECALL                  3
+                           294 CALL                     3
+                           304 POP_TOP
                
-               100         338 KW_NAMES                14
-                           340 PRECALL                  2
-                           344 CALL                     2
+               103         306 LOAD_GLOBAL             15 (NULL + wrap_function_wrapper)
                
-                97         354 PRECALL                  3
-                           358 CALL                     3
-                           368 POP_TOP
+               104         318 LOAD_CONST              11 ('langchain_core.language_models.llms')
                
-               106         370 LOAD_GLOBAL             21 (NULL + wrap_function_wrapper)
+               105         320 LOAD_CONST              14 ('BaseLLM.agenerate')
                
-               107         382 LOAD_CONST              12 ('langchain_core.language_models.llms')
+               106         322 LOAD_GLOBAL             21 (NULL + async_method_wrapper)
                
-               108         384 LOAD_CONST              15 ('BaseLLM.agenerate')
+               107         334 LOAD_FAST                3 (tracer)
                
-               109         386 LOAD_GLOBAL             27 (NULL + async_method_wrapper)
+               108         336 LOAD_GLOBAL             18 (LLMSpanCapture)
                
-               110         398 LOAD_FAST                3 (tracer)
+               106         348 KW_NAMES                13
+                           350 PRECALL                  2
+                           354 CALL                     2
                
-               111         400 LOAD_GLOBAL             24 (LLMSpanCapture)
-               
-               109         412 KW_NAMES                14
-                           414 PRECALL                  2
-                           418 CALL                     2
-               
-               106         428 PRECALL                  3
-                           432 CALL                     3
-                           442 POP_TOP
-                           444 LOAD_CONST               0 (None)
-                           446 RETURN_VALUE
+               103         364 PRECALL                  3
+                           368 CALL                     3
+                           378 POP_TOP
+                           380 LOAD_CONST               0 (None)
+                           382 RETURN_VALUE
                consts
                   None
                   'tracer_provider'
-                  'langchain-core'
                   ('get_name', 'get_output_schema', 'get_input_schema', 'get_graph', 'to_json', 'to_json_not_implemented', 'bind', 'dict', 'format', 'format_messages', 'format_prompt')
                   ('BaseChatPromptTemplate', 'Runnable', 'RunnableBinding', 'RunnableBindingBase', 'RunnableEach', 'RunnableEachBase', 'RunnableGenerator', 'RunnablePick', 'RunnableMap', 'RunnableSerializable')
                   'langchain_core.retrievers'
                   'retriever'
                   'langchain_core.prompts.chat'
                   'prompt'
                   'langchain_core.runnables.base'
                   'runnable'
                   ('SpanCapture', 'exclude_methods', 'exclude_classes')
                   'langchain_core.language_models.llms'
                   'BaseLLM.generate'
                   ('tracer', 'SpanCapture')
                   'BaseLLM.agenerate'
-               names      ('get', 'get_tracer', '__name__', '__version__', 'importlib', 'metadata', 'version', 'GenericSpanCapture', 'RunnableSpanCapture', 'patch_module_classes', 'wrap_function_wrapper', 'method_wrapper', 'LLMSpanCapture', 'async_method_wrapper')
-               varnames   ('self', 'kwargs', 'tracer_provider', 'tracer', 'version', 'exclude_methods', 'exclude_classes', 'modules_to_patch', 'module_name', 'task', 'SpanCapture')
+               names      ('get', 'get_tracer', '__name__', '__version__', 'GenericSpanCapture', 'RunnableSpanCapture', 'patch_module_classes', 'wrap_function_wrapper', 'method_wrapper', 'LLMSpanCapture', 'async_method_wrapper')
+               varnames   ('self', 'kwargs', 'tracer_provider', 'tracer', 'exclude_methods', 'exclude_classes', 'modules_to_patch', 'module_name', 'task', 'SpanCapture')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py'
                name       '_instrument'
-               firstlineno 45
+               firstlineno 44
                lnotab
-                  0x02012a0136013e02080d080e1201120112fd040a02fc08010201020102
-                  020c0102010201020102010201020102f9140a0c01020102010c0102010c
-                  fe10fd10090c01020102010c0102010cfe10fd
+                  0x02012a013602080d080e1201120112fd040a02fc08010201020102020c
+                  010201020102010201020102fa14090c01020102010c0102010cfe10fd10
+                  090c01020102010c0102010cfe10fd
             code
                argcount  : 1
                nlocals   : 2
                stacksize : 1
                flags     : 11
                code 0x970064005300
-               115           0 RESUME                   0
+               112           0 RESUME                   0
                
-               116           2 LOAD_CONST               0 (None)
+               113           2 LOAD_CONST               0 (None)
                              4 RETURN_VALUE
                consts
                   None
                names      ()
                varnames   ('self', 'kwargs')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py'
                name       '_uninstrument'
-               firstlineno 115
+               firstlineno 112
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', '__doc__', 'Collection', 'str', 'instrumentation_dependencies', '_instrument', '_uninstrument')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py'
          name       'LangchainCoreInstrumentation'
-         firstlineno 37
-         lnotab 0x0a01040418030646
+         firstlineno 36
+         lnotab 0x0a01040418030644
       'LangchainCoreInstrumentation'
-   names      ('__doc__', 'importlib.metadata', 'importlib', 'typing', 'Collection', 'wrapt', 'wrap_function_wrapper', 'opentelemetry.instrumentation.instrumentor', 'BaseInstrumentor', 'opentelemetry.trace', 'get_tracer', 'agiflow.opentelemetry.instrumentation.utils', 'method_wrapper', 'async_method_wrapper', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks', 'GenericSpanCapture', 'RunnableSpanCapture', 'LLMSpanCapture', 'patch_module_classes', 'agiflow.version', '__version__', 'LangchainCoreInstrumentation')
+      None
+   names      ('__doc__', 'typing', 'Collection', 'wrapt', 'wrap_function_wrapper', 'opentelemetry.instrumentation.instrumentor', 'BaseInstrumentor', 'opentelemetry.trace', 'get_tracer', 'agiflow.opentelemetry.instrumentation.utils', 'method_wrapper', 'async_method_wrapper', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks', 'GenericSpanCapture', 'RunnableSpanCapture', 'LLMSpanCapture', 'patch_module_classes', 'agiflow.version', '__version__', 'LangchainCoreInstrumentation')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff0201041008010c010c020c010c01100514050c010c03
+   lnotab 0x00ff020104100c010c020c010c01100514050c010c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/__pycache__/patch.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/__pycache__/patch.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/__init__.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/cohere/hooks/__pycache__/__init__.cpython-311.pyc`

 * *Files 27% similar despite different names*

#### Python bytecode

```diff
@@ -1,49 +1,64 @@
 magic:    0xa70d0d0a
-moddate:  0x26195866 (Thu May 30 06:13:58 2024 UTC)
-files sz: 288
+moddate:  0x07dd5a66 (Sat Jun  1 08:34:15 2024 UTC)
+files sz: 511
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 2
    flags     : 0
    code
       0x9700640064016c006d015a010100640064026c026d035a030100640064
-      036c046d055a05010064045300
+      036c046d055a050100640064046c066d075a07010067006405a2015a0864
+      065300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 (0)
-                 4 LOAD_CONST               1 (('RunnableSpanCapture',))
-                 6 IMPORT_NAME              0 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.runnable)
-                 8 IMPORT_FROM              1 (RunnableSpanCapture)
-                10 STORE_NAME               1 (RunnableSpanCapture)
+                 4 LOAD_CONST               1 (('RerankSpanCapture',))
+                 6 IMPORT_NAME              0 (agiflow.opentelemetry.instrumentation.cohere.hooks.rerank)
+                 8 IMPORT_FROM              1 (RerankSpanCapture)
+                10 STORE_NAME               1 (RerankSpanCapture)
                 12 POP_TOP
    
-     2          14 LOAD_CONST               0 (0)
-                16 LOAD_CONST               2 (('GenericSpanCapture',))
-                18 IMPORT_NAME              2 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.generic)
-                20 IMPORT_FROM              3 (GenericSpanCapture)
-                22 STORE_NAME               3 (GenericSpanCapture)
+     4          14 LOAD_CONST               0 (0)
+                16 LOAD_CONST               2 (('EmbedSpanCapture',))
+                18 IMPORT_NAME              2 (agiflow.opentelemetry.instrumentation.cohere.hooks.embed)
+                20 IMPORT_FROM              3 (EmbedSpanCapture)
+                22 STORE_NAME               3 (EmbedSpanCapture)
                 24 POP_TOP
    
-     3          26 LOAD_CONST               0 (0)
-                28 LOAD_CONST               3 (('LLMSpanCapture',))
-                30 IMPORT_NAME              4 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.llm)
-                32 IMPORT_FROM              5 (LLMSpanCapture)
-                34 STORE_NAME               5 (LLMSpanCapture)
+     7          26 LOAD_CONST               0 (0)
+                28 LOAD_CONST               3 (('ChatCreateSpanCapture',))
+                30 IMPORT_NAME              4 (agiflow.opentelemetry.instrumentation.cohere.hooks.chat_create)
+                32 IMPORT_FROM              5 (ChatCreateSpanCapture)
+                34 STORE_NAME               5 (ChatCreateSpanCapture)
                 36 POP_TOP
-                38 LOAD_CONST               4 (None)
-                40 RETURN_VALUE
+   
+    10          38 LOAD_CONST               0 (0)
+                40 LOAD_CONST               4 (('ChatStreamSpanCapture',))
+                42 IMPORT_NAME              6 (agiflow.opentelemetry.instrumentation.cohere.hooks.chat_stream)
+                44 IMPORT_FROM              7 (ChatStreamSpanCapture)
+                46 STORE_NAME               7 (ChatStreamSpanCapture)
+                48 POP_TOP
+   
+    15          50 BUILD_LIST               0
+                52 LOAD_CONST               5 (('RerankSpanCapture', 'EmbedSpanCapture', 'ChatCreateSpanCapture', 'ChatStreamSpanCapture'))
+                54 LIST_EXTEND              1
+                56 STORE_NAME               8 (__all__)
+                58 LOAD_CONST               6 (None)
+                60 RETURN_VALUE
    consts
       0
-      ('RunnableSpanCapture',)
-      ('GenericSpanCapture',)
-      ('LLMSpanCapture',)
+      ('RerankSpanCapture',)
+      ('EmbedSpanCapture',)
+      ('ChatCreateSpanCapture',)
+      ('ChatStreamSpanCapture',)
+      ('RerankSpanCapture', 'EmbedSpanCapture', 'ChatCreateSpanCapture', 'ChatStreamSpanCapture')
       None
-   names      ('agiflow.opentelemetry.instrumentation.langchain_core.hooks.runnable', 'RunnableSpanCapture', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks.generic', 'GenericSpanCapture', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks.llm', 'LLMSpanCapture')
+   names      ('agiflow.opentelemetry.instrumentation.cohere.hooks.rerank', 'RerankSpanCapture', 'agiflow.opentelemetry.instrumentation.cohere.hooks.embed', 'EmbedSpanCapture', 'agiflow.opentelemetry.instrumentation.cohere.hooks.chat_create', 'ChatCreateSpanCapture', 'agiflow.opentelemetry.instrumentation.cohere.hooks.chat_stream', 'ChatStreamSpanCapture', '__all__')
    varnames   ()
    freevars   ()
    cellvars   ()
-   filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__init__.py'
+   filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/cohere/hooks/__init__.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010c010c01
+   lnotab 0x00ff02010c030c030c030c05
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/base.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_community/hooks/__pycache__/base.cpython-311.pyc`

 * *Files 12% similar despite different names*

#### Python bytecode

```diff
@@ -1,203 +1,201 @@
 magic:    0xa70d0d0a
-moddate:  0xf4385966 (Fri May 31 02:41:56 2024 UTC)
-files sz: 1378
+moddate:  0x4db45b66 (Sat Jun  1 23:52:45 2024 UTC)
+files sz: 1499
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
       0x970064005a00640164026c015a02640164036c036d045a040100640164
-      046c056d065a060100640164056c076d085a080100020047006406840064
-      076508a6030000ab0300000000000000005a0964025300
+      046c056d065a060100640164056c076d085a080100640164066c096d0a5a
+      0a010002004700640784006408650aa6030000ab0300000000000000005a
+      0b64025300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
                  8 LOAD_CONST               2 (None)
                 10 IMPORT_NAME              1 (importlib.metadata)
                 12 STORE_NAME               2 (importlib)
    
-    18          14 LOAD_CONST               1 (0)
+    19          14 LOAD_CONST               1 (0)
                 16 LOAD_CONST               3 (('SpanAttributes',))
                 18 IMPORT_NAME              3 (agiflow.opentelemetry.convention)
                 20 IMPORT_FROM              4 (SpanAttributes)
                 22 STORE_NAME               4 (SpanAttributes)
                 24 POP_TOP
    
-    19          26 LOAD_CONST               1 (0)
-                28 LOAD_CONST               4 (('SERVICE_PROVIDERS',))
-                30 IMPORT_NAME              5 (agiflow.opentelemetry.instrumentation.constants.common)
-                32 IMPORT_FROM              6 (SERVICE_PROVIDERS)
-                34 STORE_NAME               6 (SERVICE_PROVIDERS)
+    20          26 LOAD_CONST               1 (0)
+                28 LOAD_CONST               4 (('AgiflowServiceTypes',))
+                30 IMPORT_NAME              5 (agiflow.opentelemetry.convention.constants)
+                32 IMPORT_FROM              6 (AgiflowServiceTypes)
+                34 STORE_NAME               6 (AgiflowServiceTypes)
                 36 POP_TOP
    
-    22          38 LOAD_CONST               1 (0)
-                40 LOAD_CONST               5 (('BaseSpanCapture',))
-                42 IMPORT_NAME              7 (agiflow.opentelemetry.instrumentation.utils)
-                44 IMPORT_FROM              8 (BaseSpanCapture)
-                46 STORE_NAME               8 (BaseSpanCapture)
+    21          38 LOAD_CONST               1 (0)
+                40 LOAD_CONST               5 (('SERVICE_PROVIDERS',))
+                42 IMPORT_NAME              7 (agiflow.opentelemetry.instrumentation.constants.common)
+                44 IMPORT_FROM              8 (SERVICE_PROVIDERS)
+                46 STORE_NAME               8 (SERVICE_PROVIDERS)
                 48 POP_TOP
    
-    25          50 PUSH_NULL
-                52 LOAD_BUILD_CLASS
-                54 LOAD_CONST               6 (<code object LangchainCoreSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/base.py", line 25>)
-                56 MAKE_FUNCTION            0
-                58 LOAD_CONST               7 ('LangchainCoreSpanCapture')
-                60 LOAD_NAME                8 (BaseSpanCapture)
-                62 PRECALL                  3
-                66 CALL                     3
-                76 STORE_NAME               9 (LangchainCoreSpanCapture)
-                78 LOAD_CONST               2 (None)
-                80 RETURN_VALUE
+    24          50 LOAD_CONST               1 (0)
+                52 LOAD_CONST               6 (('BaseSpanCapture',))
+                54 IMPORT_NAME              9 (agiflow.opentelemetry.instrumentation.utils)
+                56 IMPORT_FROM             10 (BaseSpanCapture)
+                58 STORE_NAME              10 (BaseSpanCapture)
+                60 POP_TOP
+   
+    27          62 PUSH_NULL
+                64 LOAD_BUILD_CLASS
+                66 LOAD_CONST               7 (<code object LangchainCommunitySpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py", line 27>)
+                68 MAKE_FUNCTION            0
+                70 LOAD_CONST               8 ('LangchainCommunitySpanCapture')
+                72 LOAD_NAME               10 (BaseSpanCapture)
+                74 PRECALL                  3
+                78 CALL                     3
+                88 STORE_NAME              11 (LangchainCommunitySpanCapture)
+                90 LOAD_CONST               2 (None)
+                92 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
       None
       ('SpanAttributes',)
+      ('AgiflowServiceTypes',)
       ('SERVICE_PROVIDERS',)
       ('BaseSpanCapture',)
       code
          argcount  : 0
          nlocals   : 0
-         stacksize : 4
+         stacksize : 2
          flags     : 0
          code
-            0x8700970065005a0164005a0255006503650464013c000000640264039c
-            01640165036602880066016404840e5a05880078015a065300
+            0x8700970065005a0164005a0288006601640184085a03880078015a0453
+            00
                        0 MAKE_CELL                0 (__class__)
          
-          25           2 RESUME                   0
+          27           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
-                       8 LOAD_CONST               0 ('LangchainCoreSpanCapture')
+                       8 LOAD_CONST               0 ('LangchainCommunitySpanCapture')
                       10 STORE_NAME               2 (__qualname__)
-                      12 SETUP_ANNOTATIONS
          
-          26          14 LOAD_NAME                3 (str)
-                      16 LOAD_NAME                4 (__annotations__)
-                      18 LOAD_CONST               1 ('task')
-                      20 STORE_SUBSCR
-         
-          31          24 LOAD_CONST               2 ('')
-         
-          28          26 LOAD_CONST               3 (('task',))
-                      28 BUILD_CONST_KEY_MAP      1
-                      30 LOAD_CONST               1 ('task')
-         
-          31          32 LOAD_NAME                3 (str)
-         
-          28          34 BUILD_TUPLE              2
-                      36 LOAD_CLOSURE             0 (__class__)
-                      38 BUILD_TUPLE              1
-                      40 LOAD_CONST               4 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/base.py", line 28>)
-                      42 MAKE_FUNCTION           14 (kwdefaults, annotations, closure)
-                      44 STORE_NAME               5 (__init__)
-                      46 LOAD_CLOSURE             0 (__class__)
-                      48 COPY                     1
-                      50 STORE_NAME               6 (__classcell__)
-                      52 RETURN_VALUE
+          28          12 LOAD_CLOSURE             0 (__class__)
+                      14 BUILD_TUPLE              1
+                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py", line 28>)
+                      18 MAKE_FUNCTION            8 (closure)
+                      20 STORE_NAME               3 (__init__)
+                      22 LOAD_CLOSURE             0 (__class__)
+                      24 COPY                     1
+                      26 STORE_NAME               4 (__classcell__)
+                      28 RETURN_VALUE
          consts
-            'LangchainCoreSpanCapture'
-            'task'
-            ''
-            ('task',)
+            'LangchainCommunitySpanCapture'
             code
                argcount  : 1
-               nlocals   : 5
+               nlocals   : 4
                stacksize : 8
                flags     : 15
                code
                   0x950197000200740100000000000000000000a6000000ab000000000000
-                  0000006a0100000000000000007c0269007c03a4018e0101007c017c005f
-                  020000000000000000740600000000000000000000640119000000000000
-                  0000007d047c00a004000000000000000000000000000000000000000074
-                  0a000000000000000000006a0600000000000000007c04740a0000000000
-                  00000000006a0700000000000000007410000000000000000000006a0900
-                  00000000000000a00a000000000000000000000000000000000000000064
-                  02a6010000ab010000000000000000740a000000000000000000006a0b00
-                  000000000000007c006a0200000000000000006903a6010000ab01000000
-                  0000000000010064005300
+                  0000006a0100000000000000007c0169007c02a4018e0101007404000000
+                  000000000000006a030000000000000000a0040000000000000000000000
+                  0000000000000000006401a6010000ab0100000000000000007c005f0400
+                  00000000000000740a000000000000000000006402190000000000000000
+                  007d037c00a0060000000000000000000000000000000000000000740e00
+                  0000000000000000006a0800000000000000007c03740e00000000000000
+                  0000006a0900000000000000007404000000000000000000006a03000000
+                  0000000000a00400000000000000000000000000000000000000006401a6
+                  010000ab010000000000000000740e000000000000000000006a0a000000
+                  00000000007416000000000000000000006a0c00000000000000006903a6
+                  010000ab010000000000000000010064005300
                              0 COPY_FREE_VARS           1
                
                 28           2 RESUME                   0
                
-                34           4 PUSH_NULL
+                33           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
                             22 CALL                     0
                             32 LOAD_ATTR                1 (__init__)
-                            42 LOAD_FAST                2 (args)
+                            42 LOAD_FAST                1 (args)
                             44 BUILD_MAP                0
-                            46 LOAD_FAST                3 (kwargs)
+                            46 LOAD_FAST                2 (kwargs)
                             48 DICT_MERGE               1
                             50 CALL_FUNCTION_EX         1
                             52 POP_TOP
                
-                35          54 LOAD_FAST                1 (task)
-                            56 LOAD_FAST                0 (self)
-                            58 STORE_ATTR               2 (task)
-               
-                36          68 LOAD_GLOBAL              6 (SERVICE_PROVIDERS)
-                            80 LOAD_CONST               1 ('LANGCHAIN_CORE')
-                            82 BINARY_SUBSCR
-                            92 STORE_FAST               4 (service_provider)
-               
-                37          94 LOAD_FAST                0 (self)
-                            96 LOAD_METHOD              4 (set_pydantic_attributes)
-               
-                38         118 LOAD_GLOBAL             10 (SpanAttributes)
-                           130 LOAD_ATTR                6 (AGIFLOW_SERVICE_NAME)
-                           140 LOAD_FAST                4 (service_provider)
-               
-                39         142 LOAD_GLOBAL             10 (SpanAttributes)
-                           154 LOAD_ATTR                7 (AGIFLOW_SERVICE_VERSION)
-                           164 LOAD_GLOBAL             16 (importlib)
-                           176 LOAD_ATTR                9 (metadata)
-                           186 LOAD_METHOD             10 (version)
-                           208 LOAD_CONST               2 ('langchain-core')
-                           210 PRECALL                  1
-                           214 CALL                     1
-               
-                40         224 LOAD_GLOBAL             10 (SpanAttributes)
-                           236 LOAD_ATTR               11 (AGIFLOW_ENTITY_NAME)
-                           246 LOAD_FAST                0 (self)
-                           248 LOAD_ATTR                2 (task)
-               
-                37         258 BUILD_MAP                3
-                           260 PRECALL                  1
-                           264 CALL                     1
-                           274 POP_TOP
-                           276 LOAD_CONST               0 (None)
-                           278 RETURN_VALUE
+                34          54 LOAD_GLOBAL              4 (importlib)
+                            66 LOAD_ATTR                3 (metadata)
+                            76 LOAD_METHOD              4 (version)
+                            98 LOAD_CONST               1 ('langchain-community')
+                           100 PRECALL                  1
+                           104 CALL                     1
+                           114 LOAD_FAST                0 (self)
+                           116 STORE_ATTR               4 (version)
+               
+                35         126 LOAD_GLOBAL             10 (SERVICE_PROVIDERS)
+                           138 LOAD_CONST               2 ('LANGCHAIN_COMMUNITY')
+                           140 BINARY_SUBSCR
+                           150 STORE_FAST               3 (service_provider)
+               
+                36         152 LOAD_FAST                0 (self)
+                           154 LOAD_METHOD              6 (set_pydantic_attributes)
+               
+                37         176 LOAD_GLOBAL             14 (SpanAttributes)
+                           188 LOAD_ATTR                8 (AGIFLOW_SERVICE_NAME)
+                           198 LOAD_FAST                3 (service_provider)
+               
+                38         200 LOAD_GLOBAL             14 (SpanAttributes)
+                           212 LOAD_ATTR                9 (AGIFLOW_SERVICE_VERSION)
+                           222 LOAD_GLOBAL              4 (importlib)
+                           234 LOAD_ATTR                3 (metadata)
+                           244 LOAD_METHOD              4 (version)
+                           266 LOAD_CONST               1 ('langchain-community')
+                           268 PRECALL                  1
+                           272 CALL                     1
+               
+                39         282 LOAD_GLOBAL             14 (SpanAttributes)
+                           294 LOAD_ATTR               10 (AGIFLOW_SERVICE_TYPE)
+                           304 LOAD_GLOBAL             22 (AgiflowServiceTypes)
+                           316 LOAD_ATTR               12 (FRAMEWORK)
+               
+                36         326 BUILD_MAP                3
+                           328 PRECALL                  1
+                           332 CALL                     1
+                           342 POP_TOP
+                           344 LOAD_CONST               0 (None)
+                           346 RETURN_VALUE
                consts
                   None
-                  'LANGCHAIN_CORE'
-                  'langchain-core'
-               names      ('super', '__init__', 'task', 'SERVICE_PROVIDERS', 'set_pydantic_attributes', 'SpanAttributes', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_VERSION', 'importlib', 'metadata', 'version', 'AGIFLOW_ENTITY_NAME')
-               varnames   ('self', 'task', 'args', 'kwargs', 'service_provider')
+                  'langchain-community'
+                  'LANGCHAIN_COMMUNITY'
+               names      ('super', '__init__', 'importlib', 'metadata', 'version', 'SERVICE_PROVIDERS', 'set_pydantic_attributes', 'SpanAttributes', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_VERSION', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'FRAMEWORK')
+               varnames   ('self', 'args', 'kwargs', 'service_provider')
                freevars   ('__class__',)
                cellvars   ()
-               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/base.py'
+               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py'
                name       '__init__'
                firstlineno 28
-               lnotab 0x040632010e011a0118011801520122fd
-         names      ('__name__', '__module__', '__qualname__', 'str', '__annotations__', '__init__', '__classcell__')
+               lnotab 0x0405320148011a011801180152012cfd
+         names      ('__name__', '__module__', '__qualname__', '__init__', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
-         filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/base.py'
-         name       'LangchainCoreSpanCapture'
-         firstlineno 25
-         lnotab 0x0e010a0502fd060302fd
-      'LangchainCoreSpanCapture'
-   names      ('__doc__', 'importlib.metadata', 'importlib', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'agiflow.opentelemetry.instrumentation.constants.common', 'SERVICE_PROVIDERS', 'agiflow.opentelemetry.instrumentation.utils', 'BaseSpanCapture', 'LangchainCoreSpanCapture')
+         filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py'
+         name       'LangchainCommunitySpanCapture'
+         firstlineno 27
+         lnotab 0x0c01
+      'LangchainCommunitySpanCapture'
+   names      ('__doc__', 'importlib.metadata', 'importlib', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'agiflow.opentelemetry.convention.constants', 'AgiflowServiceTypes', 'agiflow.opentelemetry.instrumentation.constants.common', 'SERVICE_PROVIDERS', 'agiflow.opentelemetry.instrumentation.utils', 'BaseSpanCapture', 'LangchainCommunitySpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
-   filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/base.py'
+   filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_community/hooks/base.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff0201041008010c010c030c03
+   lnotab 0x00ff0201041008020c010c010c030c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/generic.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/generic.cpython-311.pyc`

 * *Files 11% similar despite different names*

#### Python bytecode

```diff
@@ -1,102 +1,112 @@
 magic:    0xa70d0d0a
-moddate:  0x7a245966 (Fri May 31 01:14:34 2024 UTC)
-files sz: 2107
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
+files sz: 2152
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
-      0x970064005a00640164026c016d025a020100640164036c036d045a0401
-      00640164046c056d065a066d075a076d085a080100640164056c096d0a5a
-      0a0100020047006406840064076504a6030000ab0300000000000000005a
-      0b64085300
+      0x970064005a00640164026c016d025a026d035a030100640164036c046d
+      055a050100640164046c066d075a070100640164056c086d095a096d0a5a
+      0a6d0b5a0b0100640164066c0c6d0d5a0d01000200470064078400640865
+      07a6030000ab0300000000000000005a0e64095300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
-                 8 LOAD_CONST               2 (('serialise_to_json',))
-                10 IMPORT_NAME              1 (agiflow.utils)
-                12 IMPORT_FROM              2 (serialise_to_json)
-                14 STORE_NAME               2 (serialise_to_json)
-                16 POP_TOP
+                 8 LOAD_CONST               2 (('Any', 'Dict'))
+                10 IMPORT_NAME              1 (typing)
+                12 IMPORT_FROM              2 (Any)
+                14 STORE_NAME               2 (Any)
+                16 IMPORT_FROM              3 (Dict)
+                18 STORE_NAME               3 (Dict)
+                20 POP_TOP
    
-    18          18 LOAD_CONST               1 (0)
-                20 LOAD_CONST               3 (('LangchainCoreSpanCapture',))
-                22 IMPORT_NAME              3 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.base)
-                24 IMPORT_FROM              4 (LangchainCoreSpanCapture)
-                26 STORE_NAME               4 (LangchainCoreSpanCapture)
-                28 POP_TOP
+    18          22 LOAD_CONST               1 (0)
+                24 LOAD_CONST               3 (('serialise_to_json',))
+                26 IMPORT_NAME              4 (agiflow.utils)
+                28 IMPORT_FROM              5 (serialise_to_json)
+                30 STORE_NAME               5 (serialise_to_json)
+                32 POP_TOP
    
-    19          30 LOAD_CONST               1 (0)
-                32 LOAD_CONST               4 (('SpanAttributes', 'AgiflowServiceTypes', 'FrameworkSpanAttributesValidator'))
-                34 IMPORT_NAME              5 (agiflow.opentelemetry.convention)
-                36 IMPORT_FROM              6 (SpanAttributes)
-                38 STORE_NAME               6 (SpanAttributes)
-                40 IMPORT_FROM              7 (AgiflowServiceTypes)
-                42 STORE_NAME               7 (AgiflowServiceTypes)
-                44 IMPORT_FROM              8 (FrameworkSpanAttributesValidator)
-                46 STORE_NAME               8 (FrameworkSpanAttributesValidator)
-                48 POP_TOP
+    19          34 LOAD_CONST               1 (0)
+                36 LOAD_CONST               4 (('LangchainCoreSpanCapture',))
+                38 IMPORT_NAME              6 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.base)
+                40 IMPORT_FROM              7 (LangchainCoreSpanCapture)
+                42 STORE_NAME               7 (LangchainCoreSpanCapture)
+                44 POP_TOP
    
-    24          50 LOAD_CONST               1 (0)
-                52 LOAD_CONST               5 (('should_send_prompts',))
-                54 IMPORT_NAME              9 (agiflow.opentelemetry.utils)
-                56 IMPORT_FROM             10 (should_send_prompts)
-                58 STORE_NAME              10 (should_send_prompts)
-                60 POP_TOP
+    20          46 LOAD_CONST               1 (0)
+                48 LOAD_CONST               5 (('SpanAttributes', 'AgiflowServiceTypes', 'FrameworkSpanAttributesValidator'))
+                50 IMPORT_NAME              8 (agiflow.opentelemetry.convention)
+                52 IMPORT_FROM              9 (SpanAttributes)
+                54 STORE_NAME               9 (SpanAttributes)
+                56 IMPORT_FROM             10 (AgiflowServiceTypes)
+                58 STORE_NAME              10 (AgiflowServiceTypes)
+                60 IMPORT_FROM             11 (FrameworkSpanAttributesValidator)
+                62 STORE_NAME              11 (FrameworkSpanAttributesValidator)
+                64 POP_TOP
    
-    27          62 PUSH_NULL
-                64 LOAD_BUILD_CLASS
-                66 LOAD_CONST               6 (<code object GenericSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py", line 27>)
-                68 MAKE_FUNCTION            0
-                70 LOAD_CONST               7 ('GenericSpanCapture')
-                72 LOAD_NAME                4 (LangchainCoreSpanCapture)
-                74 PRECALL                  3
-                78 CALL                     3
-                88 STORE_NAME              11 (GenericSpanCapture)
-                90 LOAD_CONST               8 (None)
-                92 RETURN_VALUE
+    25          66 LOAD_CONST               1 (0)
+                68 LOAD_CONST               6 (('should_send_prompts',))
+                70 IMPORT_NAME             12 (agiflow.opentelemetry.utils)
+                72 IMPORT_FROM             13 (should_send_prompts)
+                74 STORE_NAME              13 (should_send_prompts)
+                76 POP_TOP
+   
+    28          78 PUSH_NULL
+                80 LOAD_BUILD_CLASS
+                82 LOAD_CONST               7 (<code object GenericSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py", line 28>)
+                84 MAKE_FUNCTION            0
+                86 LOAD_CONST               8 ('GenericSpanCapture')
+                88 LOAD_NAME                7 (LangchainCoreSpanCapture)
+                90 PRECALL                  3
+                94 CALL                     3
+               104 STORE_NAME              14 (GenericSpanCapture)
+               106 LOAD_CONST               9 (None)
+               108 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
+      ('Any', 'Dict')
       ('serialise_to_json',)
       ('LangchainCoreSpanCapture',)
       ('SpanAttributes', 'AgiflowServiceTypes', 'FrameworkSpanAttributesValidator')
       ('should_send_prompts',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 2
          flags     : 0
          code
             0x8700970065005a0164005a0288006601640184085a03640284005a0464
             0384005a05880078015a065300
                        0 MAKE_CELL                0 (__class__)
          
-          27           2 RESUME                   0
+          28           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
                        8 LOAD_CONST               0 ('GenericSpanCapture')
                       10 STORE_NAME               2 (__qualname__)
          
-          28          12 LOAD_CLOSURE             0 (__class__)
+          29          12 LOAD_CLOSURE             0 (__class__)
                       14 BUILD_TUPLE              1
-                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py", line 28>)
+                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py", line 29>)
                       18 MAKE_FUNCTION            8 (closure)
                       20 STORE_NAME               3 (__init__)
          
-          31          22 LOAD_CONST               2 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py", line 31>)
+          32          22 LOAD_CONST               2 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py", line 32>)
                       24 MAKE_FUNCTION            0
                       26 STORE_NAME               4 (capture_input)
          
-          53          28 LOAD_CONST               3 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py", line 53>)
+          54          28 LOAD_CONST               3 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py", line 54>)
                       30 MAKE_FUNCTION            0
                       32 STORE_NAME               5 (capture_output)
                       34 LOAD_CLOSURE             0 (__class__)
                       36 COPY                     1
                       38 STORE_NAME               6 (__classcell__)
                       40 RETURN_VALUE
          consts
@@ -107,17 +117,17 @@
                stacksize : 5
                flags     : 15
                code
                   0x950197000200740100000000000000000000a6000000ab000000000000
                   0000006a0100000000000000007c0169007c02a4018e01010064005300
                              0 COPY_FREE_VARS           1
                
-                28           2 RESUME                   0
+                29           2 RESUME                   0
                
-                29           4 PUSH_NULL
+                30           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
                             22 CALL                     0
                             32 LOAD_ATTR                1 (__init__)
                             42 LOAD_FAST                1 (args)
                             44 BUILD_MAP                0
                             46 LOAD_FAST                2 (kwargs)
@@ -130,15 +140,15 @@
                   None
                names      ('super', '__init__')
                varnames   ('self', 'args', 'kwargs')
                freevars   ('__class__',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py'
                name       '__init__'
-               firstlineno 28
+               firstlineno 29
                lnotab 0x0401
             code
                argcount  : 1
                nlocals   : 7
                stacksize : 6
                flags     : 3
                code
@@ -157,123 +167,123 @@
                   000000000072057c057c027c043c0000008c4a8c76740f00000000000000
                   0000007c03741a00000000000000000000a6020000ab0200000000000000
                   0072057c037c0264023c0000008c91741d000000000000000000007c02a6
                   010000ab0100000000000000007c017400000000000000000000006a0f00
                   000000000000003c0000007c00a010000000000000000000000000000000
                   00000000007c01742200000000000000000000a6020000ab020000000000
                   000000010064005300
-                31           0 RESUME                   0
+                32           0 RESUME                   0
                
-                33           2 LOAD_GLOBAL              0 (SpanAttributes)
+                34           2 LOAD_GLOBAL              0 (SpanAttributes)
                             14 LOAD_ATTR                1 (AGIFLOW_SERVICE_TYPE)
                             24 LOAD_GLOBAL              4 (AgiflowServiceTypes)
                             36 LOAD_ATTR                3 (FRAMEWORK)
                
-                32          46 BUILD_MAP                1
+                33          46 BUILD_MAP                1
                             48 STORE_FAST               1 (span_attributes)
                
-                36          50 LOAD_GLOBAL              9 (NULL + len)
+                37          50 LOAD_GLOBAL              9 (NULL + len)
                             62 LOAD_FAST                0 (self)
                             64 LOAD_ATTR                5 (fargs)
                             74 PRECALL                  1
                             78 CALL                     1
                             88 LOAD_CONST               1 (0)
                             90 COMPARE_OP               4 (>)
                             96 POP_JUMP_FORWARD_IF_FALSE   196 (to 490)
                             98 LOAD_GLOBAL             13 (NULL + should_send_prompts)
                            110 PRECALL                  0
                            114 CALL                     0
                            124 POP_JUMP_FORWARD_IF_FALSE   182 (to 490)
                
-                37         126 BUILD_MAP                0
+                38         126 BUILD_MAP                0
                            128 STORE_FAST               2 (inputs)
                
-                38         130 LOAD_FAST                0 (self)
+                39         130 LOAD_FAST                0 (self)
                            132 LOAD_ATTR                5 (fargs)
                            142 GET_ITER
                        >>  144 FOR_ITER               144 (to 434)
                            146 STORE_FAST               3 (arg)
                
-                39         148 LOAD_GLOBAL             15 (NULL + isinstance)
+                40         148 LOAD_GLOBAL             15 (NULL + isinstance)
                            160 LOAD_FAST                3 (arg)
                            162 LOAD_GLOBAL             16 (dict)
                            174 PRECALL                  2
                            178 CALL                     2
                            188 POP_JUMP_FORWARD_IF_FALSE    95 (to 380)
                
-                40         190 LOAD_FAST                3 (arg)
+                41         190 LOAD_FAST                3 (arg)
                            192 LOAD_METHOD              9 (items)
                            214 PRECALL                  0
                            218 CALL                     0
                            228 GET_ITER
                        >>  230 FOR_ITER                73 (to 378)
                            232 UNPACK_SEQUENCE          2
                            236 STORE_FAST               4 (key)
                            238 STORE_FAST               5 (value)
                
-                41         240 LOAD_GLOBAL             15 (NULL + isinstance)
+                42         240 LOAD_GLOBAL             15 (NULL + isinstance)
                            252 LOAD_FAST                5 (value)
                            254 LOAD_GLOBAL             20 (list)
                            266 PRECALL                  2
                            270 CALL                     2
                            280 POP_JUMP_FORWARD_IF_FALSE    21 (to 324)
                
-                42         282 LOAD_FAST                5 (value)
+                43         282 LOAD_FAST                5 (value)
                            284 GET_ITER
                        >>  286 FOR_ITER                17 (to 322)
                            288 STORE_FAST               6 (item)
                
-                43         290 LOAD_FAST                6 (item)
+                44         290 LOAD_FAST                6 (item)
                            292 LOAD_ATTR               11 (__class__)
                            302 LOAD_ATTR               12 (__name__)
                            312 LOAD_FAST                2 (inputs)
                            314 LOAD_FAST                4 (key)
                            316 STORE_SUBSCR
                            320 JUMP_BACKWARD           18 (to 286)
                
-                42     >>  322 JUMP_BACKWARD           47 (to 230)
+                43     >>  322 JUMP_BACKWARD           47 (to 230)
                
-                44     >>  324 LOAD_GLOBAL             15 (NULL + isinstance)
+                45     >>  324 LOAD_GLOBAL             15 (NULL + isinstance)
                            336 LOAD_FAST                5 (value)
                            338 LOAD_GLOBAL             26 (str)
                            350 PRECALL                  2
                            354 CALL                     2
                            364 POP_JUMP_FORWARD_IF_FALSE     5 (to 376)
                
-                45         366 LOAD_FAST                5 (value)
+                46         366 LOAD_FAST                5 (value)
                            368 LOAD_FAST                2 (inputs)
                            370 LOAD_FAST                4 (key)
                            372 STORE_SUBSCR
                        >>  376 JUMP_BACKWARD           74 (to 230)
                
-                40     >>  378 JUMP_BACKWARD          118 (to 144)
+                41     >>  378 JUMP_BACKWARD          118 (to 144)
                
-                46     >>  380 LOAD_GLOBAL             15 (NULL + isinstance)
+                47     >>  380 LOAD_GLOBAL             15 (NULL + isinstance)
                            392 LOAD_FAST                3 (arg)
                            394 LOAD_GLOBAL             26 (str)
                            406 PRECALL                  2
                            410 CALL                     2
                            420 POP_JUMP_FORWARD_IF_FALSE     5 (to 432)
                
-                47         422 LOAD_FAST                3 (arg)
+                48         422 LOAD_FAST                3 (arg)
                            424 LOAD_FAST                2 (inputs)
                            426 LOAD_CONST               2 ('input')
                            428 STORE_SUBSCR
                        >>  432 JUMP_BACKWARD          145 (to 144)
                
-                49     >>  434 LOAD_GLOBAL             29 (NULL + serialise_to_json)
+                50     >>  434 LOAD_GLOBAL             29 (NULL + serialise_to_json)
                            446 LOAD_FAST                2 (inputs)
                            448 PRECALL                  1
                            452 CALL                     1
                            462 LOAD_FAST                1 (span_attributes)
                            464 LOAD_GLOBAL              0 (SpanAttributes)
                            476 LOAD_ATTR               15 (AGIFLOW_ENTITY_INPUT)
                            486 STORE_SUBSCR
                
-                51     >>  490 LOAD_FAST                0 (self)
+                52     >>  490 LOAD_FAST                0 (self)
                            492 LOAD_METHOD             16 (set_span_attributes_from_pydantic)
                            514 LOAD_FAST                1 (span_attributes)
                            516 LOAD_GLOBAL             34 (FrameworkSpanAttributesValidator)
                            528 PRECALL                  2
                            532 CALL                     2
                            542 POP_TOP
                            544 LOAD_CONST               0 (None)
@@ -284,73 +294,73 @@
                   'input'
                names      ('SpanAttributes', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'FRAMEWORK', 'len', 'fargs', 'should_send_prompts', 'isinstance', 'dict', 'items', 'list', '__class__', '__name__', 'str', 'serialise_to_json', 'AGIFLOW_ENTITY_INPUT', 'set_span_attributes_from_pydantic', 'FrameworkSpanAttributesValidator')
                varnames   ('self', 'span_attributes', 'inputs', 'arg', 'key', 'value', 'item')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py'
                name       'capture_input'
-               firstlineno 31
+               firstlineno 32
                lnotab
                   0x02022cff04044c01040112012a0132012a01080120ff02022a010cfb02
                   062a010c023802
             code
                argcount  : 2
                nlocals   : 2
                stacksize : 6
                flags     : 3
                code
                   0x9700740100000000000000000000a6000000ab00000000000000000072
                   2f7c00a00100000000000000000000000000000000000000007404000000
                   000000000000006a0300000000000000007409000000000000000000007c
                   01a6010000ab010000000000000000a6020000ab02000000000000000001
                   006400530064005300
-                53           0 RESUME                   0
+                54           0 RESUME                   0
                
-                54           2 LOAD_GLOBAL              1 (NULL + should_send_prompts)
+                55           2 LOAD_GLOBAL              1 (NULL + should_send_prompts)
                             14 PRECALL                  0
                             18 CALL                     0
                             28 POP_JUMP_FORWARD_IF_FALSE    47 (to 124)
                
-                55          30 LOAD_FAST                0 (self)
+                56          30 LOAD_FAST                0 (self)
                             32 LOAD_METHOD              1 (set_span_attribute)
                             54 LOAD_GLOBAL              4 (SpanAttributes)
                             66 LOAD_ATTR                3 (AGIFLOW_ENTITY_OUTPUT)
                             76 LOAD_GLOBAL              9 (NULL + serialise_to_json)
                             88 LOAD_FAST                1 (result)
                             90 PRECALL                  1
                             94 CALL                     1
                            104 PRECALL                  2
                            108 CALL                     2
                            118 POP_TOP
                            120 LOAD_CONST               0 (None)
                            122 RETURN_VALUE
                
-                54     >>  124 LOAD_CONST               0 (None)
+                55     >>  124 LOAD_CONST               0 (None)
                            126 RETURN_VALUE
                consts
                   None
                names      ('should_send_prompts', 'set_span_attribute', 'SpanAttributes', 'AGIFLOW_ENTITY_OUTPUT', 'serialise_to_json')
                varnames   ('self', 'result')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py'
                name       'capture_output'
-               firstlineno 53
+               firstlineno 54
                lnotab 0x02011c015eff
          names      ('__name__', '__module__', '__qualname__', '__init__', 'capture_input', 'capture_output', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py'
          name       'GenericSpanCapture'
-         firstlineno 27
+         firstlineno 28
          lnotab 0x0c010a030616
       'GenericSpanCapture'
       None
-   names      ('__doc__', 'agiflow.utils', 'serialise_to_json', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks.base', 'LangchainCoreSpanCapture', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'FrameworkSpanAttributesValidator', 'agiflow.opentelemetry.utils', 'should_send_prompts', 'GenericSpanCapture')
+   names      ('__doc__', 'typing', 'Any', 'Dict', 'agiflow.utils', 'serialise_to_json', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks.base', 'LangchainCoreSpanCapture', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'FrameworkSpanAttributesValidator', 'agiflow.opentelemetry.utils', 'should_send_prompts', 'GenericSpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff020104100c010c0114050c03
+   lnotab 0x00ff0201041010010c010c0114050c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/llm.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/llm.cpython-311.pyc`

 * *Files 27% similar despite different names*

#### Python bytecode

```diff
@@ -1,20 +1,21 @@
 magic:    0xa70d0d0a
-moddate:  0xde335966 (Fri May 31 02:20:14 2024 UTC)
-files sz: 3201
+moddate:  0x9ed65b66 (Sun Jun  2 02:19:10 2024 UTC)
+files sz: 3178
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
       0x970064005a00640164026c015a01640164036c026d035a030100640164
       046c046d055a050100640164056c066d075a076d085a086d095a096d0a5a
-      0a6d0b5a0b6d0c5a0c6d0d5a0d0100640164066c0e6d0f5a0f0100020047
-      006407840064086505a6030000ab0300000000000000005a1064025300
+      0a6d0b5a0b6d0c5a0c0100640164066c0d6d0e5a0e0100020065016a0f00
+      000000000000006510a6010000ab0100000000000000005a110200470064
+      07840064086505a6030000ab0300000000000000005a1264025300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
                  8 LOAD_CONST               2 (None)
@@ -32,127 +33,123 @@
                 28 LOAD_CONST               4 (('LangchainCoreSpanCapture',))
                 30 IMPORT_NAME              4 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.base)
                 32 IMPORT_FROM              5 (LangchainCoreSpanCapture)
                 34 STORE_NAME               5 (LangchainCoreSpanCapture)
                 36 POP_TOP
    
     20          38 LOAD_CONST               1 (0)
-                40 LOAD_CONST               5 (('AgiflowSpanKindValues', 'SpanAttributes', 'AgiflowServiceTypes', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTypes', 'LLMSpanAttributesValidator'))
+                40 LOAD_CONST               5 (('SpanAttributes', 'AgiflowServiceTypes', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTypes', 'LLMSpanAttributesValidator'))
                 42 IMPORT_NAME              6 (agiflow.opentelemetry.convention)
-                44 IMPORT_FROM              7 (AgiflowSpanKindValues)
-                46 STORE_NAME               7 (AgiflowSpanKindValues)
-                48 IMPORT_FROM              8 (SpanAttributes)
-                50 STORE_NAME               8 (SpanAttributes)
-                52 IMPORT_FROM              9 (AgiflowServiceTypes)
-                54 STORE_NAME               9 (AgiflowServiceTypes)
-                56 IMPORT_FROM             10 (LLMPromptRoles)
-                58 STORE_NAME              10 (LLMPromptRoles)
-                60 IMPORT_FROM             11 (LLMResponseKeys)
-                62 STORE_NAME              11 (LLMResponseKeys)
-                64 IMPORT_FROM             12 (LLMTypes)
-                66 STORE_NAME              12 (LLMTypes)
-                68 IMPORT_FROM             13 (LLMSpanAttributesValidator)
-                70 STORE_NAME              13 (LLMSpanAttributesValidator)
-                72 POP_TOP
+                44 IMPORT_FROM              7 (SpanAttributes)
+                46 STORE_NAME               7 (SpanAttributes)
+                48 IMPORT_FROM              8 (AgiflowServiceTypes)
+                50 STORE_NAME               8 (AgiflowServiceTypes)
+                52 IMPORT_FROM              9 (LLMPromptRoles)
+                54 STORE_NAME               9 (LLMPromptRoles)
+                56 IMPORT_FROM             10 (LLMResponseKeys)
+                58 STORE_NAME              10 (LLMResponseKeys)
+                60 IMPORT_FROM             11 (LLMTypes)
+                62 STORE_NAME              11 (LLMTypes)
+                64 IMPORT_FROM             12 (LLMSpanAttributesValidator)
+                66 STORE_NAME              12 (LLMSpanAttributesValidator)
+                68 POP_TOP
    
-    29          74 LOAD_CONST               1 (0)
-                76 LOAD_CONST               6 (('should_send_prompts',))
-                78 IMPORT_NAME             14 (agiflow.opentelemetry.utils)
-                80 IMPORT_FROM             15 (should_send_prompts)
-                82 STORE_NAME              15 (should_send_prompts)
-                84 POP_TOP
+    28          70 LOAD_CONST               1 (0)
+                72 LOAD_CONST               6 (('should_send_prompts',))
+                74 IMPORT_NAME             13 (agiflow.opentelemetry.utils)
+                76 IMPORT_FROM             14 (should_send_prompts)
+                78 STORE_NAME              14 (should_send_prompts)
+                80 POP_TOP
    
-    32          86 PUSH_NULL
-                88 LOAD_BUILD_CLASS
-                90 LOAD_CONST               7 (<code object LLMSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 32>)
-                92 MAKE_FUNCTION            0
-                94 LOAD_CONST               8 ('LLMSpanCapture')
-                96 LOAD_NAME                5 (LangchainCoreSpanCapture)
-                98 PRECALL                  3
-               102 CALL                     3
-               112 STORE_NAME              16 (LLMSpanCapture)
-               114 LOAD_CONST               2 (None)
-               116 RETURN_VALUE
+    30          82 PUSH_NULL
+                84 LOAD_NAME                1 (logging)
+                86 LOAD_ATTR               15 (getLogger)
+                96 LOAD_NAME               16 (__name__)
+                98 PRECALL                  1
+               102 CALL                     1
+               112 STORE_NAME              17 (logger)
+   
+    33         114 PUSH_NULL
+               116 LOAD_BUILD_CLASS
+               118 LOAD_CONST               7 (<code object LLMSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 33>)
+               120 MAKE_FUNCTION            0
+               122 LOAD_CONST               8 ('LLMSpanCapture')
+               124 LOAD_NAME                5 (LangchainCoreSpanCapture)
+               126 PRECALL                  3
+               130 CALL                     3
+               140 STORE_NAME              18 (LLMSpanCapture)
+               142 LOAD_CONST               2 (None)
+               144 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
       None
       ('serialise_to_json',)
       ('LangchainCoreSpanCapture',)
-      ('AgiflowSpanKindValues', 'SpanAttributes', 'AgiflowServiceTypes', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTypes', 'LLMSpanAttributesValidator')
+      ('SpanAttributes', 'AgiflowServiceTypes', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTypes', 'LLMSpanAttributesValidator')
       ('should_send_prompts',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 2
          flags     : 0
          code
             0x8700970065005a0164005a0288006601640184085a03650464028400a6
-            000000ab0000000000000000005a05650464038400a6000000ab00000000
-            00000000005a06640484005a07640584005a08880078015a095300
+            000000ab0000000000000000005a05640384005a06640484005a07880078
+            015a085300
                        0 MAKE_CELL                0 (__class__)
          
-          32           2 RESUME                   0
+          33           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
                        8 LOAD_CONST               0 ('LLMSpanCapture')
                       10 STORE_NAME               2 (__qualname__)
          
-          33          12 LOAD_CLOSURE             0 (__class__)
+          34          12 LOAD_CLOSURE             0 (__class__)
                       14 BUILD_TUPLE              1
-                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 33>)
+                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 34>)
                       18 MAKE_FUNCTION            8 (closure)
                       20 STORE_NAME               3 (__init__)
          
-          36          22 LOAD_NAME                4 (staticmethod)
+          37          22 LOAD_NAME                4 (staticmethod)
          
-          37          24 LOAD_CONST               2 (<code object get_model, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 36>)
+          38          24 LOAD_CONST               2 (<code object get_model, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 37>)
                       26 MAKE_FUNCTION            0
          
-          36          28 PRECALL                  0
+          37          28 PRECALL                  0
                       32 CALL                     0
          
-          37          42 STORE_NAME               5 (get_model)
-         
-          49          44 LOAD_NAME                4 (staticmethod)
-         
-          50          46 LOAD_CONST               3 (<code object get_span_kind, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 49>)
-                      48 MAKE_FUNCTION            0
-         
-          49          50 PRECALL                  0
-                      54 CALL                     0
-         
-          50          64 STORE_NAME               6 (get_span_kind)
+          38          42 STORE_NAME               5 (get_model)
          
-          53          66 LOAD_CONST               4 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 53>)
-                      68 MAKE_FUNCTION            0
-                      70 STORE_NAME               7 (capture_input)
-         
-          80          72 LOAD_CONST               5 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 80>)
-                      74 MAKE_FUNCTION            0
-                      76 STORE_NAME               8 (capture_output)
-                      78 LOAD_CLOSURE             0 (__class__)
-                      80 COPY                     1
-                      82 STORE_NAME               9 (__classcell__)
-                      84 RETURN_VALUE
+          50          44 LOAD_CONST               3 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 50>)
+                      46 MAKE_FUNCTION            0
+                      48 STORE_NAME               6 (capture_input)
+         
+          79          50 LOAD_CONST               4 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py", line 79>)
+                      52 MAKE_FUNCTION            0
+                      54 STORE_NAME               7 (capture_output)
+                      56 LOAD_CLOSURE             0 (__class__)
+                      58 COPY                     1
+                      60 STORE_NAME               8 (__classcell__)
+                      62 RETURN_VALUE
          consts
             'LLMSpanCapture'
             code
                argcount  : 1
                nlocals   : 3
                stacksize : 5
                flags     : 15
                code
                   0x950197000200740100000000000000000000a6000000ab000000000000
                   0000006a0100000000000000007c0169007c02a4018e01010064005300
                              0 COPY_FREE_VARS           1
                
-                33           2 RESUME                   0
+                34           2 RESUME                   0
                
-                34           4 PUSH_NULL
+                35           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
                             22 CALL                     0
                             32 LOAD_ATTR                1 (__init__)
                             42 LOAD_FAST                1 (args)
                             44 BUILD_MAP                0
                             46 LOAD_FAST                2 (kwargs)
@@ -165,346 +162,321 @@
                   None
                names      ('super', '__init__')
                varnames   ('self', 'args', 'kwargs')
                freevars   ('__class__',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py'
                name       '__init__'
-               firstlineno 33
+               firstlineno 34
                lnotab 0x0401
             code
                argcount  : 1
                nlocals   : 2
                stacksize : 4
                flags     : 3
                code
                   0x97007401000000000000000000007c006401a6020000ab020000000000
                   00000072087c006a0100000000000000007d016e32740100000000000000
                   0000007c006402a6020000ab02000000000000000072087c006a02000000
                   00000000007d016e1a7401000000000000000000007c006403a6020000ab
                   02000000000000000072087c006a0300000000000000007d016e0264047d
                   017c015300
-                36           0 RESUME                   0
+                37           0 RESUME                   0
                
-                38           2 LOAD_GLOBAL              1 (NULL + hasattr)
+                39           2 LOAD_GLOBAL              1 (NULL + hasattr)
                             14 LOAD_FAST                0 (instance)
                             16 LOAD_CONST               1 ('model')
                             18 PRECALL                  2
                             22 CALL                     2
                             32 POP_JUMP_FORWARD_IF_FALSE     8 (to 50)
                
-                39          34 LOAD_FAST                0 (instance)
+                40          34 LOAD_FAST                0 (instance)
                             36 LOAD_ATTR                1 (model)
                             46 STORE_FAST               1 (model)
                             48 JUMP_FORWARD            50 (to 150)
                
-                40     >>   50 LOAD_GLOBAL              1 (NULL + hasattr)
+                41     >>   50 LOAD_GLOBAL              1 (NULL + hasattr)
                             62 LOAD_FAST                0 (instance)
                             64 LOAD_CONST               2 ('model_name')
                             66 PRECALL                  2
                             70 CALL                     2
                             80 POP_JUMP_FORWARD_IF_FALSE     8 (to 98)
                
-                41          82 LOAD_FAST                0 (instance)
+                42          82 LOAD_FAST                0 (instance)
                             84 LOAD_ATTR                2 (model_name)
                             94 STORE_FAST               1 (model)
                             96 JUMP_FORWARD            26 (to 150)
                
-                42     >>   98 LOAD_GLOBAL              1 (NULL + hasattr)
+                43     >>   98 LOAD_GLOBAL              1 (NULL + hasattr)
                            110 LOAD_FAST                0 (instance)
                            112 LOAD_CONST               3 ('model_id')
                            114 PRECALL                  2
                            118 CALL                     2
                            128 POP_JUMP_FORWARD_IF_FALSE     8 (to 146)
                
-                43         130 LOAD_FAST                0 (instance)
+                44         130 LOAD_FAST                0 (instance)
                            132 LOAD_ATTR                3 (model_id)
                            142 STORE_FAST               1 (model)
                            144 JUMP_FORWARD             2 (to 150)
                
-                45     >>  146 LOAD_CONST               4 ('unknown')
+                46     >>  146 LOAD_CONST               4 ('unknown')
                            148 STORE_FAST               1 (model)
                
-                47     >>  150 LOAD_FAST                1 (model)
+                48     >>  150 LOAD_FAST                1 (model)
                            152 RETURN_VALUE
                consts
                   None
                   'model'
                   'model_name'
                   'model_id'
                   'unknown'
                names      ('hasattr', 'model', 'model_name', 'model_id')
                varnames   ('instance', 'model')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py'
                name       'get_model'
-               firstlineno 36
+               firstlineno 37
                lnotab 0x02022001100120011001200110020402
             code
                argcount  : 1
-               nlocals   : 1
-               stacksize : 1
-               flags     : 3
-               code 0x97007400000000000000000000006a0100000000000000005300
-                49           0 RESUME                   0
-               
-                51           2 LOAD_GLOBAL              0 (AgiflowSpanKindValues)
-                            14 LOAD_ATTR                1 (LLM)
-                            24 RETURN_VALUE
-               consts
-                  None
-               names      ('AgiflowSpanKindValues', 'LLM')
-               varnames   ('instance',)
-               freevars   ()
-               cellvars   ()
-               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py'
-               name       'get_span_kind'
-               firstlineno 49
-               lnotab 0x0202
-            code
-               argcount  : 1
-               nlocals   : 7
+               nlocals   : 8
                stacksize : 10
                flags     : 3
                code
                   0x97007400000000000000000000006a0100000000000000006401740000
                   0000000000000000006a0200000000000000007c006a0300000000000000
                   006a0400000000000000006a050000000000000000740000000000000000
                   0000006a060000000000000000740e00000000000000000000a008000000
                   00000000000000000000000000000000007c006a030000000000000000a6
                   010000ab0100000000000000007400000000000000000000006a09000000
                   00000000007414000000000000000000006a0b0000000000000000740000
                   0000000000000000006a0c0000000000000000741a000000000000000000
                   006a0e000000000000000069057d01741f000000000000000000007c006a
-                  0300000000000000006402a6020000ab02000000000000000072d809007c
+                  0300000000000000006402a6020000ab02000000000000000072bc09007c
                   006a0300000000000000006a1000000000000000007d027c02a011000000
                   00000000000000000000000000000000006403a6010000ab010000000000
-                  000000a01100000000000000000000000000000000000000006404a60100
-                  00ab0100000000000000007c017400000000000000000000006a12000000
-                  00000000003c0000007c02a0110000000000000000000000000000000000
-                  0000006403a6010000ab010000000000000000a011000000000000000000
+                  0000007d037c0381667c03a0110000000000000000000000000000000000
+                  0000006404a6010000ab0100000000000000007c01740000000000000000
+                  0000006a1200000000000000003c0000007c03a011000000000000000000
                   00000000000000000000006405a6010000ab0100000000000000007c0174
-                  00000000000000000000006a1300000000000000003c0000007c02a01100
-                  000000000000000000000000000000000000006403a6010000ab01000000
-                  0000000000a01100000000000000000000000000000000000000006406a6
-                  010000ab0100000000000000007c017400000000000000000000006a1400
-                  000000000000003c0000006e2b2300742a00000000000000000000240072
-                  1e7d03742d000000000000000000006a1700000000000000007c03a60100
-                  00ab0100000000000000000100590064007d037e036e0864007d037e0377
-                  017700780359007701743100000000000000000000a6000000ab00000000
-                  0000000000726c7c006a1900000000000000006407190000000000000000
-                  00725f67007d047435000000000000000000007c006a1900000000000000
-                  00640719000000000000000000a6010000ab01000000000000000044005d
-                  265c0200007d057d067c04a01b0000000000000000000000000000000000
-                  0000007438000000000000000000006a1d00000000000000007c066901a6
-                  010000ab01000000000000000001008c27743d000000000000000000007c
-                  04a6010000ab0100000000000000007c017400000000000000000000006a
-                  1f00000000000000003c0000007c00a02000000000000000000000000000
-                  000000000000007c01744200000000000000000000a6020000ab02000000
-                  0000000000010064005300
-                53           0 RESUME                   0
+                  00000000000000000000006a1300000000000000003c0000007c03a01100
+                  000000000000000000000000000000000000006406a6010000ab01000000
+                  00000000007c017400000000000000000000006a1400000000000000003c
+                  0000006e312300742a00000000000000000000240072247d04742c000000
+                  00000000000000a01700000000000000000000000000000000000000007c
+                  04a6010000ab0100000000000000000100590064007d047e046e0864007d
+                  047e0477017700780359007701743100000000000000000000a6000000ab
+                  000000000000000000726c7c006a19000000000000000064071900000000
+                  0000000000725f67007d057435000000000000000000007c006a19000000
+                  0000000000640719000000000000000000a6010000ab0100000000000000
+                  0044005d265c0200007d067d077c05a01b00000000000000000000000000
+                  000000000000007438000000000000000000006a1d00000000000000007c
+                  076901a6010000ab01000000000000000001008c27743d00000000000000
+                  0000007c05a6010000ab0100000000000000007c01740000000000000000
+                  0000006a1f00000000000000003c0000007c00a020000000000000000000
+                  00000000000000000000007c01744200000000000000000000a6020000ab
+                  020000000000000000010064005300
+                50           0 RESUME                   0
                
-                55           2 LOAD_GLOBAL              0 (SpanAttributes)
+                52           2 LOAD_GLOBAL              0 (SpanAttributes)
                             14 LOAD_ATTR                1 (URL_FULL)
                             24 LOAD_CONST               1 ('')
                
-                56          26 LOAD_GLOBAL              0 (SpanAttributes)
+                53          26 LOAD_GLOBAL              0 (SpanAttributes)
                             38 LOAD_ATTR                2 (LLM_API)
                             48 LOAD_FAST                0 (self)
                             50 LOAD_ATTR                3 (instance)
                             60 LOAD_ATTR                4 (__class__)
                             70 LOAD_ATTR                5 (__name__)
                
-                57          80 LOAD_GLOBAL              0 (SpanAttributes)
+                54          80 LOAD_GLOBAL              0 (SpanAttributes)
                             92 LOAD_ATTR                6 (LLM_MODEL)
                            102 LOAD_GLOBAL             14 (LLMSpanCapture)
                            114 LOAD_METHOD              8 (get_model)
                            136 LOAD_FAST                0 (self)
                            138 LOAD_ATTR                3 (instance)
                            148 PRECALL                  1
                            152 CALL                     1
                
-                58         162 LOAD_GLOBAL              0 (SpanAttributes)
+                55         162 LOAD_GLOBAL              0 (SpanAttributes)
                            174 LOAD_ATTR                9 (AGIFLOW_SERVICE_TYPE)
                            184 LOAD_GLOBAL             20 (AgiflowServiceTypes)
                            196 LOAD_ATTR               11 (LLM)
                
-                59         206 LOAD_GLOBAL              0 (SpanAttributes)
+                56         206 LOAD_GLOBAL              0 (SpanAttributes)
                            218 LOAD_ATTR               12 (LLM_TYPE)
                            228 LOAD_GLOBAL             26 (LLMTypes)
                            240 LOAD_ATTR               14 (COMPLETION)
                
-                54         250 BUILD_MAP                5
+                51         250 BUILD_MAP                5
                            252 STORE_FAST               1 (span_attributes)
                
-                62         254 LOAD_GLOBAL             31 (NULL + hasattr)
+                59         254 LOAD_GLOBAL             31 (NULL + hasattr)
                            266 LOAD_FAST                0 (self)
                            268 LOAD_ATTR                3 (instance)
                            278 LOAD_CONST               2 ('_identifying_params')
                            280 PRECALL                  2
                            284 CALL                     2
-                           294 POP_JUMP_FORWARD_IF_FALSE   216 (to 728)
+                           294 POP_JUMP_FORWARD_IF_FALSE   188 (to 672)
                
-                63         296 NOP
+                60         296 NOP
                
-                64         298 LOAD_FAST                0 (self)
+                61         298 LOAD_FAST                0 (self)
                            300 LOAD_ATTR                3 (instance)
                            310 LOAD_ATTR               16 (_identifying_params)
                            320 STORE_FAST               2 (params)
                
-                65         322 LOAD_FAST                2 (params)
+                62         322 LOAD_FAST                2 (params)
                            324 LOAD_METHOD             17 (get)
                            346 LOAD_CONST               3 ('options')
                            348 PRECALL                  1
                            352 CALL                     1
-                           362 LOAD_METHOD             17 (get)
-                           384 LOAD_CONST               4 ('temperature')
-                           386 PRECALL                  1
-                           390 CALL                     1
-                           400 LOAD_FAST                1 (span_attributes)
-                           402 LOAD_GLOBAL              0 (SpanAttributes)
-                           414 LOAD_ATTR               18 (LLM_TEMPERATURE)
-                           424 STORE_SUBSCR
-               
-                66         428 LOAD_FAST                2 (params)
-                           430 LOAD_METHOD             17 (get)
-                           452 LOAD_CONST               3 ('options')
-                           454 PRECALL                  1
-                           458 CALL                     1
-                           468 LOAD_METHOD             17 (get)
-                           490 LOAD_CONST               5 ('top_p')
-                           492 PRECALL                  1
-                           496 CALL                     1
-                           506 LOAD_FAST                1 (span_attributes)
-                           508 LOAD_GLOBAL              0 (SpanAttributes)
-                           520 LOAD_ATTR               19 (LLM_TOP_P)
-                           530 STORE_SUBSCR
-               
-                67         534 LOAD_FAST                2 (params)
-                           536 LOAD_METHOD             17 (get)
-                           558 LOAD_CONST               3 ('options')
-                           560 PRECALL                  1
-                           564 CALL                     1
-                           574 LOAD_METHOD             17 (get)
-                           596 LOAD_CONST               6 ('top_k')
-                           598 PRECALL                  1
-                           602 CALL                     1
-                           612 LOAD_FAST                1 (span_attributes)
-                           614 LOAD_GLOBAL              0 (SpanAttributes)
-                           626 LOAD_ATTR               20 (LLM_TOP_K)
-                           636 STORE_SUBSCR
-                           640 JUMP_FORWARD            43 (to 728)
-                       >>  642 PUSH_EXC_INFO
-               
-                68         644 LOAD_GLOBAL             42 (Exception)
-                           656 CHECK_EXC_MATCH
-                           658 POP_JUMP_FORWARD_IF_FALSE    30 (to 720)
-                           660 STORE_FAST               3 (e)
-               
-                69         662 LOAD_GLOBAL             45 (NULL + logging)
-                           674 LOAD_ATTR               23 (error)
-                           684 LOAD_FAST                3 (e)
-                           686 PRECALL                  1
-                           690 CALL                     1
-                           700 POP_TOP
-                           702 POP_EXCEPT
-                           704 LOAD_CONST               0 (None)
-                           706 STORE_FAST               3 (e)
-                           708 DELETE_FAST              3 (e)
-                           710 JUMP_FORWARD             8 (to 728)
-                       >>  712 LOAD_CONST               0 (None)
-                           714 STORE_FAST               3 (e)
-                           716 DELETE_FAST              3 (e)
-                           718 RERAISE                  1
-               
-                68     >>  720 RERAISE                  0
-                       >>  722 COPY                     3
-                           724 POP_EXCEPT
-                           726 RERAISE                  1
-               
-                71     >>  728 LOAD_GLOBAL             49 (NULL + should_send_prompts)
-                           740 PRECALL                  0
-                           744 CALL                     0
-                           754 POP_JUMP_FORWARD_IF_FALSE   108 (to 972)
-                           756 LOAD_FAST                0 (self)
-                           758 LOAD_ATTR               25 (fargs)
-                           768 LOAD_CONST               7 (0)
-                           770 BINARY_SUBSCR
-                           780 POP_JUMP_FORWARD_IF_FALSE    95 (to 972)
-               
-                72         782 BUILD_LIST               0
-                           784 STORE_FAST               4 (prompts)
-               
-                73         786 LOAD_GLOBAL             53 (NULL + enumerate)
-                           798 LOAD_FAST                0 (self)
-                           800 LOAD_ATTR               25 (fargs)
-                           810 LOAD_CONST               7 (0)
-                           812 BINARY_SUBSCR
-                           822 PRECALL                  1
-                           826 CALL                     1
-                           836 GET_ITER
-                       >>  838 FOR_ITER                38 (to 916)
-                           840 UNPACK_SEQUENCE          2
-                           844 STORE_FAST               5 (idx)
-                           846 STORE_FAST               6 (prompt)
-               
-                74         848 LOAD_FAST                4 (prompts)
-                           850 LOAD_METHOD             27 (append)
-                           872 LOAD_GLOBAL             56 (LLMPromptRoles)
-                           884 LOAD_ATTR               29 (USER)
-                           894 LOAD_FAST                6 (prompt)
-                           896 BUILD_MAP                1
-                           898 PRECALL                  1
-                           902 CALL                     1
-                           912 POP_TOP
-                           914 JUMP_BACKWARD           39 (to 838)
-               
-                76     >>  916 LOAD_GLOBAL             61 (NULL + serialise_to_json)
-                           928 LOAD_FAST                4 (prompts)
-                           930 PRECALL                  1
-                           934 CALL                     1
-                           944 LOAD_FAST                1 (span_attributes)
-                           946 LOAD_GLOBAL              0 (SpanAttributes)
-                           958 LOAD_ATTR               31 (LLM_PROMPTS)
-                           968 STORE_SUBSCR
-               
-                78     >>  972 LOAD_FAST                0 (self)
-                           974 LOAD_METHOD             32 (set_span_attributes_from_pydantic)
-                           996 LOAD_FAST                1 (span_attributes)
-                           998 LOAD_GLOBAL             66 (LLMSpanAttributesValidator)
-                          1010 PRECALL                  2
-                          1014 CALL                     2
-                          1024 POP_TOP
-                          1026 LOAD_CONST               0 (None)
-                          1028 RETURN_VALUE
+                           362 STORE_FAST               3 (options)
+               
+                63         364 LOAD_FAST                3 (options)
+                           366 POP_JUMP_FORWARD_IF_NONE   102 (to 572)
+               
+                64         368 LOAD_FAST                3 (options)
+                           370 LOAD_METHOD             17 (get)
+                           392 LOAD_CONST               4 ('temperature')
+                           394 PRECALL                  1
+                           398 CALL                     1
+                           408 LOAD_FAST                1 (span_attributes)
+                           410 LOAD_GLOBAL              0 (SpanAttributes)
+                           422 LOAD_ATTR               18 (LLM_TEMPERATURE)
+                           432 STORE_SUBSCR
+               
+                65         436 LOAD_FAST                3 (options)
+                           438 LOAD_METHOD             17 (get)
+                           460 LOAD_CONST               5 ('top_p')
+                           462 PRECALL                  1
+                           466 CALL                     1
+                           476 LOAD_FAST                1 (span_attributes)
+                           478 LOAD_GLOBAL              0 (SpanAttributes)
+                           490 LOAD_ATTR               19 (LLM_TOP_P)
+                           500 STORE_SUBSCR
+               
+                66         504 LOAD_FAST                3 (options)
+                           506 LOAD_METHOD             17 (get)
+                           528 LOAD_CONST               6 ('top_k')
+                           530 PRECALL                  1
+                           534 CALL                     1
+                           544 LOAD_FAST                1 (span_attributes)
+                           546 LOAD_GLOBAL              0 (SpanAttributes)
+                           558 LOAD_ATTR               20 (LLM_TOP_K)
+                           568 STORE_SUBSCR
+                       >>  572 JUMP_FORWARD            49 (to 672)
+                       >>  574 PUSH_EXC_INFO
+               
+                67         576 LOAD_GLOBAL             42 (Exception)
+                           588 CHECK_EXC_MATCH
+                           590 POP_JUMP_FORWARD_IF_FALSE    36 (to 664)
+                           592 STORE_FAST               4 (e)
+               
+                68         594 LOAD_GLOBAL             44 (logger)
+                           606 LOAD_METHOD             23 (error)
+                           628 LOAD_FAST                4 (e)
+                           630 PRECALL                  1
+                           634 CALL                     1
+                           644 POP_TOP
+                           646 POP_EXCEPT
+                           648 LOAD_CONST               0 (None)
+                           650 STORE_FAST               4 (e)
+                           652 DELETE_FAST              4 (e)
+                           654 JUMP_FORWARD             8 (to 672)
+                       >>  656 LOAD_CONST               0 (None)
+                           658 STORE_FAST               4 (e)
+                           660 DELETE_FAST              4 (e)
+                           662 RERAISE                  1
+               
+                67     >>  664 RERAISE                  0
+                       >>  666 COPY                     3
+                           668 POP_EXCEPT
+                           670 RERAISE                  1
+               
+                70     >>  672 LOAD_GLOBAL             49 (NULL + should_send_prompts)
+                           684 PRECALL                  0
+                           688 CALL                     0
+                           698 POP_JUMP_FORWARD_IF_FALSE   108 (to 916)
+                           700 LOAD_FAST                0 (self)
+                           702 LOAD_ATTR               25 (fargs)
+                           712 LOAD_CONST               7 (0)
+                           714 BINARY_SUBSCR
+                           724 POP_JUMP_FORWARD_IF_FALSE    95 (to 916)
+               
+                71         726 BUILD_LIST               0
+                           728 STORE_FAST               5 (prompts)
+               
+                72         730 LOAD_GLOBAL             53 (NULL + enumerate)
+                           742 LOAD_FAST                0 (self)
+                           744 LOAD_ATTR               25 (fargs)
+                           754 LOAD_CONST               7 (0)
+                           756 BINARY_SUBSCR
+                           766 PRECALL                  1
+                           770 CALL                     1
+                           780 GET_ITER
+                       >>  782 FOR_ITER                38 (to 860)
+                           784 UNPACK_SEQUENCE          2
+                           788 STORE_FAST               6 (idx)
+                           790 STORE_FAST               7 (prompt)
+               
+                73         792 LOAD_FAST                5 (prompts)
+                           794 LOAD_METHOD             27 (append)
+                           816 LOAD_GLOBAL             56 (LLMPromptRoles)
+                           828 LOAD_ATTR               29 (USER)
+                           838 LOAD_FAST                7 (prompt)
+                           840 BUILD_MAP                1
+                           842 PRECALL                  1
+                           846 CALL                     1
+                           856 POP_TOP
+                           858 JUMP_BACKWARD           39 (to 782)
+               
+                75     >>  860 LOAD_GLOBAL             61 (NULL + serialise_to_json)
+                           872 LOAD_FAST                5 (prompts)
+                           874 PRECALL                  1
+                           878 CALL                     1
+                           888 LOAD_FAST                1 (span_attributes)
+                           890 LOAD_GLOBAL              0 (SpanAttributes)
+                           902 LOAD_ATTR               31 (LLM_PROMPTS)
+                           912 STORE_SUBSCR
+               
+                77     >>  916 LOAD_FAST                0 (self)
+                           918 LOAD_METHOD             32 (set_span_attributes_from_pydantic)
+                           940 LOAD_FAST                1 (span_attributes)
+                           942 LOAD_GLOBAL             66 (LLMSpanAttributesValidator)
+                           954 PRECALL                  2
+                           958 CALL                     2
+                           968 POP_TOP
+                           970 LOAD_CONST               0 (None)
+                           972 RETURN_VALUE
                ExceptionTable:
-                 298 to 638 -> 642 [0]
-                 642 to 660 -> 722 [1] lasti
-                 662 to 700 -> 712 [1] lasti
-                 712 to 720 -> 722 [1] lasti
+                 298 to 570 -> 574 [0]
+                 574 to 592 -> 666 [1] lasti
+                 594 to 644 -> 656 [1] lasti
+                 656 to 664 -> 666 [1] lasti
                consts
                   None
                   ''
                   '_identifying_params'
                   'options'
                   'temperature'
                   'top_p'
                   'top_k'
                   0
-               names      ('SpanAttributes', 'URL_FULL', 'LLM_API', 'instance', '__class__', '__name__', 'LLM_MODEL', 'LLMSpanCapture', 'get_model', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'LLM', 'LLM_TYPE', 'LLMTypes', 'COMPLETION', 'hasattr', '_identifying_params', 'get', 'LLM_TEMPERATURE', 'LLM_TOP_P', 'LLM_TOP_K', 'Exception', 'logging', 'error', 'should_send_prompts', 'fargs', 'enumerate', 'append', 'LLMPromptRoles', 'USER', 'serialise_to_json', 'LLM_PROMPTS', 'set_span_attributes_from_pydantic', 'LLMSpanAttributesValidator')
-               varnames   ('self', 'span_attributes', 'params', 'e', 'prompts', 'idx', 'prompt')
+               names      ('SpanAttributes', 'URL_FULL', 'LLM_API', 'instance', '__class__', '__name__', 'LLM_MODEL', 'LLMSpanCapture', 'get_model', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'LLM', 'LLM_TYPE', 'LLMTypes', 'COMPLETION', 'hasattr', '_identifying_params', 'get', 'LLM_TEMPERATURE', 'LLM_TOP_P', 'LLM_TOP_K', 'Exception', 'logger', 'error', 'should_send_prompts', 'fargs', 'enumerate', 'append', 'LLMPromptRoles', 'USER', 'serialise_to_json', 'LLM_PROMPTS', 'set_span_attributes_from_pydantic', 'LLMSpanAttributesValidator')
+               varnames   ('self', 'span_attributes', 'params', 'options', 'e', 'prompts', 'idx', 'prompt')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py'
                name       'capture_input'
-               firstlineno 53
+               firstlineno 50
                lnotab
-                  0x02021801360152012c012cfb04082a01020118016a016a016e0112013a
-                  ff0803360104013e0144023802
+                  0x02021801360152012c012cfb04082a01020118012a0104014401440148
+                  01120146ff0803360104013e0144023802
             code
                argcount  : 2
                nlocals   : 5
                stacksize : 6
                flags     : 3
                code
                   0x9700740100000000000000000000a6000000ab00000000000000000072
@@ -513,89 +485,89 @@
                   000000000000000000000000000000000000007408000000000000000000
                   006a0500000000000000007c046401190000000000000000006a06000000
                   00000000006901a6010000ab01000000000000000001008c327c00a00700
                   000000000000000000000000000000000000007410000000000000000000
                   006a0900000000000000007415000000000000000000007c02a6010000ab
                   010000000000000000a6020000ab02000000000000000001006400530064
                   005300
-                80           0 RESUME                   0
+                79           0 RESUME                   0
                
-                81           2 LOAD_GLOBAL              1 (NULL + should_send_prompts)
+                80           2 LOAD_GLOBAL              1 (NULL + should_send_prompts)
                             14 PRECALL                  0
                             18 CALL                     0
                             28 POP_JUMP_FORWARD_IF_FALSE   119 (to 268)
                
-                82          30 BUILD_LIST               0
+                81          30 BUILD_LIST               0
                             32 STORE_FAST               2 (responses)
                
-                83          34 LOAD_GLOBAL              3 (NULL + enumerate)
+                82          34 LOAD_GLOBAL              3 (NULL + enumerate)
                             46 LOAD_FAST                1 (result)
                             48 LOAD_ATTR                2 (generations)
                             58 PRECALL                  1
                             62 CALL                     1
                             72 GET_ITER
                        >>   74 FOR_ITER                49 (to 174)
                             76 UNPACK_SEQUENCE          2
                             80 STORE_FAST               3 (idx)
                             82 STORE_FAST               4 (generation)
                
-                84          84 LOAD_FAST                2 (responses)
+                83          84 LOAD_FAST                2 (responses)
                             86 LOAD_METHOD              3 (append)
                            108 LOAD_GLOBAL              8 (LLMResponseKeys)
                            120 LOAD_ATTR                5 (CONTENT)
                            130 LOAD_FAST                4 (generation)
                            132 LOAD_CONST               1 (0)
                            134 BINARY_SUBSCR
                            144 LOAD_ATTR                6 (text)
                            154 BUILD_MAP                1
                            156 PRECALL                  1
                            160 CALL                     1
                            170 POP_TOP
                            172 JUMP_BACKWARD           50 (to 74)
                
-                85     >>  174 LOAD_FAST                0 (self)
+                84     >>  174 LOAD_FAST                0 (self)
                            176 LOAD_METHOD              7 (set_span_attribute)
                
-                86         198 LOAD_GLOBAL             16 (SpanAttributes)
+                85         198 LOAD_GLOBAL             16 (SpanAttributes)
                            210 LOAD_ATTR                9 (LLM_RESPONSES)
                
-                87         220 LOAD_GLOBAL             21 (NULL + serialise_to_json)
+                86         220 LOAD_GLOBAL             21 (NULL + serialise_to_json)
                            232 LOAD_FAST                2 (responses)
                            234 PRECALL                  1
                            238 CALL                     1
                
-                85         248 PRECALL                  2
+                84         248 PRECALL                  2
                            252 CALL                     2
                            262 POP_TOP
                            264 LOAD_CONST               0 (None)
                            266 RETURN_VALUE
                
-                81     >>  268 LOAD_CONST               0 (None)
+                80     >>  268 LOAD_CONST               0 (None)
                            270 RETURN_VALUE
                consts
                   None
                   0
                names      ('should_send_prompts', 'enumerate', 'generations', 'append', 'LLMResponseKeys', 'CONTENT', 'text', 'set_span_attribute', 'SpanAttributes', 'LLM_RESPONSES', 'serialise_to_json')
                varnames   ('self', 'result', 'responses', 'idx', 'generation')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py'
                name       'capture_output'
-               firstlineno 80
+               firstlineno 79
                lnotab 0x02011c01040132015a01180116011cfe14fc
-         names      ('__name__', '__module__', '__qualname__', '__init__', 'staticmethod', 'get_model', 'get_span_kind', 'capture_input', 'capture_output', '__classcell__')
+         names      ('__name__', '__module__', '__qualname__', '__init__', 'staticmethod', 'get_model', 'capture_input', 'capture_output', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py'
          name       'LLMSpanCapture'
-         firstlineno 32
-         lnotab 0x0c010a03020104ff0e01020c020104ff0e010203061b
+         firstlineno 33
+         lnotab 0x0c010a03020104ff0e01020c061d
       'LLMSpanCapture'
-   names      ('__doc__', 'logging', 'agiflow.utils', 'serialise_to_json', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks.base', 'LangchainCoreSpanCapture', 'agiflow.opentelemetry.convention', 'AgiflowSpanKindValues', 'SpanAttributes', 'AgiflowServiceTypes', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTypes', 'LLMSpanAttributesValidator', 'agiflow.opentelemetry.utils', 'should_send_prompts', 'LLMSpanCapture')
+   names      ('__doc__', 'logging', 'agiflow.utils', 'serialise_to_json', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks.base', 'LangchainCoreSpanCapture', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'LLMPromptRoles', 'LLMResponseKeys', 'LLMTypes', 'LLMSpanAttributesValidator', 'agiflow.opentelemetry.utils', 'should_send_prompts', 'getLogger', '__name__', 'logger', 'LLMSpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff0201041008010c010c0124090c03
+   lnotab 0x00ff0201041008010c010c0120080c022003
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/runnable.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/__pycache__/runnable.cpython-311.pyc`

 * *Files 7% similar despite different names*

#### Python bytecode

```diff
@@ -1,102 +1,112 @@
 magic:    0xa70d0d0a
-moddate:  0xed245966 (Fri May 31 01:16:29 2024 UTC)
-files sz: 3205
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
+files sz: 3248
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
-      0x970064005a00640164026c016d025a020100640164036c036d045a0401
-      00640164046c056d065a066d075a076d085a080100640164056c096d0a5a
-      0a0100020047006406840064076504a6030000ab0300000000000000005a
-      0b64085300
+      0x970064005a00640164026c016d025a026d035a030100640164036c046d
+      055a050100640164046c066d075a070100640164056c086d095a096d0a5a
+      0a6d0b5a0b0100640164066c0c6d0d5a0d01000200470064078400640865
+      07a6030000ab0300000000000000005a0e64095300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
-                 8 LOAD_CONST               2 (('serialise_to_json',))
-                10 IMPORT_NAME              1 (agiflow.utils)
-                12 IMPORT_FROM              2 (serialise_to_json)
-                14 STORE_NAME               2 (serialise_to_json)
-                16 POP_TOP
+                 8 LOAD_CONST               2 (('Any', 'Dict'))
+                10 IMPORT_NAME              1 (typing)
+                12 IMPORT_FROM              2 (Any)
+                14 STORE_NAME               2 (Any)
+                16 IMPORT_FROM              3 (Dict)
+                18 STORE_NAME               3 (Dict)
+                20 POP_TOP
    
-    18          18 LOAD_CONST               1 (0)
-                20 LOAD_CONST               3 (('LangchainCoreSpanCapture',))
-                22 IMPORT_NAME              3 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.base)
-                24 IMPORT_FROM              4 (LangchainCoreSpanCapture)
-                26 STORE_NAME               4 (LangchainCoreSpanCapture)
-                28 POP_TOP
+    18          22 LOAD_CONST               1 (0)
+                24 LOAD_CONST               3 (('serialise_to_json',))
+                26 IMPORT_NAME              4 (agiflow.utils)
+                28 IMPORT_FROM              5 (serialise_to_json)
+                30 STORE_NAME               5 (serialise_to_json)
+                32 POP_TOP
    
-    19          30 LOAD_CONST               1 (0)
-                32 LOAD_CONST               4 (('SpanAttributes', 'AgiflowServiceTypes', 'FrameworkSpanAttributesValidator'))
-                34 IMPORT_NAME              5 (agiflow.opentelemetry.convention)
-                36 IMPORT_FROM              6 (SpanAttributes)
-                38 STORE_NAME               6 (SpanAttributes)
-                40 IMPORT_FROM              7 (AgiflowServiceTypes)
-                42 STORE_NAME               7 (AgiflowServiceTypes)
-                44 IMPORT_FROM              8 (FrameworkSpanAttributesValidator)
-                46 STORE_NAME               8 (FrameworkSpanAttributesValidator)
-                48 POP_TOP
+    19          34 LOAD_CONST               1 (0)
+                36 LOAD_CONST               4 (('LangchainCoreSpanCapture',))
+                38 IMPORT_NAME              6 (agiflow.opentelemetry.instrumentation.langchain_core.hooks.base)
+                40 IMPORT_FROM              7 (LangchainCoreSpanCapture)
+                42 STORE_NAME               7 (LangchainCoreSpanCapture)
+                44 POP_TOP
    
-    24          50 LOAD_CONST               1 (0)
-                52 LOAD_CONST               5 (('should_send_prompts',))
-                54 IMPORT_NAME              9 (agiflow.opentelemetry.utils)
-                56 IMPORT_FROM             10 (should_send_prompts)
-                58 STORE_NAME              10 (should_send_prompts)
-                60 POP_TOP
+    20          46 LOAD_CONST               1 (0)
+                48 LOAD_CONST               5 (('SpanAttributes', 'AgiflowServiceTypes', 'FrameworkSpanAttributesValidator'))
+                50 IMPORT_NAME              8 (agiflow.opentelemetry.convention)
+                52 IMPORT_FROM              9 (SpanAttributes)
+                54 STORE_NAME               9 (SpanAttributes)
+                56 IMPORT_FROM             10 (AgiflowServiceTypes)
+                58 STORE_NAME              10 (AgiflowServiceTypes)
+                60 IMPORT_FROM             11 (FrameworkSpanAttributesValidator)
+                62 STORE_NAME              11 (FrameworkSpanAttributesValidator)
+                64 POP_TOP
    
-    27          62 PUSH_NULL
-                64 LOAD_BUILD_CLASS
-                66 LOAD_CONST               6 (<code object RunnableSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py", line 27>)
-                68 MAKE_FUNCTION            0
-                70 LOAD_CONST               7 ('RunnableSpanCapture')
-                72 LOAD_NAME                4 (LangchainCoreSpanCapture)
-                74 PRECALL                  3
-                78 CALL                     3
-                88 STORE_NAME              11 (RunnableSpanCapture)
-                90 LOAD_CONST               8 (None)
-                92 RETURN_VALUE
+    25          66 LOAD_CONST               1 (0)
+                68 LOAD_CONST               6 (('should_send_prompts',))
+                70 IMPORT_NAME             12 (agiflow.opentelemetry.utils)
+                72 IMPORT_FROM             13 (should_send_prompts)
+                74 STORE_NAME              13 (should_send_prompts)
+                76 POP_TOP
+   
+    28          78 PUSH_NULL
+                80 LOAD_BUILD_CLASS
+                82 LOAD_CONST               7 (<code object RunnableSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py", line 28>)
+                84 MAKE_FUNCTION            0
+                86 LOAD_CONST               8 ('RunnableSpanCapture')
+                88 LOAD_NAME                7 (LangchainCoreSpanCapture)
+                90 PRECALL                  3
+                94 CALL                     3
+               104 STORE_NAME              14 (RunnableSpanCapture)
+               106 LOAD_CONST               9 (None)
+               108 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
+      ('Any', 'Dict')
       ('serialise_to_json',)
       ('LangchainCoreSpanCapture',)
       ('SpanAttributes', 'AgiflowServiceTypes', 'FrameworkSpanAttributesValidator')
       ('should_send_prompts',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 2
          flags     : 0
          code
             0x8700970065005a0164005a0288006601640184085a03640284005a0464
             0384005a05880078015a065300
                        0 MAKE_CELL                0 (__class__)
          
-          27           2 RESUME                   0
+          28           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
                        8 LOAD_CONST               0 ('RunnableSpanCapture')
                       10 STORE_NAME               2 (__qualname__)
          
-          28          12 LOAD_CLOSURE             0 (__class__)
+          29          12 LOAD_CLOSURE             0 (__class__)
                       14 BUILD_TUPLE              1
-                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py", line 28>)
+                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py", line 29>)
                       18 MAKE_FUNCTION            8 (closure)
                       20 STORE_NAME               3 (__init__)
          
-          31          22 LOAD_CONST               2 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py", line 31>)
+          32          22 LOAD_CONST               2 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py", line 32>)
                       24 MAKE_FUNCTION            0
                       26 STORE_NAME               4 (capture_input)
          
-          62          28 LOAD_CONST               3 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py", line 62>)
+          63          28 LOAD_CONST               3 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py", line 63>)
                       30 MAKE_FUNCTION            0
                       32 STORE_NAME               5 (capture_output)
                       34 LOAD_CLOSURE             0 (__class__)
                       36 COPY                     1
                       38 STORE_NAME               6 (__classcell__)
                       40 RETURN_VALUE
          consts
@@ -107,17 +117,17 @@
                stacksize : 5
                flags     : 15
                code
                   0x950197000200740100000000000000000000a6000000ab000000000000
                   0000006a0100000000000000007c0169007c02a4018e01010064005300
                              0 COPY_FREE_VARS           1
                
-                28           2 RESUME                   0
+                29           2 RESUME                   0
                
-                29           4 PUSH_NULL
+                30           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
                             22 CALL                     0
                             32 LOAD_ATTR                1 (__init__)
                             42 LOAD_FAST                1 (args)
                             44 BUILD_MAP                0
                             46 LOAD_FAST                2 (kwargs)
@@ -130,15 +140,15 @@
                   None
                names      ('super', '__init__')
                varnames   ('self', 'args', 'kwargs')
                freevars   ('__class__',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py'
                name       '__init__'
-               firstlineno 28
+               firstlineno 29
                lnotab 0x0401
             code
                argcount  : 1
                nlocals   : 8
                stacksize : 6
                flags     : 3
                code
@@ -164,172 +174,172 @@
                   00a0090000000000000000000000000000000000000000a6000000ab0000
                   000000000000006e01690044005d145c0200007d077d057c056a0b000000
                   00000000006a0c00000000000000007c027c073c0000008c157423000000
                   000000000000007c02a6010000ab0100000000000000007c017400000000
                   000000000000006a1200000000000000003c0000007c00a0130000000000
                   0000000000000000000000000000007c01742800000000000000000000a6
                   020000ab020000000000000000010064005300
-                31           0 RESUME                   0
+                32           0 RESUME                   0
                
-                33           2 LOAD_GLOBAL              0 (SpanAttributes)
+                34           2 LOAD_GLOBAL              0 (SpanAttributes)
                             14 LOAD_ATTR                1 (AGIFLOW_SERVICE_TYPE)
                             24 LOAD_GLOBAL              4 (AgiflowServiceTypes)
                             36 LOAD_ATTR                3 (FRAMEWORK)
                
-                32          46 BUILD_MAP                1
+                33          46 BUILD_MAP                1
                             48 STORE_FAST               1 (span_attributes)
                
-                36          50 LOAD_GLOBAL              9 (NULL + should_send_prompts)
+                37          50 LOAD_GLOBAL              9 (NULL + should_send_prompts)
                             62 PRECALL                  0
                             66 CALL                     0
                             76 LOAD_CONST               1 (True)
                             78 IS_OP                    0
                             80 EXTENDED_ARG             1
                             82 POP_JUMP_FORWARD_IF_FALSE   313 (to 710)
                
-                37          84 BUILD_MAP                0
+                38          84 BUILD_MAP                0
                             86 STORE_FAST               2 (inputs)
                
-                38          88 BUILD_MAP                0
+                39          88 BUILD_MAP                0
                             90 STORE_FAST               2 (inputs)
                
-                39          92 LOAD_GLOBAL             11 (NULL + len)
+                40          92 LOAD_GLOBAL             11 (NULL + len)
                            104 LOAD_FAST                0 (self)
                            106 LOAD_ATTR                6 (fargs)
                            116 PRECALL                  1
                            120 CALL                     1
                            130 LOAD_CONST               2 (0)
                            132 COMPARE_OP               4 (>)
                            138 POP_JUMP_FORWARD_IF_FALSE   152 (to 444)
                
-                40         140 LOAD_FAST                0 (self)
+                41         140 LOAD_FAST                0 (self)
                            142 LOAD_ATTR                6 (fargs)
                            152 GET_ITER
                        >>  154 FOR_ITER               144 (to 444)
                            156 STORE_FAST               3 (arg)
                
-                41         158 LOAD_GLOBAL             15 (NULL + isinstance)
+                42         158 LOAD_GLOBAL             15 (NULL + isinstance)
                            170 LOAD_FAST                3 (arg)
                            172 LOAD_GLOBAL             16 (dict)
                            184 PRECALL                  2
                            188 CALL                     2
                            198 POP_JUMP_FORWARD_IF_FALSE    95 (to 390)
                
-                42         200 LOAD_FAST                3 (arg)
+                43         200 LOAD_FAST                3 (arg)
                            202 LOAD_METHOD              9 (items)
                            224 PRECALL                  0
                            228 CALL                     0
                            238 GET_ITER
                        >>  240 FOR_ITER                73 (to 388)
                            242 UNPACK_SEQUENCE          2
                            246 STORE_FAST               4 (key)
                            248 STORE_FAST               5 (value)
                
-                43         250 LOAD_GLOBAL             15 (NULL + isinstance)
+                44         250 LOAD_GLOBAL             15 (NULL + isinstance)
                            262 LOAD_FAST                5 (value)
                            264 LOAD_GLOBAL             20 (list)
                            276 PRECALL                  2
                            280 CALL                     2
                            290 POP_JUMP_FORWARD_IF_FALSE    21 (to 334)
                
-                44         292 LOAD_FAST                5 (value)
+                45         292 LOAD_FAST                5 (value)
                            294 GET_ITER
                        >>  296 FOR_ITER                17 (to 332)
                            298 STORE_FAST               6 (item)
                
-                45         300 LOAD_FAST                6 (item)
+                46         300 LOAD_FAST                6 (item)
                            302 LOAD_ATTR               11 (__class__)
                            312 LOAD_ATTR               12 (__name__)
                            322 LOAD_FAST                2 (inputs)
                            324 LOAD_FAST                4 (key)
                            326 STORE_SUBSCR
                            330 JUMP_BACKWARD           18 (to 296)
                
-                44     >>  332 JUMP_BACKWARD           47 (to 240)
+                45     >>  332 JUMP_BACKWARD           47 (to 240)
                
-                46     >>  334 LOAD_GLOBAL             15 (NULL + isinstance)
+                47     >>  334 LOAD_GLOBAL             15 (NULL + isinstance)
                            346 LOAD_FAST                5 (value)
                            348 LOAD_GLOBAL             26 (str)
                            360 PRECALL                  2
                            364 CALL                     2
                            374 POP_JUMP_FORWARD_IF_FALSE     5 (to 386)
                
-                47         376 LOAD_FAST                5 (value)
+                48         376 LOAD_FAST                5 (value)
                            378 LOAD_FAST                2 (inputs)
                            380 LOAD_FAST                4 (key)
                            382 STORE_SUBSCR
                        >>  386 JUMP_BACKWARD           74 (to 240)
                
-                42     >>  388 JUMP_BACKWARD          118 (to 154)
+                43     >>  388 JUMP_BACKWARD          118 (to 154)
                
-                48     >>  390 LOAD_GLOBAL             15 (NULL + isinstance)
+                49     >>  390 LOAD_GLOBAL             15 (NULL + isinstance)
                            402 LOAD_FAST                3 (arg)
                            404 LOAD_GLOBAL             26 (str)
                            416 PRECALL                  2
                            420 CALL                     2
                            430 POP_JUMP_FORWARD_IF_FALSE     5 (to 442)
                
-                49         432 LOAD_FAST                3 (arg)
+                50         432 LOAD_FAST                3 (arg)
                            434 LOAD_FAST                2 (inputs)
                            436 LOAD_CONST               3 ('input')
                            438 STORE_SUBSCR
                        >>  442 JUMP_BACKWARD          145 (to 154)
                
-                53     >>  444 LOAD_GLOBAL             29 (NULL + hasattr)
+                54     >>  444 LOAD_GLOBAL             29 (NULL + hasattr)
                            456 LOAD_FAST                0 (self)
                            458 LOAD_ATTR               15 (instance)
                            468 LOAD_CONST               4 ('steps')
                            470 PRECALL                  2
                            474 CALL                     2
                
-                52         484 POP_JUMP_FORWARD_IF_FALSE    61 (to 608)
+                53         484 POP_JUMP_FORWARD_IF_FALSE    61 (to 608)
                
-                53         486 LOAD_GLOBAL             15 (NULL + isinstance)
+                54         486 LOAD_GLOBAL             15 (NULL + isinstance)
                            498 LOAD_FAST                0 (self)
                            500 LOAD_ATTR               15 (instance)
                            510 LOAD_ATTR               16 (steps)
                            520 LOAD_GLOBAL             16 (dict)
                            532 PRECALL                  2
                            536 CALL                     2
                
-                52         546 POP_JUMP_FORWARD_IF_FALSE    30 (to 608)
+                53         546 POP_JUMP_FORWARD_IF_FALSE    30 (to 608)
                            548 LOAD_FAST                0 (self)
                            550 LOAD_ATTR               15 (instance)
                            560 LOAD_ATTR               16 (steps)
                            570 LOAD_METHOD              9 (items)
                            592 PRECALL                  0
                            596 CALL                     0
                            606 JUMP_FORWARD             1 (to 610)
                
-                54     >>  608 BUILD_MAP                0
+                55     >>  608 BUILD_MAP                0
                
-                51     >>  610 GET_ITER
+                52     >>  610 GET_ITER
                        >>  612 FOR_ITER                20 (to 654)
                            614 UNPACK_SEQUENCE          2
                            618 STORE_FAST               7 (field)
                            620 STORE_FAST               5 (value)
                
-                56         622 LOAD_FAST                5 (value)
+                57         622 LOAD_FAST                5 (value)
                            624 LOAD_ATTR               11 (__class__)
                            634 LOAD_ATTR               12 (__name__)
                            644 LOAD_FAST                2 (inputs)
                            646 LOAD_FAST                7 (field)
                            648 STORE_SUBSCR
                            652 JUMP_BACKWARD           21 (to 612)
                
-                58     >>  654 LOAD_GLOBAL             35 (NULL + serialise_to_json)
+                59     >>  654 LOAD_GLOBAL             35 (NULL + serialise_to_json)
                            666 LOAD_FAST                2 (inputs)
                            668 PRECALL                  1
                            672 CALL                     1
                            682 LOAD_FAST                1 (span_attributes)
                            684 LOAD_GLOBAL              0 (SpanAttributes)
                            696 LOAD_ATTR               18 (AGIFLOW_ENTITY_INPUT)
                            706 STORE_SUBSCR
                
-                60     >>  710 LOAD_FAST                0 (self)
+                61     >>  710 LOAD_FAST                0 (self)
                            712 LOAD_METHOD             19 (set_span_attributes_from_pydantic)
                            734 LOAD_FAST                1 (span_attributes)
                            736 LOAD_GLOBAL             40 (FrameworkSpanAttributesValidator)
                            748 PRECALL                  2
                            752 CALL                     2
                            762 POP_TOP
                            764 LOAD_CONST               0 (None)
@@ -342,15 +352,15 @@
                   'steps'
                names      ('SpanAttributes', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'FRAMEWORK', 'should_send_prompts', 'len', 'fargs', 'isinstance', 'dict', 'items', 'list', '__class__', '__name__', 'str', 'hasattr', 'instance', 'steps', 'serialise_to_json', 'AGIFLOW_ENTITY_INPUT', 'set_span_attributes_from_pydantic', 'FrameworkSpanAttributesValidator')
                varnames   ('self', 'span_attributes', 'inputs', 'arg', 'key', 'value', 'item', 'field')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py'
                name       'capture_input'
-               firstlineno 31
+               firstlineno 32
                lnotab
                   0x02022cff0404220104010401300112012a0132012a01080120ff02022a
                   010cfb02062a010c0428ff02013cff3e0202fd0c0520023802
             code
                argcount  : 2
                nlocals   : 6
                stacksize : 6
@@ -371,157 +381,157 @@
                   0000000000000000007414000000000000000000006a0b00000000000000
                   007419000000000000000000007c02a6010000ab010000000000000000a6
                   020000ab02000000000000000001007403000000000000000000007c0174
                   1000000000000000000000a6020000ab02000000000000000072247c00a0
                   090000000000000000000000000000000000000000741400000000000000
                   0000006a0b00000000000000007c01a6020000ab02000000000000000001
                   00640053006400530064005300
-                62           0 RESUME                   0
+                63           0 RESUME                   0
                
-                63           2 LOAD_GLOBAL              1 (NULL + should_send_prompts)
+                64           2 LOAD_GLOBAL              1 (NULL + should_send_prompts)
                             14 PRECALL                  0
                             18 CALL                     0
                             28 EXTENDED_ARG             1
                             30 POP_JUMP_FORWARD_IF_FALSE   256 (to 544)
                
-                64          32 BUILD_MAP                0
+                65          32 BUILD_MAP                0
                             34 STORE_FAST               2 (outputs)
                
-                65          36 LOAD_GLOBAL              3 (NULL + isinstance)
+                66          36 LOAD_GLOBAL              3 (NULL + isinstance)
                             48 LOAD_FAST                1 (result)
                             50 LOAD_GLOBAL              4 (dict)
                             62 PRECALL                  2
                             66 CALL                     2
                             76 POP_JUMP_FORWARD_IF_FALSE   133 (to 344)
                
-                67          78 LOAD_GLOBAL              7 (NULL + hasattr)
+                68          78 LOAD_GLOBAL              7 (NULL + hasattr)
                             90 LOAD_FAST                1 (result)
                             92 LOAD_CONST               1 ('items')
                             94 PRECALL                  2
                             98 CALL                     2
                            108 POP_JUMP_FORWARD_IF_FALSE    20 (to 150)
                            110 LOAD_FAST                1 (result)
                            112 LOAD_METHOD              4 (items)
                            134 PRECALL                  0
                            138 CALL                     0
                            148 JUMP_FORWARD             1 (to 152)
                        >>  150 BUILD_MAP                0
                
-                66     >>  152 GET_ITER
+                67     >>  152 GET_ITER
                        >>  154 FOR_ITER                94 (to 344)
                            156 UNPACK_SEQUENCE          2
                            160 STORE_FAST               3 (field)
                            162 STORE_FAST               4 (value)
                
-                69         164 LOAD_GLOBAL              3 (NULL + isinstance)
+                70         164 LOAD_GLOBAL              3 (NULL + isinstance)
                            176 LOAD_FAST                4 (value)
                            178 LOAD_GLOBAL             10 (list)
                            190 PRECALL                  2
                            194 CALL                     2
                            204 POP_JUMP_FORWARD_IF_FALSE    42 (to 290)
                
-                70         206 LOAD_FAST                4 (value)
+                71         206 LOAD_FAST                4 (value)
                            208 GET_ITER
                        >>  210 FOR_ITER                39 (to 290)
                            212 STORE_FAST               5 (item)
                
-                71         214 LOAD_FAST                5 (item)
+                72         214 LOAD_FAST                5 (item)
                            216 LOAD_ATTR                6 (__class__)
                            226 LOAD_ATTR                7 (__name__)
                            236 LOAD_CONST               2 ('Document')
                            238 COMPARE_OP               2 (==)
                            244 POP_JUMP_FORWARD_IF_FALSE     6 (to 258)
                
-                72         246 LOAD_CONST               2 ('Document')
+                73         246 LOAD_CONST               2 ('Document')
                            248 LOAD_FAST                2 (outputs)
                            250 LOAD_FAST                3 (field)
                            252 STORE_SUBSCR
                            256 JUMP_BACKWARD           24 (to 210)
                
-                74     >>  258 LOAD_FAST                5 (item)
+                75     >>  258 LOAD_FAST                5 (item)
                            260 LOAD_ATTR                6 (__class__)
                            270 LOAD_ATTR                7 (__name__)
                            280 LOAD_FAST                2 (outputs)
                            282 LOAD_FAST                3 (field)
                            284 STORE_SUBSCR
                            288 JUMP_BACKWARD           40 (to 210)
                
-                75     >>  290 LOAD_GLOBAL              3 (NULL + isinstance)
+                76     >>  290 LOAD_GLOBAL              3 (NULL + isinstance)
                            302 LOAD_FAST                4 (value)
                            304 LOAD_GLOBAL             16 (str)
                            316 PRECALL                  2
                            320 CALL                     2
                            330 POP_JUMP_FORWARD_IF_FALSE     5 (to 342)
                
-                76         332 LOAD_FAST                4 (value)
+                77         332 LOAD_FAST                4 (value)
                            334 LOAD_FAST                2 (outputs)
                            336 LOAD_FAST                3 (field)
                            338 STORE_SUBSCR
                        >>  342 JUMP_BACKWARD           95 (to 154)
                
-                77     >>  344 LOAD_FAST                0 (self)
+                78     >>  344 LOAD_FAST                0 (self)
                            346 LOAD_METHOD              9 (set_span_attribute)
                            368 LOAD_GLOBAL             20 (SpanAttributes)
                            380 LOAD_ATTR               11 (AGIFLOW_ENTITY_OUTPUT)
                            390 LOAD_GLOBAL             25 (NULL + serialise_to_json)
                            402 LOAD_FAST                2 (outputs)
                            404 PRECALL                  1
                            408 CALL                     1
                            418 PRECALL                  2
                            422 CALL                     2
                            432 POP_TOP
                
-                78         434 LOAD_GLOBAL              3 (NULL + isinstance)
+                79         434 LOAD_GLOBAL              3 (NULL + isinstance)
                            446 LOAD_FAST                1 (result)
                            448 LOAD_GLOBAL             16 (str)
                            460 PRECALL                  2
                            464 CALL                     2
                            474 POP_JUMP_FORWARD_IF_FALSE    36 (to 548)
                
-                79         476 LOAD_FAST                0 (self)
+                80         476 LOAD_FAST                0 (self)
                            478 LOAD_METHOD              9 (set_span_attribute)
                            500 LOAD_GLOBAL             20 (SpanAttributes)
                            512 LOAD_ATTR               11 (AGIFLOW_ENTITY_OUTPUT)
                            522 LOAD_FAST                1 (result)
                            524 PRECALL                  2
                            528 CALL                     2
                            538 POP_TOP
                            540 LOAD_CONST               0 (None)
                            542 RETURN_VALUE
                
-                63     >>  544 LOAD_CONST               0 (None)
+                64     >>  544 LOAD_CONST               0 (None)
                            546 RETURN_VALUE
                
-                78     >>  548 LOAD_CONST               0 (None)
+                79     >>  548 LOAD_CONST               0 (None)
                            550 RETURN_VALUE
                consts
                   None
                   'items'
                   'Document'
                names      ('should_send_prompts', 'isinstance', 'dict', 'hasattr', 'items', 'list', '__class__', '__name__', 'str', 'set_span_attribute', 'SpanAttributes', 'AGIFLOW_ENTITY_OUTPUT', 'serialise_to_json')
                varnames   ('self', 'result', 'outputs', 'field', 'value', 'item')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py'
                name       'capture_output'
-               firstlineno 62
+               firstlineno 63
                lnotab
                   0x02011e0104012a024aff0c032a01080120010c0220012a010c015a012a
                   0144f0040f
          names      ('__name__', '__module__', '__qualname__', '__init__', 'capture_input', 'capture_output', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py'
          name       'RunnableSpanCapture'
-         firstlineno 27
+         firstlineno 28
          lnotab 0x0c010a03061f
       'RunnableSpanCapture'
       None
-   names      ('__doc__', 'agiflow.utils', 'serialise_to_json', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks.base', 'LangchainCoreSpanCapture', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'FrameworkSpanAttributesValidator', 'agiflow.opentelemetry.utils', 'should_send_prompts', 'RunnableSpanCapture')
+   names      ('__doc__', 'typing', 'Any', 'Dict', 'agiflow.utils', 'serialise_to_json', 'agiflow.opentelemetry.instrumentation.langchain_core.hooks.base', 'LangchainCoreSpanCapture', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'AgiflowServiceTypes', 'FrameworkSpanAttributesValidator', 'agiflow.opentelemetry.utils', 'should_send_prompts', 'RunnableSpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff020104100c010c0114050c03
+   lnotab 0x00ff0201041010010c010c0114050c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/base.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/base.py`

 * *Files 9% similar despite different names*

```diff
@@ -12,14 +12,15 @@
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
 import importlib.metadata
 from agiflow.opentelemetry.convention import SpanAttributes
+from agiflow.opentelemetry.convention.constants import AgiflowServiceTypes
 from agiflow.opentelemetry.instrumentation.constants.common import (
     SERVICE_PROVIDERS,
 )
 from agiflow.opentelemetry.instrumentation.utils import BaseSpanCapture
 
 
 class LangchainCoreSpanCapture(BaseSpanCapture):
@@ -34,8 +35,9 @@
         super().__init__(*args, **kwargs)
         self.task = task
         service_provider = SERVICE_PROVIDERS["LANGCHAIN_CORE"]
         self.set_pydantic_attributes({
             SpanAttributes.AGIFLOW_SERVICE_NAME: service_provider,
             SpanAttributes.AGIFLOW_SERVICE_VERSION: importlib.metadata.version("langchain-core"),
             SpanAttributes.AGIFLOW_ENTITY_NAME: self.task,
+            SpanAttributes.AGIFLOW_SERVICE_TYPE: AgiflowServiceTypes.FRAMEWORK,
         })
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/generic.py`

 * *Files 5% similar despite different names*

```diff
@@ -10,14 +10,15 @@
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
+from typing import Any, Dict
 from agiflow.utils import serialise_to_json
 from agiflow.opentelemetry.instrumentation.langchain_core.hooks.base import LangchainCoreSpanCapture
 from agiflow.opentelemetry.convention import (
   SpanAttributes,
   AgiflowServiceTypes,
   FrameworkSpanAttributesValidator
 )
@@ -25,15 +26,15 @@
 
 
 class GenericSpanCapture(LangchainCoreSpanCapture):
     def __init__(self, *args, **kwargs):
         super().__init__(*args, **kwargs)
 
     def capture_input(self):
-        span_attributes = {
+        span_attributes: Dict[str, Any] = {
           SpanAttributes.AGIFLOW_SERVICE_TYPE: AgiflowServiceTypes.FRAMEWORK,
         }
 
         if len(self.fargs) > 0 and should_send_prompts():
             inputs = {}
             for arg in self.fargs:
                 if isinstance(arg, dict):
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/llm.py`

 * *Files 7% similar despite different names*

```diff
@@ -14,24 +14,25 @@
 limitations under the License.
 """
 
 import logging
 from agiflow.utils import serialise_to_json
 from agiflow.opentelemetry.instrumentation.langchain_core.hooks.base import LangchainCoreSpanCapture
 from agiflow.opentelemetry.convention import (
-  AgiflowSpanKindValues,
   SpanAttributes,
   AgiflowServiceTypes,
   LLMPromptRoles,
   LLMResponseKeys,
   LLMTypes,
   LLMSpanAttributesValidator
 )
 from agiflow.opentelemetry.utils import should_send_prompts
 
+logger = logging.getLogger(__name__)
+
 
 class LLMSpanCapture(LangchainCoreSpanCapture):
     def __init__(self, *args, **kwargs):
         super().__init__(*args, **kwargs)
 
     @staticmethod
     def get_model(instance):
@@ -42,35 +43,33 @@
         elif hasattr(instance, "model_id"):
             model = instance.model_id
         else:
             model = "unknown"
 
         return model
 
-    @staticmethod
-    def get_span_kind(instance):
-        return AgiflowSpanKindValues.LLM
-
     def capture_input(self):
         span_attributes = {
           SpanAttributes.URL_FULL: "",
           SpanAttributes.LLM_API: self.instance.__class__.__name__,
           SpanAttributes.LLM_MODEL: LLMSpanCapture.get_model(self.instance),
           SpanAttributes.AGIFLOW_SERVICE_TYPE: AgiflowServiceTypes.LLM,
           SpanAttributes.LLM_TYPE: LLMTypes.COMPLETION,
         }
 
         if hasattr(self.instance, "_identifying_params"):
             try:
                 params = self.instance._identifying_params
-                span_attributes[SpanAttributes.LLM_TEMPERATURE] = params.get("options").get("temperature")
-                span_attributes[SpanAttributes.LLM_TOP_P] = params.get("options").get("top_p")
-                span_attributes[SpanAttributes.LLM_TOP_K] = params.get("options").get("top_k")
+                options = params.get("options")
+                if options is not None:
+                    span_attributes[SpanAttributes.LLM_TEMPERATURE] = options.get("temperature")
+                    span_attributes[SpanAttributes.LLM_TOP_P] = options.get("top_p")
+                    span_attributes[SpanAttributes.LLM_TOP_K] = options.get("top_k")
             except Exception as e:
-                logging.error(e)
+                logger.error(e)
 
         if should_send_prompts() and self.fargs[0]:
             prompts = []
             for idx, prompt in enumerate(self.fargs[0]):
                 prompts.append({LLMPromptRoles.USER: prompt})
 
             span_attributes[SpanAttributes.LLM_PROMPTS] = serialise_to_json(prompts)
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/hooks/runnable.py`

 * *Files 4% similar despite different names*

```diff
@@ -10,14 +10,15 @@
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
+from typing import Any, Dict
 from agiflow.utils import serialise_to_json
 from agiflow.opentelemetry.instrumentation.langchain_core.hooks.base import LangchainCoreSpanCapture
 from agiflow.opentelemetry.convention import (
   SpanAttributes,
   AgiflowServiceTypes,
   FrameworkSpanAttributesValidator
 )
@@ -25,17 +26,17 @@
 
 
 class RunnableSpanCapture(LangchainCoreSpanCapture):
     def __init__(self, *args, **kwargs):
         super().__init__(*args, **kwargs)
 
     def capture_input(self):
-        span_attributes = {
+        span_attributes: Dict[str, Any] = {
           SpanAttributes.AGIFLOW_SERVICE_TYPE: AgiflowServiceTypes.FRAMEWORK,
-          }
+        }
 
         if should_send_prompts() is True:
             inputs = {}
             inputs = {}
             if len(self.fargs) > 0:
                 for arg in self.fargs:
                     if isinstance(arg, dict):
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/langchain_core/instrumentation.py`

 * *Files 10% similar despite different names*

```diff
@@ -10,15 +10,14 @@
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
-import importlib.metadata
 from typing import Collection
 from wrapt import wrap_function_wrapper
 
 from opentelemetry.instrumentation.instrumentor import BaseInstrumentor
 from opentelemetry.trace import get_tracer
 from agiflow.opentelemetry.instrumentation.utils import (
   method_wrapper,
@@ -41,15 +40,14 @@
 
     def instrumentation_dependencies(self) -> Collection[str]:
         return ["langchain-core >= 0.1.27"]
 
     def _instrument(self, **kwargs):
         tracer_provider = kwargs.get("tracer_provider")
         tracer = get_tracer(__name__, __version__, tracer_provider)
-        version = importlib.metadata.version("langchain-core")
 
         exclude_methods = [
             "get_name",
             "get_output_schema",
             "get_input_schema",
             "get_graph",
             "to_json",
@@ -83,15 +81,14 @@
             module_name,
             task,
             SpanCapture
         ) in modules_to_patch:
             patch_module_classes(
                 module_name,
                 tracer,
-                version,
                 task,
                 SpanCapture=SpanCapture,
                 exclude_methods=exclude_methods,
                 exclude_classes=exclude_classes,
             )
 
         wrap_function_wrapper(
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/.DS_Store` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/.DS_Store`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/__pycache__/instrumentation.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/__pycache__/instrumentation.cpython-311.pyc`

 * *Files 8% similar despite different names*

#### Python bytecode

```diff
@@ -1,181 +1,162 @@
 magic:    0xa70d0d0a
-moddate:  0xdb5a5966 (Fri May 31 05:06:35 2024 UTC)
-files sz: 2967
+moddate:  0x70ba5a66 (Sat Jun  1 06:06:40 2024 UTC)
+files sz: 2910
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
-      0x970064005a00640164026c015a01640164036c026d035a030100640164
-      046c046d055a050100640164056c066d075a070100640164066c086d095a
-      090100640164076c0a6d0b5a0b6d0c5a0c6d0d5a0d6d0e5a0e0100640164
-      086c0f6d105a106d115a116d125a120100640164096c136d145a14010002
-      0065016a15000000000000000065016a160000000000000000ac0aa60100
-      00ab010000000000000000010002004700640b8400640c6505a6030000ab
-      0300000000000000005a1764025300
+      0x970064005a00640164026c016d025a020100640164036c036d045a0401
+      00640164046c056d065a060100640164056c076d085a080100640164066c
+      096d0a5a0a6d0b5a0b6d0c5a0c6d0d5a0d0100640164076c0e6d0f5a0f6d
+      105a106d115a110100640164086c126d135a130100020047006409840064
+      0a6504a6030000ab0300000000000000005a14640b5300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFLow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
-                 8 LOAD_CONST               2 (None)
-                10 IMPORT_NAME              1 (logging)
-                12 STORE_NAME               1 (logging)
-   
-    18          14 LOAD_CONST               1 (0)
-                16 LOAD_CONST               3 (('Collection',))
-                18 IMPORT_NAME              2 (typing)
-                20 IMPORT_FROM              3 (Collection)
-                22 STORE_NAME               3 (Collection)
-                24 POP_TOP
-   
-    20          26 LOAD_CONST               1 (0)
-                28 LOAD_CONST               4 (('BaseInstrumentor',))
-                30 IMPORT_NAME              4 (opentelemetry.instrumentation.instrumentor)
-                32 IMPORT_FROM              5 (BaseInstrumentor)
-                34 STORE_NAME               5 (BaseInstrumentor)
-                36 POP_TOP
-   
-    21          38 LOAD_CONST               1 (0)
-                40 LOAD_CONST               5 (('get_tracer',))
-                42 IMPORT_NAME              6 (opentelemetry.trace)
-                44 IMPORT_FROM              7 (get_tracer)
-                46 STORE_NAME               7 (get_tracer)
-                48 POP_TOP
-   
-    22          50 LOAD_CONST               1 (0)
-                52 LOAD_CONST               6 (('wrap_function_wrapper',))
-                54 IMPORT_NAME              8 (wrapt)
-                56 IMPORT_FROM              9 (wrap_function_wrapper)
-                58 STORE_NAME               9 (wrap_function_wrapper)
-                60 POP_TOP
-   
-    23          62 LOAD_CONST               1 (0)
-                64 LOAD_CONST               7 (('method_wrapper', 'async_method_wrapper', 'stream_wrapper', 'async_stream_wrapper'))
-                66 IMPORT_NAME             10 (agiflow.opentelemetry.instrumentation.utils)
-                68 IMPORT_FROM             11 (method_wrapper)
-                70 STORE_NAME              11 (method_wrapper)
-                72 IMPORT_FROM             12 (async_method_wrapper)
-                74 STORE_NAME              12 (async_method_wrapper)
-                76 IMPORT_FROM             13 (stream_wrapper)
-                78 STORE_NAME              13 (stream_wrapper)
-                80 IMPORT_FROM             14 (async_stream_wrapper)
-                82 STORE_NAME              14 (async_stream_wrapper)
-                84 POP_TOP
-   
-    29          86 LOAD_CONST               1 (0)
-                88 LOAD_CONST               8 (('ImageGenerateSpanCapture', 'ChatCompletionSpanCapture', 'EmbeddingSpanCapture'))
-                90 IMPORT_NAME             15 (agiflow.opentelemetry.instrumentation.openai.hooks)
-                92 IMPORT_FROM             16 (ImageGenerateSpanCapture)
-                94 STORE_NAME              16 (ImageGenerateSpanCapture)
-                96 IMPORT_FROM             17 (ChatCompletionSpanCapture)
-                98 STORE_NAME              17 (ChatCompletionSpanCapture)
-               100 IMPORT_FROM             18 (EmbeddingSpanCapture)
-               102 STORE_NAME              18 (EmbeddingSpanCapture)
-               104 POP_TOP
-   
-    34         106 LOAD_CONST               1 (0)
-               108 LOAD_CONST               9 (('__version__',))
-               110 IMPORT_NAME             19 (agiflow.version)
-               112 IMPORT_FROM             20 (__version__)
-               114 STORE_NAME              20 (__version__)
-               116 POP_TOP
-   
-    36         118 PUSH_NULL
-               120 LOAD_NAME                1 (logging)
-               122 LOAD_ATTR               21 (basicConfig)
-               132 LOAD_NAME                1 (logging)
-               134 LOAD_ATTR               22 (FATAL)
-               144 KW_NAMES                10
-               146 PRECALL                  1
-               150 CALL                     1
-               160 POP_TOP
-   
-    39         162 PUSH_NULL
-               164 LOAD_BUILD_CLASS
-               166 LOAD_CONST              11 (<code object OpenAIInstrumentation, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py", line 39>)
-               168 MAKE_FUNCTION            0
-               170 LOAD_CONST              12 ('OpenAIInstrumentation')
-               172 LOAD_NAME                5 (BaseInstrumentor)
-               174 PRECALL                  3
-               178 CALL                     3
-               188 STORE_NAME              23 (OpenAIInstrumentation)
-               190 LOAD_CONST               2 (None)
-               192 RETURN_VALUE
+                 8 LOAD_CONST               2 (('Collection',))
+                10 IMPORT_NAME              1 (typing)
+                12 IMPORT_FROM              2 (Collection)
+                14 STORE_NAME               2 (Collection)
+                16 POP_TOP
+   
+    19          18 LOAD_CONST               1 (0)
+                20 LOAD_CONST               3 (('BaseInstrumentor',))
+                22 IMPORT_NAME              3 (opentelemetry.instrumentation.instrumentor)
+                24 IMPORT_FROM              4 (BaseInstrumentor)
+                26 STORE_NAME               4 (BaseInstrumentor)
+                28 POP_TOP
+   
+    20          30 LOAD_CONST               1 (0)
+                32 LOAD_CONST               4 (('get_tracer',))
+                34 IMPORT_NAME              5 (opentelemetry.trace)
+                36 IMPORT_FROM              6 (get_tracer)
+                38 STORE_NAME               6 (get_tracer)
+                40 POP_TOP
+   
+    21          42 LOAD_CONST               1 (0)
+                44 LOAD_CONST               5 (('wrap_function_wrapper',))
+                46 IMPORT_NAME              7 (wrapt)
+                48 IMPORT_FROM              8 (wrap_function_wrapper)
+                50 STORE_NAME               8 (wrap_function_wrapper)
+                52 POP_TOP
+   
+    22          54 LOAD_CONST               1 (0)
+                56 LOAD_CONST               6 (('method_wrapper', 'async_method_wrapper', 'stream_wrapper', 'async_stream_wrapper'))
+                58 IMPORT_NAME              9 (agiflow.opentelemetry.instrumentation.utils)
+                60 IMPORT_FROM             10 (method_wrapper)
+                62 STORE_NAME              10 (method_wrapper)
+                64 IMPORT_FROM             11 (async_method_wrapper)
+                66 STORE_NAME              11 (async_method_wrapper)
+                68 IMPORT_FROM             12 (stream_wrapper)
+                70 STORE_NAME              12 (stream_wrapper)
+                72 IMPORT_FROM             13 (async_stream_wrapper)
+                74 STORE_NAME              13 (async_stream_wrapper)
+                76 POP_TOP
+   
+    28          78 LOAD_CONST               1 (0)
+                80 LOAD_CONST               7 (('ImageGenerateSpanCapture', 'ChatCompletionSpanCapture', 'EmbeddingSpanCapture'))
+                82 IMPORT_NAME             14 (agiflow.opentelemetry.instrumentation.openai.hooks)
+                84 IMPORT_FROM             15 (ImageGenerateSpanCapture)
+                86 STORE_NAME              15 (ImageGenerateSpanCapture)
+                88 IMPORT_FROM             16 (ChatCompletionSpanCapture)
+                90 STORE_NAME              16 (ChatCompletionSpanCapture)
+                92 IMPORT_FROM             17 (EmbeddingSpanCapture)
+                94 STORE_NAME              17 (EmbeddingSpanCapture)
+                96 POP_TOP
+   
+    33          98 LOAD_CONST               1 (0)
+               100 LOAD_CONST               8 (('__version__',))
+               102 IMPORT_NAME             18 (agiflow.version)
+               104 IMPORT_FROM             19 (__version__)
+               106 STORE_NAME              19 (__version__)
+               108 POP_TOP
+   
+    36         110 PUSH_NULL
+               112 LOAD_BUILD_CLASS
+               114 LOAD_CONST               9 (<code object OpenAIInstrumentation, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py", line 36>)
+               116 MAKE_FUNCTION            0
+               118 LOAD_CONST              10 ('OpenAIInstrumentation')
+               120 LOAD_NAME                4 (BaseInstrumentor)
+               122 PRECALL                  3
+               126 CALL                     3
+               136 STORE_NAME              20 (OpenAIInstrumentation)
+               138 LOAD_CONST              11 (None)
+               140 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFLow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
-      None
       ('Collection',)
       ('BaseInstrumentor',)
       ('get_tracer',)
       ('wrap_function_wrapper',)
       ('method_wrapper', 'async_method_wrapper', 'stream_wrapper', 'async_stream_wrapper')
       ('ImageGenerateSpanCapture', 'ChatCompletionSpanCapture', 'EmbeddingSpanCapture')
       ('__version__',)
-      ('level',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 3
          flags     : 0
          code
             0x970065005a0164005a0264016503650419000000000000000000660264
             0284045a05640384005a06640484005a0764055300
-          39           0 RESUME                   0
+          36           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('OpenAIInstrumentation')
                        8 STORE_NAME               2 (__qualname__)
          
-          41          10 LOAD_CONST               1 ('return')
+          38          10 LOAD_CONST               1 ('return')
                       12 LOAD_NAME                3 (Collection)
                       14 LOAD_NAME                4 (str)
                       16 BINARY_SUBSCR
                       26 BUILD_TUPLE              2
-                      28 LOAD_CONST               2 (<code object instrumentation_dependencies, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py", line 41>)
+                      28 LOAD_CONST               2 (<code object instrumentation_dependencies, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py", line 38>)
                       30 MAKE_FUNCTION            4 (annotations)
                       32 STORE_NAME               5 (instrumentation_dependencies)
          
-          44          34 LOAD_CONST               3 (<code object _instrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py", line 44>)
+          41          34 LOAD_CONST               3 (<code object _instrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py", line 41>)
                       36 MAKE_FUNCTION            0
                       38 STORE_NAME               6 (_instrument)
          
-         100          40 LOAD_CONST               4 (<code object _uninstrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py", line 100>)
+          97          40 LOAD_CONST               4 (<code object _uninstrument, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py", line 97>)
                       42 MAKE_FUNCTION            0
                       44 STORE_NAME               7 (_uninstrument)
                       46 LOAD_CONST               5 (None)
                       48 RETURN_VALUE
          consts
             'OpenAIInstrumentation'
             'return'
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x9700640167015300
-                41           0 RESUME                   0
+                38           0 RESUME                   0
                
-                42           2 LOAD_CONST               1 ('openai >= 0.27.0')
+                39           2 LOAD_CONST               1 ('openai >= 0.27.0')
                              4 BUILD_LIST               1
                              6 RETURN_VALUE
                consts
                   None
                   'openai >= 0.27.0'
                names      ()
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py'
                name       'instrumentation_dependencies'
-               firstlineno 41
+               firstlineno 38
                lnotab 0x0201
             code
                argcount  : 1
                nlocals   : 4
                stacksize : 8
                flags     : 11
                code
@@ -194,148 +175,148 @@
                   000000ac04a6020000ab020000000000000000a6030000ab030000000000
                   00000001007409000000000000000000006409640a741100000000000000
                   0000007c03741600000000000000000000ac04a6020000ab020000000000
                   000000a6030000ab03000000000000000001007409000000000000000000
                   006409640b7415000000000000000000007c037416000000000000000000
                   00ac04a6020000ab020000000000000000a6030000ab0300000000000000
                   00010064005300
-                44           0 RESUME                   0
+                41           0 RESUME                   0
                
-                45           2 LOAD_FAST                1 (kwargs)
+                42           2 LOAD_FAST                1 (kwargs)
                              4 LOAD_METHOD              0 (get)
                             26 LOAD_CONST               1 ('tracer_provider')
                             28 PRECALL                  1
                             32 CALL                     1
                             42 STORE_FAST               2 (tracer_provider)
                
-                46          44 LOAD_GLOBAL              3 (NULL + get_tracer)
+                43          44 LOAD_GLOBAL              3 (NULL + get_tracer)
                             56 LOAD_GLOBAL              4 (__name__)
                             68 LOAD_GLOBAL              6 (__version__)
                             80 LOAD_FAST                2 (tracer_provider)
                             82 PRECALL                  3
                             86 CALL                     3
                             96 STORE_FAST               3 (tracer)
                
-                48          98 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
+                45          98 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
                
-                49         110 LOAD_CONST               2 ('openai.resources.chat.completions')
+                46         110 LOAD_CONST               2 ('openai.resources.chat.completions')
                
-                50         112 LOAD_CONST               3 ('Completions.create')
+                47         112 LOAD_CONST               3 ('Completions.create')
                
-                51         114 LOAD_GLOBAL             11 (NULL + stream_wrapper)
+                48         114 LOAD_GLOBAL             11 (NULL + stream_wrapper)
                
-                52         126 LOAD_FAST                3 (tracer)
+                49         126 LOAD_FAST                3 (tracer)
                
-                53         128 LOAD_GLOBAL             12 (ChatCompletionSpanCapture)
+                50         128 LOAD_GLOBAL             12 (ChatCompletionSpanCapture)
                
-                51         140 KW_NAMES                 4
+                48         140 KW_NAMES                 4
                            142 PRECALL                  2
                            146 CALL                     2
                
-                48         156 PRECALL                  3
+                45         156 PRECALL                  3
                            160 CALL                     3
                            170 POP_TOP
                
-                57         172 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
+                54         172 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
                
-                58         184 LOAD_CONST               2 ('openai.resources.chat.completions')
+                55         184 LOAD_CONST               2 ('openai.resources.chat.completions')
                
-                59         186 LOAD_CONST               5 ('AsyncCompletions.create')
+                56         186 LOAD_CONST               5 ('AsyncCompletions.create')
                
-                60         188 LOAD_GLOBAL             15 (NULL + async_stream_wrapper)
+                57         188 LOAD_GLOBAL             15 (NULL + async_stream_wrapper)
                
-                61         200 LOAD_FAST                3 (tracer)
+                58         200 LOAD_FAST                3 (tracer)
                
-                62         202 LOAD_GLOBAL             12 (ChatCompletionSpanCapture)
+                59         202 LOAD_GLOBAL             12 (ChatCompletionSpanCapture)
                
-                60         214 KW_NAMES                 4
+                57         214 KW_NAMES                 4
                            216 PRECALL                  2
                            220 CALL                     2
                
-                57         230 PRECALL                  3
+                54         230 PRECALL                  3
                            234 CALL                     3
                            244 POP_TOP
                
-                66         246 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
+                63         246 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
                
-                67         258 LOAD_CONST               6 ('openai.resources.images')
+                64         258 LOAD_CONST               6 ('openai.resources.images')
                
-                68         260 LOAD_CONST               7 ('Images.generate')
+                65         260 LOAD_CONST               7 ('Images.generate')
                
-                69         262 LOAD_GLOBAL             17 (NULL + method_wrapper)
+                66         262 LOAD_GLOBAL             17 (NULL + method_wrapper)
                
-                70         274 LOAD_FAST                3 (tracer)
+                67         274 LOAD_FAST                3 (tracer)
                
-                71         276 LOAD_GLOBAL             18 (ImageGenerateSpanCapture)
+                68         276 LOAD_GLOBAL             18 (ImageGenerateSpanCapture)
                
-                69         288 KW_NAMES                 4
+                66         288 KW_NAMES                 4
                            290 PRECALL                  2
                            294 CALL                     2
                
-                66         304 PRECALL                  3
+                63         304 PRECALL                  3
                            308 CALL                     3
                            318 POP_TOP
                
-                75         320 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
+                72         320 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
                
-                76         332 LOAD_CONST               6 ('openai.resources.images')
+                73         332 LOAD_CONST               6 ('openai.resources.images')
                
-                77         334 LOAD_CONST               8 ('AsyncImages.generate')
+                74         334 LOAD_CONST               8 ('AsyncImages.generate')
                
-                78         336 LOAD_GLOBAL             21 (NULL + async_method_wrapper)
+                75         336 LOAD_GLOBAL             21 (NULL + async_method_wrapper)
                
-                79         348 LOAD_FAST                3 (tracer)
+                76         348 LOAD_FAST                3 (tracer)
                
-                80         350 LOAD_GLOBAL             18 (ImageGenerateSpanCapture)
+                77         350 LOAD_GLOBAL             18 (ImageGenerateSpanCapture)
                
-                78         362 KW_NAMES                 4
+                75         362 KW_NAMES                 4
                            364 PRECALL                  2
                            368 CALL                     2
                
-                75         378 PRECALL                  3
+                72         378 PRECALL                  3
                            382 CALL                     3
                            392 POP_TOP
                
-                83         394 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
+                80         394 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
                
-                84         406 LOAD_CONST               9 ('openai.resources.embeddings')
+                81         406 LOAD_CONST               9 ('openai.resources.embeddings')
                
-                85         408 LOAD_CONST              10 ('Embeddings.create')
+                82         408 LOAD_CONST              10 ('Embeddings.create')
                
-                86         410 LOAD_GLOBAL             17 (NULL + method_wrapper)
+                83         410 LOAD_GLOBAL             17 (NULL + method_wrapper)
                
-                87         422 LOAD_FAST                3 (tracer)
+                84         422 LOAD_FAST                3 (tracer)
                
-                88         424 LOAD_GLOBAL             22 (EmbeddingSpanCapture)
+                85         424 LOAD_GLOBAL             22 (EmbeddingSpanCapture)
                
-                86         436 KW_NAMES                 4
+                83         436 KW_NAMES                 4
                            438 PRECALL                  2
                            442 CALL                     2
                
-                83         452 PRECALL                  3
+                80         452 PRECALL                  3
                            456 CALL                     3
                            466 POP_TOP
                
-                91         468 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
+                88         468 LOAD_GLOBAL              9 (NULL + wrap_function_wrapper)
                
-                92         480 LOAD_CONST               9 ('openai.resources.embeddings')
+                89         480 LOAD_CONST               9 ('openai.resources.embeddings')
                
-                93         482 LOAD_CONST              11 ('AsyncEmbeddings.create')
+                90         482 LOAD_CONST              11 ('AsyncEmbeddings.create')
                
-                94         484 LOAD_GLOBAL             21 (NULL + async_method_wrapper)
+                91         484 LOAD_GLOBAL             21 (NULL + async_method_wrapper)
                
-                95         496 LOAD_FAST                3 (tracer)
+                92         496 LOAD_FAST                3 (tracer)
                
-                96         498 LOAD_GLOBAL             22 (EmbeddingSpanCapture)
+                93         498 LOAD_GLOBAL             22 (EmbeddingSpanCapture)
                
-                94         510 KW_NAMES                 4
+                91         510 KW_NAMES                 4
                            512 PRECALL                  2
                            516 CALL                     2
                
-                91         526 PRECALL                  3
+                88         526 PRECALL                  3
                            530 CALL                     3
                            540 POP_TOP
                            542 LOAD_CONST               0 (None)
                            544 RETURN_VALUE
                consts
                   None
                   'tracer_provider'
@@ -351,51 +332,52 @@
                   'AsyncEmbeddings.create'
                names      ('get', 'get_tracer', '__name__', '__version__', 'wrap_function_wrapper', 'stream_wrapper', 'ChatCompletionSpanCapture', 'async_stream_wrapper', 'method_wrapper', 'ImageGenerateSpanCapture', 'async_method_wrapper', 'EmbeddingSpanCapture')
                varnames   ('self', 'kwargs', 'tracer_provider', 'tracer')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py'
                name       '_instrument'
-               firstlineno 44
+               firstlineno 41
                lnotab
                   0x02012a0136020c01020102010c0102010cfe10fd10090c01020102010c
                   0102010cfe10fd10090c01020102010c0102010cfe10fd10090c01020102
                   010c0102010cfe10fd10080c01020102010c0102010cfe10fd10080c0102
                   0102010c0102010cfe10fd
             code
                argcount  : 1
                nlocals   : 2
                stacksize : 1
                flags     : 11
                code 0x970064005300
-               100           0 RESUME                   0
+                97           0 RESUME                   0
                
-               101           2 LOAD_CONST               0 (None)
+                98           2 LOAD_CONST               0 (None)
                              4 RETURN_VALUE
                consts
                   None
                names      ()
                varnames   ('self', 'kwargs')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py'
                name       '_uninstrument'
-               firstlineno 100
+               firstlineno 97
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', 'Collection', 'str', 'instrumentation_dependencies', '_instrument', '_uninstrument')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py'
          name       'OpenAIInstrumentation'
-         firstlineno 39
+         firstlineno 36
          lnotab 0x0a0218030638
       'OpenAIInstrumentation'
-   names      ('__doc__', 'logging', 'typing', 'Collection', 'opentelemetry.instrumentation.instrumentor', 'BaseInstrumentor', 'opentelemetry.trace', 'get_tracer', 'wrapt', 'wrap_function_wrapper', 'agiflow.opentelemetry.instrumentation.utils', 'method_wrapper', 'async_method_wrapper', 'stream_wrapper', 'async_stream_wrapper', 'agiflow.opentelemetry.instrumentation.openai.hooks', 'ImageGenerateSpanCapture', 'ChatCompletionSpanCapture', 'EmbeddingSpanCapture', 'agiflow.version', '__version__', 'basicConfig', 'FATAL', 'OpenAIInstrumentation')
+      None
+   names      ('__doc__', 'typing', 'Collection', 'opentelemetry.instrumentation.instrumentor', 'BaseInstrumentor', 'opentelemetry.trace', 'get_tracer', 'wrapt', 'wrap_function_wrapper', 'agiflow.opentelemetry.instrumentation.utils', 'method_wrapper', 'async_method_wrapper', 'stream_wrapper', 'async_stream_wrapper', 'agiflow.opentelemetry.instrumentation.openai.hooks', 'ImageGenerateSpanCapture', 'ChatCompletionSpanCapture', 'EmbeddingSpanCapture', 'agiflow.version', '__version__', 'OpenAIInstrumentation')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/instrumentation.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff0201041008010c020c010c010c01180614050c022c03
+   lnotab 0x00ff020104100c020c010c010c01180614050c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/__pycache__/patch.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/__pycache__/patch.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/.DS_Store` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/.DS_Store`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/__init__.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/__init__.cpython-311.pyc`

 * *Files 23% similar despite different names*

#### Python bytecode

```diff
@@ -1,49 +1,55 @@
 magic:    0xa70d0d0a
-moddate:  0xcc5a5966 (Fri May 31 05:06:20 2024 UTC)
-files sz: 302
+moddate:  0x0ade5a66 (Sat Jun  1 08:38:34 2024 UTC)
+files sz: 424
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 2
    flags     : 0
    code
       0x9700640064016c006d015a010100640064026c026d035a030100640064
-      036c046d055a05010064045300
+      036c046d055a05010067006404a2015a0664055300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 (0)
                  4 LOAD_CONST               1 (('EmbeddingSpanCapture',))
                  6 IMPORT_NAME              0 (agiflow.opentelemetry.instrumentation.openai.hooks.embedding)
                  8 IMPORT_FROM              1 (EmbeddingSpanCapture)
                 10 STORE_NAME               1 (EmbeddingSpanCapture)
                 12 POP_TOP
    
-     2          14 LOAD_CONST               0 (0)
+     4          14 LOAD_CONST               0 (0)
                 16 LOAD_CONST               2 (('ChatCompletionSpanCapture',))
                 18 IMPORT_NAME              2 (agiflow.opentelemetry.instrumentation.openai.hooks.chat_completion)
                 20 IMPORT_FROM              3 (ChatCompletionSpanCapture)
                 22 STORE_NAME               3 (ChatCompletionSpanCapture)
                 24 POP_TOP
    
-     3          26 LOAD_CONST               0 (0)
+     7          26 LOAD_CONST               0 (0)
                 28 LOAD_CONST               3 (('ImageGenerateSpanCapture',))
                 30 IMPORT_NAME              4 (agiflow.opentelemetry.instrumentation.openai.hooks.image_generate)
                 32 IMPORT_FROM              5 (ImageGenerateSpanCapture)
                 34 STORE_NAME               5 (ImageGenerateSpanCapture)
                 36 POP_TOP
-                38 LOAD_CONST               4 (None)
-                40 RETURN_VALUE
+   
+    12          38 BUILD_LIST               0
+                40 LOAD_CONST               4 (('EmbeddingSpanCapture', 'ChatCompletionSpanCapture', 'ImageGenerateSpanCapture'))
+                42 LIST_EXTEND              1
+                44 STORE_NAME               6 (__all__)
+                46 LOAD_CONST               5 (None)
+                48 RETURN_VALUE
    consts
       0
       ('EmbeddingSpanCapture',)
       ('ChatCompletionSpanCapture',)
       ('ImageGenerateSpanCapture',)
+      ('EmbeddingSpanCapture', 'ChatCompletionSpanCapture', 'ImageGenerateSpanCapture')
       None
-   names      ('agiflow.opentelemetry.instrumentation.openai.hooks.embedding', 'EmbeddingSpanCapture', 'agiflow.opentelemetry.instrumentation.openai.hooks.chat_completion', 'ChatCompletionSpanCapture', 'agiflow.opentelemetry.instrumentation.openai.hooks.image_generate', 'ImageGenerateSpanCapture')
+   names      ('agiflow.opentelemetry.instrumentation.openai.hooks.embedding', 'EmbeddingSpanCapture', 'agiflow.opentelemetry.instrumentation.openai.hooks.chat_completion', 'ChatCompletionSpanCapture', 'agiflow.opentelemetry.instrumentation.openai.hooks.image_generate', 'ImageGenerateSpanCapture', '__all__')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/__init__.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010c010c01
+   lnotab 0x00ff02010c030c030c05
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/base.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/base.cpython-311.pyc`

 * *Files 4% similar despite different names*

#### Python bytecode

```diff
@@ -1,20 +1,21 @@
 magic:    0xa70d0d0a
-moddate:  0x74255966 (Fri May 31 01:18:44 2024 UTC)
-files sz: 2437
+moddate:  0xc8d65b66 (Sun Jun  2 02:19:52 2024 UTC)
+files sz: 2474
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
       0x970064005a00640164026c015a02640164026c035a03640164036c046d
       055a050100640164046c066d075a070100640164056c086d095a09010064
-      0164066c0a6d0b5a0b6d0c5a0c0100020047006407840064086509a60300
-      00ab0300000000000000005a0d64025300
+      0164066c0a6d0b5a0b6d0c5a0c0100020065036a0d000000000000000065
+      0ea6010000ab0100000000000000005a0f020047006407840064086509a6
+      030000ab0300000000000000005a1064025300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
                  8 LOAD_CONST               2 (None)
@@ -52,25 +53,33 @@
                 62 IMPORT_NAME             10 (agiflow.opentelemetry.convention)
                 64 IMPORT_FROM             11 (AgiflowServiceTypes)
                 66 STORE_NAME              11 (AgiflowServiceTypes)
                 68 IMPORT_FROM             12 (SpanAttributes)
                 70 STORE_NAME              12 (SpanAttributes)
                 72 POP_TOP
    
-    31          74 PUSH_NULL
-                76 LOAD_BUILD_CLASS
-                78 LOAD_CONST               7 (<code object OpenAISpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/base.py", line 31>)
-                80 MAKE_FUNCTION            0
-                82 LOAD_CONST               8 ('OpenAISpanCapture')
-                84 LOAD_NAME                9 (BaseSpanCapture)
-                86 PRECALL                  3
-                90 CALL                     3
-               100 STORE_NAME              13 (OpenAISpanCapture)
-               102 LOAD_CONST               2 (None)
-               104 RETURN_VALUE
+    30          74 PUSH_NULL
+                76 LOAD_NAME                3 (logging)
+                78 LOAD_ATTR               13 (getLogger)
+                88 LOAD_NAME               14 (__name__)
+                90 PRECALL                  1
+                94 CALL                     1
+               104 STORE_NAME              15 (logger)
+   
+    33         106 PUSH_NULL
+               108 LOAD_BUILD_CLASS
+               110 LOAD_CONST               7 (<code object OpenAISpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/base.py", line 33>)
+               112 MAKE_FUNCTION            0
+               114 LOAD_CONST               8 ('OpenAISpanCapture')
+               116 LOAD_NAME                9 (BaseSpanCapture)
+               118 PRECALL                  3
+               122 CALL                     3
+               132 STORE_NAME              16 (OpenAISpanCapture)
+               134 LOAD_CONST               2 (None)
+               136 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
       None
       ('Optional',)
       ('SERVICE_PROVIDERS',)
       ('BaseSpanCapture',)
@@ -82,44 +91,44 @@
          flags     : 0
          code
             0x8700970065005a0164005a02550064015a036504650519000000000000
             000000650664023c000000640364049c0164026505660288006601640584
             0e5a07640684005a08880078015a095300
                        0 MAKE_CELL                0 (__class__)
          
-          31           2 RESUME                   0
+          33           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
                        8 LOAD_CONST               0 ('OpenAISpanCapture')
                       10 STORE_NAME               2 (__qualname__)
                       12 SETUP_ANNOTATIONS
          
-          32          14 LOAD_CONST               1 ('\n    Shared attributes for other span capture\n    ')
+          34          14 LOAD_CONST               1 ('\n    Shared attributes for other span capture\n    ')
                       16 STORE_NAME               3 (__doc__)
          
-          35          18 LOAD_NAME                4 (Optional)
+          37          18 LOAD_NAME                4 (Optional)
                       20 LOAD_NAME                5 (str)
                       22 BINARY_SUBSCR
                       32 LOAD_NAME                6 (__annotations__)
                       34 LOAD_CONST               2 ('model')
                       36 STORE_SUBSCR
          
-          37          40 LOAD_CONST               3 ('')
+          39          40 LOAD_CONST               3 ('')
                       42 LOAD_CONST               4 (('model',))
                       44 BUILD_CONST_KEY_MAP      1
                       46 LOAD_CONST               2 ('model')
                       48 LOAD_NAME                5 (str)
                       50 BUILD_TUPLE              2
                       52 LOAD_CLOSURE             0 (__class__)
                       54 BUILD_TUPLE              1
-                      56 LOAD_CONST               5 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/base.py", line 37>)
+                      56 LOAD_CONST               5 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/base.py", line 39>)
                       58 MAKE_FUNCTION           14 (kwdefaults, annotations, closure)
                       60 STORE_NAME               7 (__init__)
          
-          43          62 LOAD_CONST               6 (<code object get_attributes, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/base.py", line 43>)
+          45          62 LOAD_CONST               6 (<code object get_attributes, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/base.py", line 45>)
                       64 MAKE_FUNCTION            0
                       66 STORE_NAME               8 (get_attributes)
                       68 LOAD_CLOSURE             0 (__class__)
                       70 COPY                     1
                       72 STORE_NAME               9 (__classcell__)
                       74 RETURN_VALUE
          consts
@@ -140,42 +149,42 @@
                   0000000000000000006401a6010000ab0100000000000000007c005f0400
                   000000000000007c017c005f0500000000000000007c00a0060000000000
                   0000000000000000000000000000007c00a0070000000000000000000000
                   000000000000000000a6000000ab000000000000000000a6010000ab0100
                   00000000000000010064005300
                              0 COPY_FREE_VARS           1
                
-                37           2 RESUME                   0
+                39           2 RESUME                   0
                
-                38           4 PUSH_NULL
+                40           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
                             22 CALL                     0
                             32 LOAD_ATTR                1 (__init__)
                             42 LOAD_FAST                2 (args)
                             44 BUILD_MAP                0
                             46 LOAD_FAST                3 (kwargs)
                             48 DICT_MERGE               1
                             50 CALL_FUNCTION_EX         1
                             52 POP_TOP
                
-                39          54 LOAD_GLOBAL              4 (importlib)
+                41          54 LOAD_GLOBAL              4 (importlib)
                             66 LOAD_ATTR                3 (metadata)
                             76 LOAD_METHOD              4 (version)
                             98 LOAD_CONST               1 ('openai')
                            100 PRECALL                  1
                            104 CALL                     1
                            114 LOAD_FAST                0 (self)
                            116 STORE_ATTR               4 (version)
                
-                40         126 LOAD_FAST                1 (model)
+                42         126 LOAD_FAST                1 (model)
                            128 LOAD_FAST                0 (self)
                            130 STORE_ATTR               5 (model)
                
-                41         140 LOAD_FAST                0 (self)
+                43         140 LOAD_FAST                0 (self)
                            142 LOAD_METHOD              6 (set_pydantic_attributes)
                            164 LOAD_FAST                0 (self)
                            166 LOAD_METHOD              7 (get_attributes)
                            188 PRECALL                  0
                            192 CALL                     0
                            202 PRECALL                  1
                            206 CALL                     1
@@ -187,15 +196,15 @@
                   'openai'
                names      ('super', '__init__', 'importlib', 'metadata', 'version', 'model', 'set_pydantic_attributes', 'get_attributes')
                varnames   ('self', 'model', 'args', 'kwargs')
                freevars   ('__class__',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/base.py'
                name       '__init__'
-               firstlineno 37
+               firstlineno 39
                lnotab 0x0401320148010e01
             code
                argcount  : 1
                nlocals   : 6
                stacksize : 10
                flags     : 3
                code
@@ -214,194 +223,194 @@
                   00000000006a0200000000000000007d047401000000000000000000007c
                   046405a6020000ab02000000000000000072217407000000000000000000
                   007c046a100000000000000000a6010000ab0100000000000000007c0374
                   0c000000000000000000006a1100000000000000003c0000007401000000
                   000000000000007c046406a6020000ab0200000000000000007221740700
                   0000000000000000007c046a120000000000000000a6010000ab01000000
                   00000000007c03740c000000000000000000006a1300000000000000003c
-                  0000006e3923007428000000000000000000002400722c7d05742b000000
-                  000000000000006a16000000000000000064077407000000000000000000
-                  007c05a6010000ab010000000000000000a6020000ab0200000000000000
-                  000100590064007d057e056e0864007d057e05770177007803590077017c
-                  035300
-                43           0 RESUME                   0
+                  0000006e3f2300742800000000000000000000240072327d05742a000000
+                  00000000000000a016000000000000000000000000000000000000000064
+                  077407000000000000000000007c05a6010000ab010000000000000000a6
+                  020000ab0200000000000000000100590064007d057e056e0864007d057e
+                  05770177007803590077017c035300
+                45           0 RESUME                   0
                
-                46           2 LOAD_GLOBAL              1 (NULL + hasattr)
+                48           2 LOAD_GLOBAL              1 (NULL + hasattr)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (instance)
                             26 LOAD_CONST               1 ('_client')
                             28 PRECALL                  2
                             32 CALL                     2
                
-                45          42 POP_JUMP_FORWARD_IF_FALSE    56 (to 156)
+                47          42 POP_JUMP_FORWARD_IF_FALSE    56 (to 156)
                
-                46          44 LOAD_GLOBAL              1 (NULL + hasattr)
+                48          44 LOAD_GLOBAL              1 (NULL + hasattr)
                             56 LOAD_FAST                0 (self)
                             58 LOAD_ATTR                1 (instance)
                             68 LOAD_ATTR                2 (_client)
                             78 LOAD_CONST               2 ('_base_url')
                             80 PRECALL                  2
                             84 CALL                     2
                
-                45          94 POP_JUMP_FORWARD_IF_FALSE    30 (to 156)
+                47          94 POP_JUMP_FORWARD_IF_FALSE    30 (to 156)
                             96 LOAD_GLOBAL              7 (NULL + str)
                            108 LOAD_FAST                0 (self)
                            110 LOAD_ATTR                1 (instance)
                            120 LOAD_ATTR                2 (_client)
                            130 LOAD_ATTR                4 (_base_url)
                            140 PRECALL                  1
                            144 CALL                     1
                            154 JUMP_FORWARD             1 (to 158)
                
-                47     >>  156 LOAD_CONST               3 ('')
+                49     >>  156 LOAD_CONST               3 ('')
                
-                44     >>  158 STORE_FAST               1 (base_url)
+                46     >>  158 STORE_FAST               1 (base_url)
                
-                49         160 LOAD_GLOBAL             10 (SERVICE_PROVIDERS)
+                51         160 LOAD_GLOBAL             10 (SERVICE_PROVIDERS)
                            172 LOAD_CONST               4 ('OPENAI')
                            174 BINARY_SUBSCR
                            184 STORE_FAST               2 (service_provider)
                
-                52         186 LOAD_GLOBAL             12 (SpanAttributes)
+                54         186 LOAD_GLOBAL             12 (SpanAttributes)
                            198 LOAD_ATTR                7 (AGIFLOW_SERVICE_NAME)
                            208 LOAD_FAST                2 (service_provider)
                
-                53         210 LOAD_GLOBAL             12 (SpanAttributes)
+                55         210 LOAD_GLOBAL             12 (SpanAttributes)
                            222 LOAD_ATTR                8 (AGIFLOW_SERVICE_VERSION)
                            232 LOAD_FAST                0 (self)
                            234 LOAD_ATTR                9 (version)
                
-                54         244 LOAD_GLOBAL             12 (SpanAttributes)
+                56         244 LOAD_GLOBAL             12 (SpanAttributes)
                            256 LOAD_ATTR               10 (AGIFLOW_SERVICE_TYPE)
                            266 LOAD_GLOBAL             22 (AgiflowServiceTypes)
                            278 LOAD_ATTR               12 (LLM)
                
-                55         288 LOAD_GLOBAL             12 (SpanAttributes)
+                57         288 LOAD_GLOBAL             12 (SpanAttributes)
                            300 LOAD_ATTR               13 (URL_FULL)
                            310 LOAD_FAST                1 (base_url)
                
-                56         312 LOAD_GLOBAL             12 (SpanAttributes)
+                58         312 LOAD_GLOBAL             12 (SpanAttributes)
                            324 LOAD_ATTR               14 (LLM_MODEL)
                            334 LOAD_FAST                0 (self)
                            336 LOAD_ATTR               15 (model)
                
-                51         346 BUILD_MAP                5
+                53         346 BUILD_MAP                5
                            348 STORE_FAST               3 (attr)
                
-                59         350 NOP
+                61         350 NOP
                
-                60         352 LOAD_FAST                0 (self)
+                62         352 LOAD_FAST                0 (self)
                            354 LOAD_ATTR                1 (instance)
                            364 LOAD_ATTR                2 (_client)
                            374 STORE_FAST               4 (client)
                
-                61         376 LOAD_GLOBAL              1 (NULL + hasattr)
+                63         376 LOAD_GLOBAL              1 (NULL + hasattr)
                            388 LOAD_FAST                4 (client)
                            390 LOAD_CONST               5 ('base_url')
                            392 PRECALL                  2
                            396 CALL                     2
                            406 POP_JUMP_FORWARD_IF_FALSE    33 (to 474)
                
-                62         408 LOAD_GLOBAL              7 (NULL + str)
+                64         408 LOAD_GLOBAL              7 (NULL + str)
                            420 LOAD_FAST                4 (client)
                            422 LOAD_ATTR               16 (base_url)
                            432 PRECALL                  1
                            436 CALL                     1
                            446 LOAD_FAST                3 (attr)
                            448 LOAD_GLOBAL             12 (SpanAttributes)
                            460 LOAD_ATTR               17 (OPENAI_API_BASE)
                            470 STORE_SUBSCR
                
-                63     >>  474 LOAD_GLOBAL              1 (NULL + hasattr)
+                65     >>  474 LOAD_GLOBAL              1 (NULL + hasattr)
                            486 LOAD_FAST                4 (client)
                            488 LOAD_CONST               6 ('_api_version')
                            490 PRECALL                  2
                            494 CALL                     2
                            504 POP_JUMP_FORWARD_IF_FALSE    33 (to 572)
                
-                64         506 LOAD_GLOBAL              7 (NULL + str)
+                66         506 LOAD_GLOBAL              7 (NULL + str)
                            518 LOAD_FAST                4 (client)
                            520 LOAD_ATTR               18 (_api_version)
                            530 PRECALL                  1
                            534 CALL                     1
                            544 LOAD_FAST                3 (attr)
                            546 LOAD_GLOBAL             12 (SpanAttributes)
                            558 LOAD_ATTR               19 (OPENAI_API_VERSION)
                            568 STORE_SUBSCR
-                       >>  572 JUMP_FORWARD            57 (to 688)
+                       >>  572 JUMP_FORWARD            63 (to 700)
                        >>  574 PUSH_EXC_INFO
                
-                65         576 LOAD_GLOBAL             40 (Exception)
+                67         576 LOAD_GLOBAL             40 (Exception)
                            588 CHECK_EXC_MATCH
-                           590 POP_JUMP_FORWARD_IF_FALSE    44 (to 680)
+                           590 POP_JUMP_FORWARD_IF_FALSE    50 (to 692)
                            592 STORE_FAST               5 (ex)
                
-                66         594 LOAD_GLOBAL             43 (NULL + logging)
-                           606 LOAD_ATTR               22 (warning)
+                68         594 LOAD_GLOBAL             42 (logger)
+                           606 LOAD_METHOD             22 (warning)
                
-                67         616 LOAD_CONST               7 ('Failed to set api attributes for openai v1 span, error: %s')
-                           618 LOAD_GLOBAL              7 (NULL + str)
-                           630 LOAD_FAST                5 (ex)
-                           632 PRECALL                  1
-                           636 CALL                     1
-               
-                66         646 PRECALL                  2
-                           650 CALL                     2
-                           660 POP_TOP
-                           662 POP_EXCEPT
-                           664 LOAD_CONST               0 (None)
-                           666 STORE_FAST               5 (ex)
-                           668 DELETE_FAST              5 (ex)
-                           670 JUMP_FORWARD             8 (to 688)
-                       >>  672 LOAD_CONST               0 (None)
-                           674 STORE_FAST               5 (ex)
-                           676 DELETE_FAST              5 (ex)
-                           678 RERAISE                  1
-               
-                65     >>  680 RERAISE                  0
-                       >>  682 COPY                     3
-                           684 POP_EXCEPT
-                           686 RERAISE                  1
+                69         628 LOAD_CONST               7 ('Failed to set api attributes for openai v1 span, error: %s')
+                           630 LOAD_GLOBAL              7 (NULL + str)
+                           642 LOAD_FAST                5 (ex)
+                           644 PRECALL                  1
+                           648 CALL                     1
+               
+                68         658 PRECALL                  2
+                           662 CALL                     2
+                           672 POP_TOP
+                           674 POP_EXCEPT
+                           676 LOAD_CONST               0 (None)
+                           678 STORE_FAST               5 (ex)
+                           680 DELETE_FAST              5 (ex)
+                           682 JUMP_FORWARD             8 (to 700)
+                       >>  684 LOAD_CONST               0 (None)
+                           686 STORE_FAST               5 (ex)
+                           688 DELETE_FAST              5 (ex)
+                           690 RERAISE                  1
+               
+                67     >>  692 RERAISE                  0
+                       >>  694 COPY                     3
+                           696 POP_EXCEPT
+                           698 RERAISE                  1
                
-                70     >>  688 LOAD_FAST                3 (attr)
-                           690 RETURN_VALUE
+                72     >>  700 LOAD_FAST                3 (attr)
+                           702 RETURN_VALUE
                ExceptionTable:
                  352 to 570 -> 574 [0]
-                 574 to 592 -> 682 [1] lasti
-                 594 to 660 -> 672 [1] lasti
-                 672 to 680 -> 682 [1] lasti
+                 574 to 592 -> 694 [1] lasti
+                 594 to 672 -> 684 [1] lasti
+                 684 to 692 -> 694 [1] lasti
                consts
                   None
                   '_client'
                   '_base_url'
                   ''
                   'OPENAI'
                   'base_url'
                   '_api_version'
                   'Failed to set api attributes for openai v1 span, error: %s'
-               names      ('hasattr', 'instance', '_client', 'str', '_base_url', 'SERVICE_PROVIDERS', 'SpanAttributes', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_VERSION', 'version', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'LLM', 'URL_FULL', 'LLM_MODEL', 'model', 'base_url', 'OPENAI_API_BASE', '_api_version', 'OPENAI_API_VERSION', 'Exception', 'logging', 'warning')
+               names      ('hasattr', 'instance', '_client', 'str', '_base_url', 'SERVICE_PROVIDERS', 'SpanAttributes', 'AGIFLOW_SERVICE_NAME', 'AGIFLOW_SERVICE_VERSION', 'version', 'AGIFLOW_SERVICE_TYPE', 'AgiflowServiceTypes', 'LLM', 'URL_FULL', 'LLM_MODEL', 'model', 'base_url', 'OPENAI_API_BASE', '_api_version', 'OPENAI_API_VERSION', 'Exception', 'logger', 'warning')
                varnames   ('self', 'base_url', 'service_provider', 'attr', 'client', 'ex')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/base.py'
                name       'get_attributes'
-               firstlineno 43
+               firstlineno 45
                lnotab
                   0x020328ff020132ff3e0202fd02051a03180122012c01180122fb040802
-                  0118012001420120014601120116011eff22ff0805
+                  0118012001420120014601120122011eff22ff0805
          names      ('__name__', '__module__', '__qualname__', '__doc__', 'Optional', 'str', '__annotations__', '__init__', 'get_attributes', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/base.py'
          name       'OpenAISpanCapture'
-         firstlineno 31
+         firstlineno 33
          lnotab 0x0e01040316021606
       'OpenAISpanCapture'
-   names      ('__doc__', 'importlib.metadata', 'importlib', 'logging', 'typing', 'Optional', 'agiflow.opentelemetry.instrumentation.constants.common', 'SERVICE_PROVIDERS', 'agiflow.opentelemetry.instrumentation.utils', 'BaseSpanCapture', 'agiflow.opentelemetry.convention', 'AgiflowServiceTypes', 'SpanAttributes', 'OpenAISpanCapture')
+   names      ('__doc__', 'importlib.metadata', 'importlib', 'logging', 'typing', 'Optional', 'agiflow.opentelemetry.instrumentation.constants.common', 'SERVICE_PROVIDERS', 'agiflow.opentelemetry.instrumentation.utils', 'BaseSpanCapture', 'agiflow.opentelemetry.convention', 'AgiflowServiceTypes', 'SpanAttributes', 'getLogger', '__name__', 'logger', 'OpenAISpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/base.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010410080108020c010c030c011006
+   lnotab 0x00ff02010410080108020c010c030c0110052003
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/base_llm.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/base_llm.cpython-311.pyc`

 * *Files 1% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0xcc555966 (Fri May 31 04:45:00 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 3115
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/chat_completion.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/chat_completion.cpython-311.pyc`

 * *Files 6% similar despite different names*

#### Python bytecode

```diff
@@ -1,22 +1,22 @@
 magic:    0xa70d0d0a
-moddate:  0xcc555966 (Fri May 31 04:45:00 2024 UTC)
-files sz: 10767
+moddate:  0x43985a66 (Sat Jun  1 03:40:51 2024 UTC)
+files sz: 10648
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
       0x970064005a00640164026c015a01640164036c026d035a036d045a0401
       00640164046c056d065a060100640164056c076d085a080100640164066c
       096d0a5a0a6d0b5a0b6d0c5a0c0100640164076c0d6d0e5a0e0100640164
       086c0f6d105a100100640164096c116d125a126d135a136d145a146d155a
-      156d165a166d175a176d185a1801006401640a6c196d1a5a1a0100020047
-      00640b8400640c650ea6030000ab0300000000000000005a1b64025300
+      156d165a166d175a1701006401640a6c186d195a19010002004700640b84
+      00640c650ea6030000ab0300000000000000005a1a64025300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
                  8 LOAD_CONST               2 (None)
@@ -68,142 +68,129 @@
                 88 LOAD_CONST               8 (('extract_content',))
                 90 IMPORT_NAME             15 (agiflow.opentelemetry.instrumentation.openai.hooks.utils)
                 92 IMPORT_FROM             16 (extract_content)
                 94 STORE_NAME              16 (extract_content)
                 96 POP_TOP
    
     26          98 LOAD_CONST               1 (0)
-               100 LOAD_CONST               9 (('LLMResponseKeys', 'LLMTokenUsageKeys', 'LLMTypes', 'LLMSpanAttributesValidator', 'Event', 'AgiflowSpanKindValues', 'SpanAttributes'))
+               100 LOAD_CONST               9 (('LLMResponseKeys', 'LLMTokenUsageKeys', 'LLMTypes', 'LLMSpanAttributesValidator', 'Event', 'SpanAttributes'))
                102 IMPORT_NAME             17 (agiflow.opentelemetry.convention)
                104 IMPORT_FROM             18 (LLMResponseKeys)
                106 STORE_NAME              18 (LLMResponseKeys)
                108 IMPORT_FROM             19 (LLMTokenUsageKeys)
                110 STORE_NAME              19 (LLMTokenUsageKeys)
                112 IMPORT_FROM             20 (LLMTypes)
                114 STORE_NAME              20 (LLMTypes)
                116 IMPORT_FROM             21 (LLMSpanAttributesValidator)
                118 STORE_NAME              21 (LLMSpanAttributesValidator)
                120 IMPORT_FROM             22 (Event)
                122 STORE_NAME              22 (Event)
-               124 IMPORT_FROM             23 (AgiflowSpanKindValues)
-               126 STORE_NAME              23 (AgiflowSpanKindValues)
-               128 IMPORT_FROM             24 (SpanAttributes)
-               130 STORE_NAME              24 (SpanAttributes)
-               132 POP_TOP
+               124 IMPORT_FROM             23 (SpanAttributes)
+               126 STORE_NAME              23 (SpanAttributes)
+               128 POP_TOP
    
-    35         134 LOAD_CONST               1 (0)
-               136 LOAD_CONST              10 (('serialise_to_json',))
-               138 IMPORT_NAME             25 (agiflow.utils)
-               140 IMPORT_FROM             26 (serialise_to_json)
-               142 STORE_NAME              26 (serialise_to_json)
-               144 POP_TOP
+    34         130 LOAD_CONST               1 (0)
+               132 LOAD_CONST              10 (('serialise_to_json',))
+               134 IMPORT_NAME             24 (agiflow.utils)
+               136 IMPORT_FROM             25 (serialise_to_json)
+               138 STORE_NAME              25 (serialise_to_json)
+               140 POP_TOP
    
-    38         146 PUSH_NULL
-               148 LOAD_BUILD_CLASS
-               150 LOAD_CONST              11 (<code object ChatCompletionSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 38>)
-               152 MAKE_FUNCTION            0
-               154 LOAD_CONST              12 ('ChatCompletionSpanCapture')
-               156 LOAD_NAME               14 (OpenAILLMSpanCapture)
-               158 PRECALL                  3
-               162 CALL                     3
-               172 STORE_NAME              27 (ChatCompletionSpanCapture)
-               174 LOAD_CONST               2 (None)
-               176 RETURN_VALUE
+    37         142 PUSH_NULL
+               144 LOAD_BUILD_CLASS
+               146 LOAD_CONST              11 (<code object ChatCompletionSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 37>)
+               148 MAKE_FUNCTION            0
+               150 LOAD_CONST              12 ('ChatCompletionSpanCapture')
+               152 LOAD_NAME               14 (OpenAILLMSpanCapture)
+               154 PRECALL                  3
+               158 CALL                     3
+               168 STORE_NAME              26 (ChatCompletionSpanCapture)
+               170 LOAD_CONST               2 (None)
+               172 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 AGIFlow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
       None
       ('Any', 'Dict')
       ('APIS',)
       ('StatusCode',)
       ('calculate_prompt_tokens', 'estimate_tokens', 'should_send_prompts')
       ('OpenAILLMSpanCapture',)
       ('extract_content',)
-      ('LLMResponseKeys', 'LLMTokenUsageKeys', 'LLMTypes', 'LLMSpanAttributesValidator', 'Event', 'AgiflowSpanKindValues', 'SpanAttributes')
+      ('LLMResponseKeys', 'LLMTokenUsageKeys', 'LLMTypes', 'LLMSpanAttributesValidator', 'Event', 'SpanAttributes')
       ('serialise_to_json',)
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 2
          flags     : 0
          code
-            0x8700970065005a0164005a0288006601640184085a03650464028400a6
-            000000ab0000000000000000005a05640384005a06640484005a07640584
-            005a08640684005a09640784005a0a640884005a0b640984005a0c880078
-            015a0d5300
+            0x8700970065005a0164005a0288006601640184085a03640284005a0464
+            0384005a05640484005a06640584005a07640684005a08640784005a0964
+            0884005a0a880078015a0b5300
                        0 MAKE_CELL                0 (__class__)
          
-          38           2 RESUME                   0
+          37           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
                        8 LOAD_CONST               0 ('ChatCompletionSpanCapture')
                       10 STORE_NAME               2 (__qualname__)
          
-          39          12 LOAD_CLOSURE             0 (__class__)
+          38          12 LOAD_CLOSURE             0 (__class__)
                       14 BUILD_TUPLE              1
-                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 39>)
+                      16 LOAD_CONST               1 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 38>)
                       18 MAKE_FUNCTION            8 (closure)
                       20 STORE_NAME               3 (__init__)
          
-          46          22 LOAD_NAME                4 (staticmethod)
+          45          22 LOAD_CONST               2 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 45>)
+                      24 MAKE_FUNCTION            0
+                      26 STORE_NAME               4 (capture_input)
          
-          47          24 LOAD_CONST               2 (<code object get_span_kind, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 46>)
-                      26 MAKE_FUNCTION            0
+          87          28 LOAD_CONST               3 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 87>)
+                      30 MAKE_FUNCTION            0
+                      32 STORE_NAME               5 (capture_output)
          
-          46          28 PRECALL                  0
-                      32 CALL                     0
+         124          34 LOAD_CONST               4 (<code object get_prompt_tokens, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 124>)
+                      36 MAKE_FUNCTION            0
+                      38 STORE_NAME               6 (get_prompt_tokens)
          
-          47          42 STORE_NAME               5 (get_span_kind)
+         141          40 LOAD_CONST               5 (<code object capture_chunk, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 141>)
+                      42 MAKE_FUNCTION            0
+                      44 STORE_NAME               7 (capture_chunk)
          
-          50          44 LOAD_CONST               3 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 50>)
-                      46 MAKE_FUNCTION            0
-                      48 STORE_NAME               6 (capture_input)
+         205          46 LOAD_CONST               6 (<code object capture_stream_end, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 205>)
+                      48 MAKE_FUNCTION            0
+                      50 STORE_NAME               8 (capture_stream_end)
          
-          92          50 LOAD_CONST               4 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 92>)
-                      52 MAKE_FUNCTION            0
-                      54 STORE_NAME               7 (capture_output)
+         237          52 LOAD_CONST               7 (<code object capture_stream_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 237>)
+                      54 MAKE_FUNCTION            0
+                      56 STORE_NAME               9 (capture_stream_output)
          
-         129          56 LOAD_CONST               5 (<code object get_prompt_tokens, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 129>)
-                      58 MAKE_FUNCTION            0
-                      60 STORE_NAME               8 (get_prompt_tokens)
-         
-         146          62 LOAD_CONST               6 (<code object capture_chunk, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 146>)
-                      64 MAKE_FUNCTION            0
-                      66 STORE_NAME               9 (capture_chunk)
-         
-         210          68 LOAD_CONST               7 (<code object capture_stream_end, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 210>)
-                      70 MAKE_FUNCTION            0
-                      72 STORE_NAME              10 (capture_stream_end)
-         
-         242          74 LOAD_CONST               8 (<code object capture_stream_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 242>)
-                      76 MAKE_FUNCTION            0
-                      78 STORE_NAME              11 (capture_stream_output)
-         
-         253          80 LOAD_CONST               9 (<code object acapture_stream_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 253>)
-                      82 MAKE_FUNCTION            0
-                      84 STORE_NAME              12 (acapture_stream_output)
-                      86 LOAD_CLOSURE             0 (__class__)
-                      88 COPY                     1
-                      90 STORE_NAME              13 (__classcell__)
-                      92 RETURN_VALUE
+         248          58 LOAD_CONST               8 (<code object acapture_stream_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py", line 248>)
+                      60 MAKE_FUNCTION            0
+                      62 STORE_NAME              10 (acapture_stream_output)
+                      64 LOAD_CLOSURE             0 (__class__)
+                      66 COPY                     1
+                      68 STORE_NAME              11 (__classcell__)
+                      70 RETURN_VALUE
          consts
             'ChatCompletionSpanCapture'
             code
                argcount  : 1
                nlocals   : 3
                stacksize : 5
                flags     : 15
                code
                   0x950197000200740100000000000000000000a6000000ab000000000000
                   0000006a0100000000000000007c0169007c02a4018e01010064005300
                              0 COPY_FREE_VARS           1
                
-                39           2 RESUME                   0
+                38           2 RESUME                   0
                
-                44           4 PUSH_NULL
+                43           4 PUSH_NULL
                              6 LOAD_GLOBAL              1 (NULL + super)
                             18 PRECALL                  0
                             22 CALL                     0
                             32 LOAD_ATTR                1 (__init__)
                             42 LOAD_FAST                1 (args)
                             44 BUILD_MAP                0
                             46 LOAD_FAST                2 (kwargs)
@@ -216,39 +203,18 @@
                   None
                names      ('super', '__init__')
                varnames   ('self', 'args', 'kwargs')
                freevars   ('__class__',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
                name       '__init__'
-               firstlineno 39
+               firstlineno 38
                lnotab 0x0405
             code
                argcount  : 1
-               nlocals   : 1
-               stacksize : 1
-               flags     : 3
-               code 0x97007400000000000000000000006a0100000000000000005300
-                46           0 RESUME                   0
-               
-                48           2 LOAD_GLOBAL              0 (AgiflowSpanKindValues)
-                            14 LOAD_ATTR                1 (CHAT)
-                            24 RETURN_VALUE
-               consts
-                  None
-               names      ('AgiflowSpanKindValues', 'CHAT')
-               varnames   ('instance',)
-               freevars   ()
-               cellvars   ()
-               filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
-               name       'get_span_kind'
-               firstlineno 46
-               lnotab 0x0202
-            code
-               argcount  : 1
                nlocals   : 7
                stacksize : 7
                flags     : 3
                code
                   0x97007c00a0000000000000000000000000000000000000000000a60000
                   00ab00000000000000000001007402000000000000000000006a02000000
                   000000000074060000000000000000000064011900000000000000000064
@@ -272,184 +238,184 @@
                   02a01000000000000000000000000000000000000000007c04a6010000ab
                   01000000000000000001008cdd7c02a01000000000000000000000000000
                   000000000000007c03a6010000ab01000000000000000001008cf3742300
                   0000000000000000007c02a6010000ab0100000000000000007c01740200
                   0000000000000000006a1200000000000000003c0000007c00a013000000
                   00000000000000000000000000000000007c017428000000000000000000
                   00a6020000ab020000000000000000010064005300
-                50           0 RESUME                   0
+                45           0 RESUME                   0
                
-                51           2 LOAD_FAST                0 (self)
+                46           2 LOAD_FAST                0 (self)
                              4 LOAD_METHOD              0 (add_input_attributes)
                             26 PRECALL                  0
                             30 CALL                     0
                             40 POP_TOP
                
-                53          42 LOAD_GLOBAL              2 (SpanAttributes)
+                48          42 LOAD_GLOBAL              2 (SpanAttributes)
                             54 LOAD_ATTR                2 (LLM_API)
                             64 LOAD_GLOBAL              6 (APIS)
                             76 LOAD_CONST               1 ('CHAT_COMPLETION')
                             78 BINARY_SUBSCR
                             88 LOAD_CONST               2 ('ENDPOINT')
                             90 BINARY_SUBSCR
                
-                54         100 LOAD_GLOBAL              2 (SpanAttributes)
+                49         100 LOAD_GLOBAL              2 (SpanAttributes)
                            112 LOAD_ATTR                4 (LLM_TYPE)
                            122 LOAD_GLOBAL             10 (LLMTypes)
                            134 LOAD_ATTR                6 (CHAT)
                
-                52         144 BUILD_MAP                2
+                47         144 BUILD_MAP                2
                            146 STORE_FAST               1 (span_attributes)
                
-                56         148 LOAD_GLOBAL             15 (NULL + should_send_prompts)
+                51         148 LOAD_GLOBAL             15 (NULL + should_send_prompts)
                            160 PRECALL                  0
                            164 CALL                     0
                            174 EXTENDED_ARG             1
                            176 POP_JUMP_FORWARD_IF_FALSE   282 (to 742)
                
-                58         178 BUILD_LIST               0
+                53         178 BUILD_LIST               0
                            180 STORE_FAST               2 (llm_prompts)
                
-                59         182 LOAD_FAST                0 (self)
+                54         182 LOAD_FAST                0 (self)
                            184 LOAD_ATTR                8 (messages)
                            194 JUMP_IF_TRUE_OR_POP      1 (to 198)
                            196 BUILD_LIST               0
                        >>  198 GET_ITER
                        >>  200 FOR_ITER               242 (to 686)
                            202 STORE_FAST               3 (item)
                
-                60         204 LOAD_GLOBAL             19 (NULL + hasattr)
+                55         204 LOAD_GLOBAL             19 (NULL + hasattr)
                            216 LOAD_FAST                3 (item)
                            218 LOAD_CONST               3 ('tool_calls')
                            220 PRECALL                  2
                            224 CALL                     2
                            234 POP_JUMP_FORWARD_IF_FALSE   203 (to 642)
                            236 LOAD_FAST                3 (item)
                            238 LOAD_ATTR               10 (tool_calls)
                            248 POP_JUMP_FORWARD_IF_NONE   196 (to 642)
                
-                61         250 BUILD_LIST               0
+                56         250 BUILD_LIST               0
                            252 STORE_FAST               4 (tool_calls)
                
-                62         254 LOAD_FAST                3 (item)
+                57         254 LOAD_FAST                3 (item)
                            256 LOAD_ATTR               10 (tool_calls)
                            266 GET_ITER
                        >>  268 FOR_ITER               164 (to 598)
                            270 STORE_FAST               5 (tool_call)
                
-                64         272 LOAD_GLOBAL             19 (NULL + hasattr)
+                59         272 LOAD_GLOBAL             19 (NULL + hasattr)
                            284 LOAD_FAST                5 (tool_call)
                            286 LOAD_CONST               4 ('id')
                            288 PRECALL                  2
                            292 CALL                     2
                            302 POP_JUMP_FORWARD_IF_FALSE     7 (to 318)
                            304 LOAD_FAST                5 (tool_call)
                            306 LOAD_ATTR               11 (id)
                            316 JUMP_FORWARD             1 (to 320)
                        >>  318 LOAD_CONST               5 ('')
                
-                65     >>  320 LOAD_GLOBAL             19 (NULL + hasattr)
+                60     >>  320 LOAD_GLOBAL             19 (NULL + hasattr)
                            332 LOAD_FAST                5 (tool_call)
                            334 LOAD_CONST               6 ('type')
                            336 PRECALL                  2
                            340 CALL                     2
                            350 POP_JUMP_FORWARD_IF_FALSE     7 (to 366)
                            352 LOAD_FAST                5 (tool_call)
                            354 LOAD_ATTR               12 (type)
                            364 JUMP_FORWARD             1 (to 368)
                        >>  366 LOAD_CONST               5 ('')
                
-                63     >>  368 LOAD_CONST               7 (('id', 'type'))
+                58     >>  368 LOAD_CONST               7 (('id', 'type'))
                            370 BUILD_CONST_KEY_MAP      2
                            372 STORE_FAST               6 (tool_call_dict)
                
-                67         374 LOAD_GLOBAL             19 (NULL + hasattr)
+                62         374 LOAD_GLOBAL             19 (NULL + hasattr)
                            386 LOAD_FAST                5 (tool_call)
                            388 LOAD_CONST               8 ('function')
                            390 PRECALL                  2
                            394 CALL                     2
                            404 POP_JUMP_FORWARD_IF_FALSE    74 (to 554)
                
-                71         406 LOAD_GLOBAL             19 (NULL + hasattr)
+                66         406 LOAD_GLOBAL             19 (NULL + hasattr)
                            418 LOAD_FAST                5 (tool_call)
                            420 LOAD_ATTR               13 (function)
                            430 LOAD_CONST               9 ('name')
                            432 PRECALL                  2
                            436 CALL                     2
                
-                70         446 POP_JUMP_FORWARD_IF_FALSE    12 (to 472)
+                65         446 POP_JUMP_FORWARD_IF_FALSE    12 (to 472)
                            448 LOAD_FAST                5 (tool_call)
                            450 LOAD_ATTR               13 (function)
                            460 LOAD_ATTR               14 (name)
                            470 JUMP_FORWARD             1 (to 474)
                
-                72     >>  472 LOAD_CONST               5 ('')
+                67     >>  472 LOAD_CONST               5 ('')
                
-                76     >>  474 LOAD_GLOBAL             19 (NULL + hasattr)
+                71     >>  474 LOAD_GLOBAL             19 (NULL + hasattr)
                            486 LOAD_FAST                5 (tool_call)
                            488 LOAD_ATTR               13 (function)
                            498 LOAD_CONST              10 ('arguments')
                            500 PRECALL                  2
                            504 CALL                     2
                
-                75         514 POP_JUMP_FORWARD_IF_FALSE    12 (to 540)
+                70         514 POP_JUMP_FORWARD_IF_FALSE    12 (to 540)
                            516 LOAD_FAST                5 (tool_call)
                            518 LOAD_ATTR               13 (function)
                            528 LOAD_ATTR               15 (arguments)
                            538 JUMP_FORWARD             1 (to 542)
                
-                77     >>  540 LOAD_CONST               5 ('')
+                72     >>  540 LOAD_CONST               5 ('')
                
-                68     >>  542 LOAD_CONST              11 (('name', 'arguments'))
+                63     >>  542 LOAD_CONST              11 (('name', 'arguments'))
                            544 BUILD_CONST_KEY_MAP      2
                            546 LOAD_FAST                6 (tool_call_dict)
                            548 LOAD_CONST               8 ('function')
                            550 STORE_SUBSCR
                
-                80     >>  554 LOAD_FAST                4 (tool_calls)
+                75     >>  554 LOAD_FAST                4 (tool_calls)
                            556 LOAD_METHOD             16 (append)
                            578 LOAD_FAST                6 (tool_call_dict)
                            580 PRECALL                  1
                            584 CALL                     1
                            594 POP_TOP
                            596 JUMP_BACKWARD          165 (to 268)
                
-                81     >>  598 LOAD_FAST                2 (llm_prompts)
+                76     >>  598 LOAD_FAST                2 (llm_prompts)
                            600 LOAD_METHOD             16 (append)
                            622 LOAD_FAST                4 (tool_calls)
                            624 PRECALL                  1
                            628 CALL                     1
                            638 POP_TOP
                            640 JUMP_BACKWARD          221 (to 200)
                
-                83     >>  642 LOAD_FAST                2 (llm_prompts)
+                78     >>  642 LOAD_FAST                2 (llm_prompts)
                            644 LOAD_METHOD             16 (append)
                            666 LOAD_FAST                3 (item)
                            668 PRECALL                  1
                            672 CALL                     1
                            682 POP_TOP
                            684 JUMP_BACKWARD          243 (to 200)
                
-                85     >>  686 LOAD_GLOBAL             35 (NULL + serialise_to_json)
+                80     >>  686 LOAD_GLOBAL             35 (NULL + serialise_to_json)
                            698 LOAD_FAST                2 (llm_prompts)
                            700 PRECALL                  1
                            704 CALL                     1
                            714 LOAD_FAST                1 (span_attributes)
                            716 LOAD_GLOBAL              2 (SpanAttributes)
                            728 LOAD_ATTR               18 (LLM_PROMPTS)
                            738 STORE_SUBSCR
                
-                87     >>  742 LOAD_FAST                0 (self)
+                82     >>  742 LOAD_FAST                0 (self)
                            744 LOAD_METHOD             19 (set_span_attributes_from_pydantic)
                
-                88         766 LOAD_FAST                1 (span_attributes)
+                83         766 LOAD_FAST                1 (span_attributes)
                
-                89         768 LOAD_GLOBAL             40 (LLMSpanAttributesValidator)
+                84         768 LOAD_GLOBAL             40 (LLMSpanAttributesValidator)
                
-                87         780 PRECALL                  2
+                82         780 PRECALL                  2
                            784 CALL                     2
                            794 POP_TOP
                            796 LOAD_CONST               0 (None)
                            798 RETURN_VALUE
                consts
                   None
                   'CHAT_COMPLETION'
@@ -465,15 +431,15 @@
                   ('name', 'arguments')
                names      ('add_input_attributes', 'SpanAttributes', 'LLM_API', 'APIS', 'LLM_TYPE', 'LLMTypes', 'CHAT', 'should_send_prompts', 'messages', 'hasattr', 'tool_calls', 'id', 'type', 'function', 'name', 'arguments', 'append', 'serialise_to_json', 'LLM_PROMPTS', 'set_span_attributes_from_pydantic', 'LLMSpanAttributesValidator')
                varnames   ('self', 'span_attributes', 'llm_prompts', 'item', 'tool_calls', 'tool_call', 'tool_call_dict')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
                name       'capture_input'
-               firstlineno 50
+               firstlineno 45
                lnotab
                   0x020128023a012cfe04041e02040116012e0104011202300130fe060420
                   0428ff1a02020428ff1a0202f70c0c2c012c022c023802180102010cfe
             code
                argcount  : 2
                nlocals   : 7
                stacksize : 6
@@ -508,198 +474,198 @@
                   000000742d000000000000000000006a1700000000000000007c06a60100
                   00ab010000000000000000a6020000ab02000000000000000001007c006a
                   180000000000000000a01900000000000000000000000000000000000000
                   007434000000000000000000006a1b0000000000000000a6010000ab0100
                   0000000000000001007c006a180000000000000000a01c00000000000000
                   00000000000000000000000000a6000000ab00000000000000000001007c
                   015300
-                92           0 RESUME                   0
+                87           0 RESUME                   0
                
-                93           2 LOAD_FAST                0 (self)
+                88           2 LOAD_FAST                0 (self)
                              4 LOAD_METHOD              0 (set_span_attribute)
                             26 LOAD_GLOBAL              2 (SpanAttributes)
                             38 LOAD_ATTR                2 (LLM_MODEL)
                             48 LOAD_FAST                1 (result)
                             50 LOAD_ATTR                3 (model)
                             60 PRECALL                  2
                             64 CALL                     2
                             74 POP_TOP
                
-                95          76 LOAD_GLOBAL              9 (NULL + should_send_prompts)
+                90          76 LOAD_GLOBAL              9 (NULL + should_send_prompts)
                             88 PRECALL                  0
                             92 CALL                     0
                            102 POP_JUMP_FORWARD_IF_FALSE   166 (to 436)
                
-                96         104 LOAD_GLOBAL             11 (NULL + hasattr)
+                91         104 LOAD_GLOBAL             11 (NULL + hasattr)
                            116 LOAD_FAST                1 (result)
                            118 LOAD_CONST               1 ('choices')
                            120 PRECALL                  2
                            124 CALL                     2
                            134 POP_JUMP_FORWARD_IF_FALSE   103 (to 342)
                            136 LOAD_FAST                1 (result)
                            138 LOAD_ATTR                6 (choices)
                            148 POP_JUMP_FORWARD_IF_NONE    96 (to 342)
                
-                97         150 BUILD_LIST               0
+                92         150 BUILD_LIST               0
                            152 STORE_FAST               2 (responses)
                
-                98         154 LOAD_FAST                1 (result)
+                93         154 LOAD_FAST                1 (result)
                            156 LOAD_ATTR                6 (choices)
                            166 GET_ITER
                        >>  168 FOR_ITER                40 (to 250)
                            170 STORE_FAST               3 (choice)
                
-                99         172 LOAD_GLOBAL             15 (NULL + extract_content)
+                94         172 LOAD_GLOBAL             15 (NULL + extract_content)
                            184 LOAD_FAST                3 (choice)
                            186 PRECALL                  1
                            190 CALL                     1
                            200 STORE_FAST               4 (response)
                
-               100         202 LOAD_FAST                4 (response)
+                95         202 LOAD_FAST                4 (response)
                            204 POP_JUMP_FORWARD_IF_FALSE    21 (to 248)
                
-               101         206 LOAD_FAST                2 (responses)
+                96         206 LOAD_FAST                2 (responses)
                            208 LOAD_METHOD              8 (append)
                            230 LOAD_FAST                4 (response)
                            232 PRECALL                  1
                            236 CALL                     1
                            246 POP_TOP
                        >>  248 JUMP_BACKWARD           41 (to 168)
                
-               103     >>  250 LOAD_FAST                0 (self)
+                98     >>  250 LOAD_FAST                0 (self)
                            252 LOAD_METHOD              0 (set_span_attribute)
                            274 LOAD_GLOBAL              2 (SpanAttributes)
                            286 LOAD_ATTR                9 (LLM_RESPONSES)
                            296 LOAD_GLOBAL             21 (NULL + serialise_to_json)
                            308 LOAD_FAST                2 (responses)
                            310 PRECALL                  1
                            314 CALL                     1
                            324 PRECALL                  2
                            328 CALL                     2
                            338 POP_TOP
                            340 JUMP_FORWARD            47 (to 436)
                
-               105     >>  342 BUILD_LIST               0
+               100     >>  342 BUILD_LIST               0
                            344 STORE_FAST               2 (responses)
                
-               106         346 LOAD_FAST                0 (self)
+               101         346 LOAD_FAST                0 (self)
                            348 LOAD_METHOD              0 (set_span_attribute)
                            370 LOAD_GLOBAL              2 (SpanAttributes)
                            382 LOAD_ATTR                9 (LLM_RESPONSES)
                            392 LOAD_GLOBAL             21 (NULL + serialise_to_json)
                            404 LOAD_FAST                2 (responses)
                            406 PRECALL                  1
                            410 CALL                     1
                            420 PRECALL                  2
                            424 CALL                     2
                            434 POP_TOP
                
-               109     >>  436 LOAD_GLOBAL             11 (NULL + hasattr)
+               104     >>  436 LOAD_GLOBAL             11 (NULL + hasattr)
                            448 LOAD_FAST                1 (result)
                            450 LOAD_CONST               2 ('system_fingerprint')
                            452 PRECALL                  2
                            456 CALL                     2
                
-               108         466 POP_JUMP_FORWARD_IF_FALSE    44 (to 556)
+               103         466 POP_JUMP_FORWARD_IF_FALSE    44 (to 556)
                
-               110         468 LOAD_FAST                1 (result)
+               105         468 LOAD_FAST                1 (result)
                            470 LOAD_ATTR               11 (system_fingerprint)
                            480 POP_JUMP_FORWARD_IF_NONE    37 (to 556)
                
-               112         482 LOAD_FAST                0 (self)
+               107         482 LOAD_FAST                0 (self)
                            484 LOAD_METHOD              0 (set_span_attribute)
                
-               113         506 LOAD_GLOBAL              2 (SpanAttributes)
+               108         506 LOAD_GLOBAL              2 (SpanAttributes)
                            518 LOAD_ATTR               12 (LLM_SYSTEM_FINGERPRINT)
                            528 LOAD_FAST                1 (result)
                            530 LOAD_ATTR               11 (system_fingerprint)
                
-               112         540 PRECALL                  2
+               107         540 PRECALL                  2
                            544 CALL                     2
                            554 POP_TOP
                
-               116     >>  556 LOAD_GLOBAL             11 (NULL + hasattr)
+               111     >>  556 LOAD_GLOBAL             11 (NULL + hasattr)
                            568 LOAD_FAST                1 (result)
                            570 LOAD_CONST               3 ('usage')
                            572 PRECALL                  2
                            576 CALL                     2
                            586 POP_JUMP_FORWARD_IF_FALSE   124 (to 836)
                            588 LOAD_FAST                1 (result)
                            590 LOAD_ATTR               13 (usage)
                            600 POP_JUMP_FORWARD_IF_NONE   117 (to 836)
                
-               117         602 LOAD_FAST                1 (result)
+               112         602 LOAD_FAST                1 (result)
                            604 LOAD_ATTR               13 (usage)
                            614 STORE_FAST               5 (usage)
                
-               118         616 LOAD_FAST                5 (usage)
+               113         616 LOAD_FAST                5 (usage)
                            618 POP_JUMP_FORWARD_IF_NONE   108 (to 836)
                
-               120         620 LOAD_GLOBAL             28 (LLMTokenUsageKeys)
+               115         620 LOAD_GLOBAL             28 (LLMTokenUsageKeys)
                            632 LOAD_ATTR               15 (PROMPT_TOKENS)
                            642 LOAD_FAST                1 (result)
                            644 LOAD_ATTR               13 (usage)
                            654 LOAD_ATTR               16 (prompt_tokens)
                
-               121         664 LOAD_GLOBAL             28 (LLMTokenUsageKeys)
+               116         664 LOAD_GLOBAL             28 (LLMTokenUsageKeys)
                            676 LOAD_ATTR               17 (COMPLETION_TOKENS)
                            686 LOAD_FAST                5 (usage)
                            688 LOAD_ATTR               18 (completion_tokens)
                
-               122         698 LOAD_GLOBAL             28 (LLMTokenUsageKeys)
+               117         698 LOAD_GLOBAL             28 (LLMTokenUsageKeys)
                            710 LOAD_ATTR               19 (TOTAL_TOKENS)
                            720 LOAD_FAST                5 (usage)
                            722 LOAD_ATTR               20 (total_tokens)
                
-               119         732 BUILD_MAP                3
+               114         732 BUILD_MAP                3
                            734 STORE_FAST               6 (usage_dict)
                
-               124         736 LOAD_FAST                0 (self)
+               119         736 LOAD_FAST                0 (self)
                            738 LOAD_METHOD              0 (set_span_attribute)
                            760 LOAD_GLOBAL              2 (SpanAttributes)
                            772 LOAD_ATTR               21 (LLM_TOKEN_COUNTS)
                            782 LOAD_GLOBAL             45 (NULL + json)
                            794 LOAD_ATTR               23 (dumps)
                            804 LOAD_FAST                6 (usage_dict)
                            806 PRECALL                  1
                            810 CALL                     1
                            820 PRECALL                  2
                            824 CALL                     2
                            834 POP_TOP
                
-               125     >>  836 LOAD_FAST                0 (self)
+               120     >>  836 LOAD_FAST                0 (self)
                            838 LOAD_ATTR               24 (span)
                            848 LOAD_METHOD             25 (set_status)
                            870 LOAD_GLOBAL             52 (StatusCode)
                            882 LOAD_ATTR               27 (OK)
                            892 PRECALL                  1
                            896 CALL                     1
                            906 POP_TOP
                
-               126         908 LOAD_FAST                0 (self)
+               121         908 LOAD_FAST                0 (self)
                            910 LOAD_ATTR               24 (span)
                            920 LOAD_METHOD             28 (end)
                            942 PRECALL                  0
                            946 CALL                     0
                            956 POP_TOP
                
-               127         958 LOAD_FAST                1 (result)
+               122         958 LOAD_FAST                1 (result)
                            960 RETURN_VALUE
                consts
                   None
                   'choices'
                   'system_fingerprint'
                   'usage'
                names      ('set_span_attribute', 'SpanAttributes', 'LLM_MODEL', 'model', 'should_send_prompts', 'hasattr', 'choices', 'extract_content', 'append', 'LLM_RESPONSES', 'serialise_to_json', 'system_fingerprint', 'LLM_SYSTEM_FINGERPRINT', 'usage', 'LLMTokenUsageKeys', 'PROMPT_TOKENS', 'prompt_tokens', 'COMPLETION_TOKENS', 'completion_tokens', 'TOTAL_TOKENS', 'total_tokens', 'LLM_TOKEN_COUNTS', 'json', 'dumps', 'span', 'set_status', 'StatusCode', 'OK', 'end')
                varnames   ('self', 'result', 'responses', 'choice', 'response', 'usage', 'usage_dict')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
                name       'capture_output'
-               firstlineno 92
+               firstlineno 87
                lnotab
                   0x02014a021c012e01040112011e0104012c025c0204015a031eff02020e
                   02180122ff10042e010e0104022c01220122fd0405640148013201
             code
                argcount  : 2
                nlocals   : 5
                stacksize : 7
@@ -709,83 +675,83 @@
                   027403000000000000000000007405000000000000000000006a03000000
                   00000000007c03a6010000ab0100000000000000007c006a040000000000
                   000000a6020000ab0200000000000000007a0d00007d028c2d7c006a0500
                   0000000000000081347c006a05000000000000000044005d2c7d047c0274
                   03000000000000000000007405000000000000000000006a030000000000
                   0000007c04a6010000ab0100000000000000007c006a0400000000000000
                   00a6020000ab0200000000000000007a0d00007d028c2d7c025300
-               129           0 RESUME                   0
+               124           0 RESUME                   0
                
-               131           2 LOAD_CONST               1 (0)
+               126           2 LOAD_CONST               1 (0)
                              4 STORE_FAST               2 (prompt_tokens)
                
-               132           6 LOAD_FAST                0 (self)
+               127           6 LOAD_FAST                0 (self)
                              8 LOAD_ATTR                0 (messages)
                             18 JUMP_IF_TRUE_OR_POP      1 (to 22)
                             20 BUILD_MAP                0
                        >>   22 GET_ITER
                        >>   24 FOR_ITER                44 (to 114)
                             26 STORE_FAST               3 (message)
                
-               133          28 LOAD_FAST                2 (prompt_tokens)
+               128          28 LOAD_FAST                2 (prompt_tokens)
                             30 LOAD_GLOBAL              3 (NULL + calculate_prompt_tokens)
                
-               134          42 LOAD_GLOBAL              5 (NULL + json)
+               129          42 LOAD_GLOBAL              5 (NULL + json)
                             54 LOAD_ATTR                3 (dumps)
                             64 LOAD_FAST                3 (message)
                             66 PRECALL                  1
                             70 CALL                     1
                             80 LOAD_FAST                0 (self)
                             82 LOAD_ATTR                4 (model)
                
-               133          92 PRECALL                  2
+               128          92 PRECALL                  2
                             96 CALL                     2
                            106 BINARY_OP               13 (+=)
                            110 STORE_FAST               2 (prompt_tokens)
                            112 JUMP_BACKWARD           45 (to 24)
                
-               138     >>  114 LOAD_FAST                0 (self)
+               133     >>  114 LOAD_FAST                0 (self)
                            116 LOAD_ATTR                5 (functions)
                            126 POP_JUMP_FORWARD_IF_NONE    52 (to 232)
                
-               139         128 LOAD_FAST                0 (self)
+               134         128 LOAD_FAST                0 (self)
                            130 LOAD_ATTR                5 (functions)
                            140 GET_ITER
                        >>  142 FOR_ITER                44 (to 232)
                            144 STORE_FAST               4 (function)
                
-               140         146 LOAD_FAST                2 (prompt_tokens)
+               135         146 LOAD_FAST                2 (prompt_tokens)
                            148 LOAD_GLOBAL              3 (NULL + calculate_prompt_tokens)
                
-               141         160 LOAD_GLOBAL              5 (NULL + json)
+               136         160 LOAD_GLOBAL              5 (NULL + json)
                            172 LOAD_ATTR                3 (dumps)
                            182 LOAD_FAST                4 (function)
                            184 PRECALL                  1
                            188 CALL                     1
                            198 LOAD_FAST                0 (self)
                            200 LOAD_ATTR                4 (model)
                
-               140         210 PRECALL                  2
+               135         210 PRECALL                  2
                            214 CALL                     2
                            224 BINARY_OP               13 (+=)
                            228 STORE_FAST               2 (prompt_tokens)
                            230 JUMP_BACKWARD           45 (to 142)
                
-               144     >>  232 LOAD_FAST                2 (prompt_tokens)
+               139     >>  232 LOAD_FAST                2 (prompt_tokens)
                            234 RETURN_VALUE
                consts
                   None
                   0
                names      ('messages', 'calculate_prompt_tokens', 'json', 'dumps', 'model', 'functions')
                varnames   ('self', 'result', 'prompt_tokens', 'message', 'function')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
                name       'get_prompt_tokens'
-               firstlineno 129
+               firstlineno 124
                lnotab 0x0202040116010e0132ff16050e0112010e0132ff1604
             code
                argcount  : 3
                nlocals   : 11
                stacksize : 7
                flags     : 3
                code
@@ -836,319 +802,319 @@
                   0400000000721d7c0564051900000000000000000081156406a017000000
                   00000000000000000000000000000000007c05a6010000ab010000000000
                   0000006e0164066901a6020000ab02000000000000000001007c01a01800
                   00000000000000000000000000000000000000742d000000000000000000
                   007c05a6010000ab01000000000000000064056b040000000072087c0564
                   05190000000000000000006e016406a6010000ab01000000000000000001
                   0064005300
-               146           0 RESUME                   0
+               141           0 RESUME                   0
                
-               147           2 LOAD_FAST                0 (self)
+               142           2 LOAD_FAST                0 (self)
                              4 LOAD_ATTR                0 (fkwargs)
                             14 LOAD_METHOD              1 (get)
                             36 LOAD_CONST               1 ('functions')
                             38 PRECALL                  1
                             42 CALL                     1
                             52 STORE_FAST               3 (function_call)
                
-               148          54 LOAD_FAST                0 (self)
+               143          54 LOAD_FAST                0 (self)
                             56 LOAD_ATTR                0 (fkwargs)
                             66 LOAD_METHOD              1 (get)
                             88 LOAD_CONST               2 ('tools')
                             90 PRECALL                  1
                             94 CALL                     1
                            104 STORE_FAST               4 (tool_calls)
                
-               149         106 LOAD_GLOBAL              5 (NULL + hasattr)
+               144         106 LOAD_GLOBAL              5 (NULL + hasattr)
                            118 LOAD_FAST                2 (chunk)
                            120 LOAD_CONST               3 ('model')
                            122 PRECALL                  2
                            126 CALL                     2
                            136 POP_JUMP_FORWARD_IF_FALSE    49 (to 236)
                            138 LOAD_FAST                2 (chunk)
                            140 LOAD_ATTR                3 (model)
                            150 POP_JUMP_FORWARD_IF_NONE    42 (to 236)
                
-               150         152 LOAD_FAST                0 (self)
+               145         152 LOAD_FAST                0 (self)
                            154 LOAD_ATTR                4 (span)
                            164 LOAD_METHOD              5 (set_attribute)
                            186 LOAD_GLOBAL             12 (SpanAttributes)
                            198 LOAD_ATTR                7 (LLM_MODEL)
                            208 LOAD_FAST                2 (chunk)
                            210 LOAD_ATTR                3 (model)
                            220 PRECALL                  2
                            224 CALL                     2
                            234 POP_TOP
                
-               152     >>  236 BUILD_LIST               0
+               147     >>  236 BUILD_LIST               0
                            238 STORE_FAST               5 (content)
                
-               153         240 LOAD_GLOBAL              5 (NULL + hasattr)
+               148         240 LOAD_GLOBAL              5 (NULL + hasattr)
                            252 LOAD_FAST                2 (chunk)
                            254 LOAD_CONST               4 ('choices')
                            256 PRECALL                  2
                            260 CALL                     2
                            270 EXTENDED_ARG             1
                            272 POP_JUMP_FORWARD_IF_FALSE   478 (to 1230)
                            274 LOAD_FAST                2 (chunk)
                            276 LOAD_ATTR                8 (choices)
                            286 EXTENDED_ARG             1
                            288 POP_JUMP_FORWARD_IF_NONE   470 (to 1230)
                
-               154         290 LOAD_FAST                3 (function_call)
+               149         290 LOAD_FAST                3 (function_call)
                            292 POP_JUMP_FORWARD_IF_TRUE   131 (to 556)
                            294 LOAD_FAST                4 (tool_calls)
                            296 POP_JUMP_FORWARD_IF_TRUE   129 (to 556)
                
-               155         298 LOAD_FAST                2 (chunk)
+               150         298 LOAD_FAST                2 (chunk)
                            300 LOAD_ATTR                8 (choices)
                            310 GET_ITER
                        >>  312 FOR_ITER               119 (to 552)
                            314 STORE_FAST               6 (choice)
                
-               156         316 LOAD_FAST                6 (choice)
+               151         316 LOAD_FAST                6 (choice)
                            318 LOAD_ATTR                9 (delta)
                            328 POP_JUMP_FORWARD_IF_FALSE   110 (to 550)
                            330 LOAD_FAST                6 (choice)
                            332 LOAD_ATTR                9 (delta)
                            342 LOAD_ATTR               10 (content)
                            352 POP_JUMP_FORWARD_IF_NONE    98 (to 550)
                
-               157         354 LOAD_GLOBAL             23 (NULL + estimate_tokens)
+               152         354 LOAD_GLOBAL             23 (NULL + estimate_tokens)
                            366 LOAD_FAST                6 (choice)
                            368 LOAD_ATTR                9 (delta)
                            378 LOAD_ATTR               10 (content)
                            388 PRECALL                  1
                            392 CALL                     1
                            402 STORE_FAST               7 (token_counts)
                
-               158         404 LOAD_FAST                0 (self)
+               153         404 LOAD_FAST                0 (self)
                            406 LOAD_ATTR               12 (tokens)
                            416 LOAD_METHOD              1 (get)
                            438 LOAD_GLOBAL             26 (LLMTokenUsageKeys)
                            450 LOAD_ATTR               14 (COMPLETION_TOKENS)
                            460 LOAD_CONST               5 (0)
                            462 PRECALL                  2
                            466 CALL                     2
                            476 STORE_FAST               8 (completion_tokens)
                
-               159         478 LOAD_FAST                8 (completion_tokens)
+               154         478 LOAD_FAST                8 (completion_tokens)
                            480 LOAD_FAST                7 (token_counts)
                            482 BINARY_OP                0 (+)
                            486 LOAD_FAST                0 (self)
                            488 LOAD_ATTR               12 (tokens)
                            498 LOAD_GLOBAL             26 (LLMTokenUsageKeys)
                            510 LOAD_ATTR               14 (COMPLETION_TOKENS)
                            520 STORE_SUBSCR
                
-               160         524 LOAD_FAST                6 (choice)
+               155         524 LOAD_FAST                6 (choice)
                            526 LOAD_ATTR                9 (delta)
                            536 LOAD_ATTR               10 (content)
                            546 BUILD_LIST               1
                            548 STORE_FAST               5 (content)
                        >>  550 JUMP_BACKWARD          120 (to 312)
                
-               155     >>  552 EXTENDED_ARG             1
+               150     >>  552 EXTENDED_ARG             1
                            554 JUMP_FORWARD           337 (to 1230)
                
-               161     >>  556 LOAD_FAST                3 (function_call)
+               156     >>  556 LOAD_FAST                3 (function_call)
                            558 POP_JUMP_FORWARD_IF_FALSE   155 (to 870)
                
-               162         560 LOAD_FAST                2 (chunk)
+               157         560 LOAD_FAST                2 (chunk)
                            562 LOAD_ATTR                8 (choices)
                            572 GET_ITER
                        >>  574 FOR_ITER               146 (to 868)
                            576 STORE_FAST               6 (choice)
                
-               164         578 LOAD_FAST                6 (choice)
+               159         578 LOAD_FAST                6 (choice)
                            580 LOAD_ATTR                9 (delta)
                
-               163         590 POP_JUMP_FORWARD_IF_FALSE   137 (to 866)
+               158         590 POP_JUMP_FORWARD_IF_FALSE   137 (to 866)
                
-               165         592 LOAD_FAST                6 (choice)
+               160         592 LOAD_FAST                6 (choice)
                            594 LOAD_ATTR                9 (delta)
                            604 LOAD_ATTR               15 (function_call)
                            614 POP_JUMP_FORWARD_IF_NONE   125 (to 866)
                
-               166         616 LOAD_FAST                6 (choice)
+               161         616 LOAD_FAST                6 (choice)
                            618 LOAD_ATTR                9 (delta)
                            628 LOAD_ATTR               15 (function_call)
                            638 LOAD_ATTR               16 (arguments)
                            648 POP_JUMP_FORWARD_IF_NONE   108 (to 866)
                
-               168         650 LOAD_GLOBAL             23 (NULL + estimate_tokens)
+               163         650 LOAD_GLOBAL             23 (NULL + estimate_tokens)
                
-               169         662 LOAD_FAST                6 (choice)
+               164         662 LOAD_FAST                6 (choice)
                            664 LOAD_ATTR                9 (delta)
                            674 LOAD_ATTR               15 (function_call)
                            684 LOAD_ATTR               16 (arguments)
                
-               168         694 PRECALL                  1
+               163         694 PRECALL                  1
                            698 CALL                     1
                            708 STORE_FAST               7 (token_counts)
                
-               171         710 LOAD_FAST                0 (self)
+               166         710 LOAD_FAST                0 (self)
                            712 LOAD_ATTR               12 (tokens)
                            722 LOAD_METHOD              1 (get)
                            744 LOAD_GLOBAL             26 (LLMTokenUsageKeys)
                            756 LOAD_ATTR               14 (COMPLETION_TOKENS)
                            766 LOAD_CONST               5 (0)
                            768 PRECALL                  2
                            772 CALL                     2
                            782 STORE_FAST               8 (completion_tokens)
                
-               172         784 LOAD_FAST                8 (completion_tokens)
+               167         784 LOAD_FAST                8 (completion_tokens)
                            786 LOAD_FAST                7 (token_counts)
                            788 BINARY_OP                0 (+)
                            792 LOAD_FAST                0 (self)
                            794 LOAD_ATTR               12 (tokens)
                            804 LOAD_GLOBAL             26 (LLMTokenUsageKeys)
                            816 LOAD_ATTR               14 (COMPLETION_TOKENS)
                            826 STORE_SUBSCR
                
-               173         830 LOAD_FAST                6 (choice)
+               168         830 LOAD_FAST                6 (choice)
                            832 LOAD_ATTR                9 (delta)
                            842 LOAD_ATTR               15 (function_call)
                            852 LOAD_ATTR               16 (arguments)
                            862 BUILD_LIST               1
                            864 STORE_FAST               5 (content)
                        >>  866 JUMP_BACKWARD          147 (to 574)
                
-               162     >>  868 JUMP_FORWARD           180 (to 1230)
+               157     >>  868 JUMP_FORWARD           180 (to 1230)
                
-               174     >>  870 LOAD_FAST                4 (tool_calls)
+               169     >>  870 LOAD_FAST                4 (tool_calls)
                            872 POP_JUMP_FORWARD_IF_FALSE   178 (to 1230)
                
-               175         874 LOAD_FAST                2 (chunk)
+               170         874 LOAD_FAST                2 (chunk)
                            876 LOAD_ATTR                8 (choices)
                            886 GET_ITER
                        >>  888 FOR_ITER               170 (to 1230)
                            890 STORE_FAST               6 (choice)
                
-               176         892 LOAD_CONST               6 ('')
+               171         892 LOAD_CONST               6 ('')
                            894 STORE_FAST               9 (tool_call)
                
-               177         896 LOAD_FAST                6 (choice)
+               172         896 LOAD_FAST                6 (choice)
                            898 LOAD_ATTR                9 (delta)
                            908 POP_JUMP_FORWARD_IF_FALSE   159 (to 1228)
                            910 LOAD_FAST                6 (choice)
                            912 LOAD_ATTR                9 (delta)
                            922 LOAD_ATTR               17 (tool_calls)
                            932 POP_JUMP_FORWARD_IF_NONE   147 (to 1228)
                
-               178         934 LOAD_FAST                6 (choice)
+               173         934 LOAD_FAST                6 (choice)
                            936 LOAD_ATTR                9 (delta)
                            946 LOAD_ATTR               17 (tool_calls)
                            956 STORE_FAST              10 (toolcalls)
                
-               179         958 BUILD_LIST               0
+               174         958 BUILD_LIST               0
                            960 STORE_FAST               5 (content)
                
-               180         962 LOAD_FAST               10 (toolcalls)
+               175         962 LOAD_FAST               10 (toolcalls)
                            964 GET_ITER
                        >>  966 FOR_ITER               130 (to 1228)
                            968 STORE_FAST               9 (tool_call)
                
-               182         970 LOAD_FAST                9 (tool_call)
+               177         970 LOAD_FAST                9 (tool_call)
                
-               181         972 POP_JUMP_FORWARD_IF_FALSE   121 (to 1216)
+               176         972 POP_JUMP_FORWARD_IF_FALSE   121 (to 1216)
                
-               183         974 LOAD_FAST                9 (tool_call)
+               178         974 LOAD_FAST                9 (tool_call)
                            976 LOAD_ATTR               18 (function)
                            986 POP_JUMP_FORWARD_IF_NONE   114 (to 1216)
                
-               184         988 LOAD_FAST                9 (tool_call)
+               179         988 LOAD_FAST                9 (tool_call)
                            990 LOAD_ATTR               18 (function)
                           1000 LOAD_ATTR               16 (arguments)
                           1010 POP_JUMP_FORWARD_IF_NONE   102 (to 1216)
                
-               186        1012 LOAD_GLOBAL             23 (NULL + estimate_tokens)
+               181        1012 LOAD_GLOBAL             23 (NULL + estimate_tokens)
                
-               187        1024 LOAD_FAST                9 (tool_call)
+               182        1024 LOAD_FAST                9 (tool_call)
                           1026 LOAD_ATTR               18 (function)
                           1036 LOAD_ATTR               16 (arguments)
                
-               186        1046 PRECALL                  1
+               181        1046 PRECALL                  1
                           1050 CALL                     1
                           1060 STORE_FAST               7 (token_counts)
                
-               189        1062 LOAD_FAST                0 (self)
+               184        1062 LOAD_FAST                0 (self)
                           1064 LOAD_ATTR               12 (tokens)
                           1074 LOAD_METHOD              1 (get)
                           1096 LOAD_GLOBAL             26 (LLMTokenUsageKeys)
                           1108 LOAD_ATTR               14 (COMPLETION_TOKENS)
                           1118 LOAD_CONST               5 (0)
                           1120 PRECALL                  2
                           1124 CALL                     2
                           1134 STORE_FAST               8 (completion_tokens)
                
-               190        1136 LOAD_FAST                8 (completion_tokens)
+               185        1136 LOAD_FAST                8 (completion_tokens)
                           1138 LOAD_FAST                7 (token_counts)
                           1140 BINARY_OP                0 (+)
                           1144 LOAD_FAST                0 (self)
                           1146 LOAD_ATTR               12 (tokens)
                           1156 LOAD_GLOBAL             26 (LLMTokenUsageKeys)
                           1168 LOAD_ATTR               14 (COMPLETION_TOKENS)
                           1178 STORE_SUBSCR
                
-               191        1182 LOAD_FAST                5 (content)
+               186        1182 LOAD_FAST                5 (content)
                
-               192        1184 LOAD_FAST                9 (tool_call)
+               187        1184 LOAD_FAST                9 (tool_call)
                           1186 LOAD_ATTR               18 (function)
                           1196 LOAD_ATTR               16 (arguments)
                
-               191        1206 BUILD_LIST               1
+               186        1206 BUILD_LIST               1
                           1208 BINARY_OP                0 (+)
                           1212 STORE_FAST               5 (content)
                           1214 JUMP_BACKWARD          125 (to 966)
                
-               195     >> 1216 LOAD_FAST                5 (content)
+               190     >> 1216 LOAD_FAST                5 (content)
                           1218 BUILD_LIST               0
                           1220 BINARY_OP                0 (+)
                           1224 STORE_FAST               5 (content)
                           1226 JUMP_BACKWARD          131 (to 966)
                        >> 1228 JUMP_BACKWARD          171 (to 888)
                
-               197     >> 1230 LOAD_FAST                0 (self)
+               192     >> 1230 LOAD_FAST                0 (self)
                           1232 LOAD_ATTR                4 (span)
                           1242 LOAD_METHOD             19 (add_event)
                
-               198        1264 LOAD_GLOBAL             40 (Event)
+               193        1264 LOAD_GLOBAL             40 (Event)
                           1276 LOAD_ATTR               21 (STREAM_OUTPUT)
                
-               200        1286 LOAD_CONST               7 ('response')
+               195        1286 LOAD_CONST               7 ('response')
                
-               202        1288 LOAD_GLOBAL             45 (NULL + len)
+               197        1288 LOAD_GLOBAL             45 (NULL + len)
                           1300 LOAD_FAST                5 (content)
                           1302 PRECALL                  1
                           1306 CALL                     1
                           1316 LOAD_CONST               5 (0)
                           1318 COMPARE_OP               4 (>)
                           1324 POP_JUMP_FORWARD_IF_FALSE    29 (to 1384)
                           1326 LOAD_FAST                5 (content)
                           1328 LOAD_CONST               5 (0)
                           1330 BINARY_SUBSCR
                           1340 POP_JUMP_FORWARD_IF_NONE    21 (to 1384)
                
-               201        1342 LOAD_CONST               6 ('')
+               196        1342 LOAD_CONST               6 ('')
                           1344 LOAD_METHOD             23 (join)
                           1366 LOAD_FAST                5 (content)
                           1368 PRECALL                  1
                           1372 CALL                     1
                           1382 JUMP_FORWARD             1 (to 1386)
                
-               203     >> 1384 LOAD_CONST               6 ('')
+               198     >> 1384 LOAD_CONST               6 ('')
                
-               199     >> 1386 BUILD_MAP                1
+               194     >> 1386 BUILD_MAP                1
                
-               197        1388 PRECALL                  2
+               192        1388 PRECALL                  2
                           1392 CALL                     2
                           1402 POP_TOP
                
-               208        1404 LOAD_FAST                1 (result_content)
+               203        1404 LOAD_FAST                1 (result_content)
                           1406 LOAD_METHOD             24 (append)
                           1428 LOAD_GLOBAL             45 (NULL + len)
                           1440 LOAD_FAST                5 (content)
                           1442 PRECALL                  1
                           1446 CALL                     1
                           1456 LOAD_CONST               5 (0)
                           1458 COMPARE_OP               4 (>)
@@ -1174,15 +1140,15 @@
                   'response'
                names      ('fkwargs', 'get', 'hasattr', 'model', 'span', 'set_attribute', 'SpanAttributes', 'LLM_MODEL', 'choices', 'delta', 'content', 'estimate_tokens', 'tokens', 'LLMTokenUsageKeys', 'COMPLETION_TOKENS', 'function_call', 'arguments', 'tool_calls', 'function', 'add_event', 'Event', 'STREAM_OUTPUT', 'len', 'join', 'append')
                varnames   ('self', 'result_content', 'chunk', 'function_call', 'tool_calls', 'content', 'choice', 'token_counts', 'completion_tokens', 'tool_call', 'toolcalls')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
                name       'capture_chunk'
-               firstlineno 146
+               firstlineno 141
                lnotab
                   0x0201340134012e0154020401320108011201260132014a012e011cfb04
                   06040112020cff0202180122020c0120ff10034a012e0126f5020c040112
                   010401260118010401080202ff02020e0118020c0116ff10034a012e0102
                   0116ff0a040e0222011602020236ff2a0202fc02fe100b
             code
                argcount  : 3
@@ -1210,120 +1176,120 @@
                   0000006402a01300000000000000000000000000000000000000007c02a6
                   010000ab01000000000000000069026701a6010000ab0100000000000000
                   00a6020000ab02000000000000000001007c006a010000000000000000a0
                   140000000000000000000000000000000000000000742a00000000000000
                   0000006a160000000000000000a6010000ab01000000000000000001007c
                   006a010000000000000000a0170000000000000000000000000000000000
                   000000a6000000ab000000000000000000010064005300
-               210           0 RESUME                   0
+               205           0 RESUME                   0
                
-               211           2 LOAD_FAST                0 (self)
+               206           2 LOAD_FAST                0 (self)
                              4 LOAD_METHOD              0 (get_prompt_tokens)
                             26 LOAD_FAST                1 (result)
                             28 PRECALL                  1
                             32 CALL                     1
                             42 STORE_FAST               3 (prompt_tokens)
                
-               213          44 LOAD_FAST                0 (self)
+               208          44 LOAD_FAST                0 (self)
                             46 LOAD_ATTR                1 (span)
                             56 LOAD_METHOD              2 (add_event)
                             78 LOAD_GLOBAL              6 (Event)
                             90 LOAD_ATTR                4 (STREAM_END)
                            100 PRECALL                  1
                            104 CALL                     1
                            114 POP_TOP
                
-               214         116 LOAD_FAST                0 (self)
+               209         116 LOAD_FAST                0 (self)
                            118 LOAD_ATTR                1 (span)
                            128 LOAD_METHOD              5 (set_attribute)
                
-               215         150 LOAD_GLOBAL             12 (SpanAttributes)
+               210         150 LOAD_GLOBAL             12 (SpanAttributes)
                            162 LOAD_ATTR                7 (LLM_TOKEN_COUNTS)
                
-               216         172 LOAD_GLOBAL             17 (NULL + json)
+               211         172 LOAD_GLOBAL             17 (NULL + json)
                            184 LOAD_ATTR                9 (dumps)
                
-               218         194 LOAD_GLOBAL             20 (LLMTokenUsageKeys)
+               213         194 LOAD_GLOBAL             20 (LLMTokenUsageKeys)
                            206 LOAD_ATTR               11 (PROMPT_TOKENS)
                            216 LOAD_FAST                3 (prompt_tokens)
                
-               219         218 LOAD_GLOBAL             20 (LLMTokenUsageKeys)
+               214         218 LOAD_GLOBAL             20 (LLMTokenUsageKeys)
                            230 LOAD_ATTR               12 (COMPLETION_TOKENS)
                            240 LOAD_FAST                0 (self)
                            242 LOAD_ATTR               13 (tokens)
                
-               220         252 LOAD_GLOBAL             20 (LLMTokenUsageKeys)
+               215         252 LOAD_GLOBAL             20 (LLMTokenUsageKeys)
                            264 LOAD_ATTR               12 (COMPLETION_TOKENS)
                
-               219         274 BINARY_SUBSCR
+               214         274 BINARY_SUBSCR
                
-               222         284 LOAD_GLOBAL             20 (LLMTokenUsageKeys)
+               217         284 LOAD_GLOBAL             20 (LLMTokenUsageKeys)
                            296 LOAD_ATTR               14 (TOTAL_TOKENS)
                            306 LOAD_FAST                3 (prompt_tokens)
                            308 LOAD_FAST                0 (self)
                            310 LOAD_ATTR               13 (tokens)
                
-               223         320 LOAD_GLOBAL             20 (LLMTokenUsageKeys)
+               218         320 LOAD_GLOBAL             20 (LLMTokenUsageKeys)
                            332 LOAD_ATTR               12 (COMPLETION_TOKENS)
                
-               222         342 BINARY_SUBSCR
+               217         342 BINARY_SUBSCR
                            352 BINARY_OP                0 (+)
                
-               217         356 BUILD_MAP                3
+               212         356 BUILD_MAP                3
                
-               216         358 PRECALL                  1
+               211         358 PRECALL                  1
                            362 CALL                     1
                
-               214         372 PRECALL                  2
+               209         372 PRECALL                  2
                            376 CALL                     2
                            386 POP_TOP
                
-               228         388 LOAD_FAST                0 (self)
+               223         388 LOAD_FAST                0 (self)
                            390 LOAD_ATTR                1 (span)
                            400 LOAD_METHOD              5 (set_attribute)
                
-               229         422 LOAD_GLOBAL             12 (SpanAttributes)
+               224         422 LOAD_GLOBAL             12 (SpanAttributes)
                            434 LOAD_ATTR               15 (LLM_RESPONSES)
                
-               230         444 LOAD_GLOBAL             17 (NULL + json)
+               225         444 LOAD_GLOBAL             17 (NULL + json)
                            456 LOAD_ATTR                9 (dumps)
                
-               233         466 LOAD_GLOBAL             32 (LLMResponseKeys)
+               228         466 LOAD_GLOBAL             32 (LLMResponseKeys)
                            478 LOAD_ATTR               17 (ROLE)
                            488 LOAD_CONST               1 ('assistant')
                
-               234         490 LOAD_GLOBAL             32 (LLMResponseKeys)
+               229         490 LOAD_GLOBAL             32 (LLMResponseKeys)
                            502 LOAD_ATTR               18 (CONTENT)
                            512 LOAD_CONST               2 ('')
                            514 LOAD_METHOD             19 (join)
                            536 LOAD_FAST                2 (result_content)
                            538 PRECALL                  1
                            542 CALL                     1
                
-               232         552 BUILD_MAP                2
+               227         552 BUILD_MAP                2
                
-               231         554 BUILD_LIST               1
+               226         554 BUILD_LIST               1
                
-               230         556 PRECALL                  1
+               225         556 PRECALL                  1
                            560 CALL                     1
                
-               228         570 PRECALL                  2
+               223         570 PRECALL                  2
                            574 CALL                     2
                            584 POP_TOP
                
-               239         586 LOAD_FAST                0 (self)
+               234         586 LOAD_FAST                0 (self)
                            588 LOAD_ATTR                1 (span)
                            598 LOAD_METHOD             20 (set_status)
                            620 LOAD_GLOBAL             42 (StatusCode)
                            632 LOAD_ATTR               22 (OK)
                            642 PRECALL                  1
                            646 CALL                     1
                            656 POP_TOP
                
-               240         658 LOAD_FAST                0 (self)
+               235         658 LOAD_FAST                0 (self)
                            660 LOAD_ATTR                1 (span)
                            670 LOAD_METHOD             23 (end)
                            692 PRECALL                  0
                            696 CALL                     0
                            706 POP_TOP
                            708 LOAD_CONST               0 (None)
                            710 RETURN_VALUE
@@ -1333,15 +1299,15 @@
                   ''
                names      ('get_prompt_tokens', 'span', 'add_event', 'Event', 'STREAM_END', 'set_attribute', 'SpanAttributes', 'LLM_TOKEN_COUNTS', 'json', 'dumps', 'LLMTokenUsageKeys', 'PROMPT_TOKENS', 'COMPLETION_TOKENS', 'tokens', 'TOTAL_TOKENS', 'LLM_RESPONSES', 'LLMResponseKeys', 'ROLE', 'CONTENT', 'join', 'set_status', 'StatusCode', 'OK', 'end')
                varnames   ('self', 'result', 'result_content', 'prompt_tokens')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
                name       'capture_stream_end'
-               firstlineno 210
+               firstlineno 205
                lnotab
                   0x02012a0248012201160116021801220116ff0a03240116ff0efb02ff0e
                   fe100e22011601160318013efe02ff02ff0efe100b4801
             code
                argcount  : 2
                nlocals   : 4
                stacksize : 6
@@ -1352,54 +1318,54 @@
                   00000000000000a6010000ab010000000000000000010009007c0144005d
                   1c7d037c00a00400000000000000000000000000000000000000007c027c
                   03a6020000ab02000000000000000001007c035600970101008c1d09007c
                   00a00500000000000000000000000000000000000000007c017c02a60200
                   00ab02000000000000000001006401530023007c00a00500000000000000
                   000000000000000000000000007c017c02a6020000ab0200000000000000
                   0001007700780359007701
-               242           0 RETURN_GENERATOR
+               237           0 RETURN_GENERATOR
                              2 POP_TOP
                              4 RESUME                   0
                
-               244           6 BUILD_LIST               0
+               239           6 BUILD_LIST               0
                              8 STORE_FAST               2 (result_content)
                
-               245          10 LOAD_FAST                0 (self)
+               240          10 LOAD_FAST                0 (self)
                             12 LOAD_ATTR                0 (span)
                             22 LOAD_METHOD              1 (add_event)
                             44 LOAD_GLOBAL              4 (Event)
                             56 LOAD_ATTR                3 (STREAM_START)
                             66 PRECALL                  1
                             70 CALL                     1
                             80 POP_TOP
                
-               246          82 NOP
+               241          82 NOP
                
-               247          84 LOAD_FAST                1 (result)
+               242          84 LOAD_FAST                1 (result)
                             86 GET_ITER
                        >>   88 FOR_ITER                28 (to 146)
                             90 STORE_FAST               3 (chunk)
                
-               248          92 LOAD_FAST                0 (self)
+               243          92 LOAD_FAST                0 (self)
                             94 LOAD_METHOD              4 (capture_chunk)
                            116 LOAD_FAST                2 (result_content)
                            118 LOAD_FAST                3 (chunk)
                            120 PRECALL                  2
                            124 CALL                     2
                            134 POP_TOP
                
-               249         136 LOAD_FAST                3 (chunk)
+               244         136 LOAD_FAST                3 (chunk)
                            138 YIELD_VALUE
                            140 RESUME                   1
                            142 POP_TOP
                            144 JUMP_BACKWARD           29 (to 88)
                
-               247     >>  146 NOP
+               242     >>  146 NOP
                
-               251         148 LOAD_FAST                0 (self)
+               246         148 LOAD_FAST                0 (self)
                            150 LOAD_METHOD              5 (capture_stream_end)
                            172 LOAD_FAST                1 (result)
                            174 LOAD_FAST                2 (result_content)
                            176 PRECALL                  2
                            180 CALL                     2
                            190 POP_TOP
                            192 LOAD_CONST               1 (None)
@@ -1424,15 +1390,15 @@
                   None
                names      ('span', 'add_event', 'Event', 'STREAM_START', 'capture_chunk', 'capture_stream_end')
                varnames   ('self', 'result', 'result_content', 'chunk')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
                name       'capture_stream_output'
-               firstlineno 242
+               firstlineno 237
                lnotab 0x060204014801020108012c010afe0204
             code
                argcount  : 2
                nlocals   : 4
                stacksize : 6
                flags     : 515
                code
@@ -1441,61 +1407,61 @@
                   00000000000000a6010000ab010000000000000000010009007c01320033
                   0064017b035600970386047d037c00a00400000000000000000000000000
                   000000000000007c027c03a6020000ab02000000000000000001007c0357
                   005600970101008c23360009007c00a00500000000000000000000000000
                   000000000000007c017c02a6020000ab0200000000000000000100640153
                   0023007c00a00500000000000000000000000000000000000000007c017c
                   02a6020000ab02000000000000000001007700780359007701
-               253           0 RETURN_GENERATOR
+               248           0 RETURN_GENERATOR
                              2 POP_TOP
                              4 RESUME                   0
                
-               255           6 BUILD_LIST               0
+               250           6 BUILD_LIST               0
                              8 STORE_FAST               2 (result_content)
                
-               256          10 LOAD_FAST                0 (self)
+               251          10 LOAD_FAST                0 (self)
                             12 LOAD_ATTR                0 (span)
                             22 LOAD_METHOD              1 (add_event)
                             44 LOAD_GLOBAL              4 (Event)
                             56 LOAD_ATTR                3 (STREAM_START)
                             66 PRECALL                  1
                             70 CALL                     1
                             80 POP_TOP
                
-               257          82 NOP
+               252          82 NOP
                
-               258          84 LOAD_FAST                1 (result)
+               253          84 LOAD_FAST                1 (result)
                             86 GET_AITER
                        >>   88 GET_ANEXT
                             90 LOAD_CONST               1 (None)
                        >>   92 SEND                     3 (to 100)
                             94 YIELD_VALUE
                             96 RESUME                   3
                             98 JUMP_BACKWARD_NO_INTERRUPT     4 (to 92)
                        >>  100 STORE_FAST               3 (chunk)
                
-               259         102 LOAD_FAST                0 (self)
+               254         102 LOAD_FAST                0 (self)
                            104 LOAD_METHOD              4 (capture_chunk)
                            126 LOAD_FAST                2 (result_content)
                            128 LOAD_FAST                3 (chunk)
                            130 PRECALL                  2
                            134 CALL                     2
                            144 POP_TOP
                
-               260         146 LOAD_FAST                3 (chunk)
+               255         146 LOAD_FAST                3 (chunk)
                            148 ASYNC_GEN_WRAP
                            150 YIELD_VALUE
                            152 RESUME                   1
                            154 POP_TOP
                            156 JUMP_BACKWARD           35 (to 88)
                
-               258     >>  158 END_ASYNC_FOR
+               253     >>  158 END_ASYNC_FOR
                            160 NOP
                
-               262         162 LOAD_FAST                0 (self)
+               257         162 LOAD_FAST                0 (self)
                            164 LOAD_METHOD              5 (capture_stream_end)
                            186 LOAD_FAST                1 (result)
                            188 LOAD_FAST                2 (result_content)
                            190 PRECALL                  2
                            194 CALL                     2
                            204 POP_TOP
                            206 LOAD_CONST               1 (None)
@@ -1522,26 +1488,26 @@
                   None
                names      ('span', 'add_event', 'Event', 'STREAM_START', 'capture_chunk', 'capture_stream_end')
                varnames   ('self', 'result', 'result_content', 'chunk')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
                name       'acapture_stream_output'
-               firstlineno 253
+               firstlineno 248
                lnotab 0x060204014801020112012c010cfe0404
-         names      ('__name__', '__module__', '__qualname__', '__init__', 'staticmethod', 'get_span_kind', 'capture_input', 'capture_output', 'get_prompt_tokens', 'capture_chunk', 'capture_stream_end', 'capture_stream_output', 'acapture_stream_output', '__classcell__')
+         names      ('__name__', '__module__', '__qualname__', '__init__', 'capture_input', 'capture_output', 'get_prompt_tokens', 'capture_chunk', 'capture_stream_end', 'capture_stream_output', 'acapture_stream_output', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
          name       'ChatCompletionSpanCapture'
-         firstlineno 38
-         lnotab 0x0c010a07020104ff0e010203062a0625061106400620060b
+         firstlineno 37
+         lnotab 0x0c010a07062a0625061106400620060b
       'ChatCompletionSpanCapture'
-   names      ('__doc__', 'json', 'typing', 'Any', 'Dict', 'agiflow.opentelemetry.instrumentation.constants.openai', 'APIS', 'opentelemetry.trace.status', 'StatusCode', 'agiflow.opentelemetry.utils', 'calculate_prompt_tokens', 'estimate_tokens', 'should_send_prompts', 'agiflow.opentelemetry.instrumentation.openai.hooks.base_llm', 'OpenAILLMSpanCapture', 'agiflow.opentelemetry.instrumentation.openai.hooks.utils', 'extract_content', 'agiflow.opentelemetry.convention', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'LLMTypes', 'LLMSpanAttributesValidator', 'Event', 'AgiflowSpanKindValues', 'SpanAttributes', 'agiflow.utils', 'serialise_to_json', 'ChatCompletionSpanCapture')
+   names      ('__doc__', 'json', 'typing', 'Any', 'Dict', 'agiflow.opentelemetry.instrumentation.constants.openai', 'APIS', 'opentelemetry.trace.status', 'StatusCode', 'agiflow.opentelemetry.utils', 'calculate_prompt_tokens', 'estimate_tokens', 'should_send_prompts', 'agiflow.opentelemetry.instrumentation.openai.hooks.base_llm', 'OpenAILLMSpanCapture', 'agiflow.opentelemetry.instrumentation.openai.hooks.utils', 'extract_content', 'agiflow.opentelemetry.convention', 'LLMResponseKeys', 'LLMTokenUsageKeys', 'LLMTypes', 'LLMSpanAttributesValidator', 'Event', 'SpanAttributes', 'agiflow.utils', 'serialise_to_json', 'ChatCompletionSpanCapture')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010410080110020c010c0214010c010c0124090c03
+   lnotab 0x00ff02010410080110020c010c0214010c010c0120080c03
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/completion.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/completion.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/embedding.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/embedding.cpython-311.pyc`

 * *Files 2% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0x58285966 (Fri May 31 01:31:04 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 2257
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/image_generate.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/image_generate.cpython-311.pyc`

 * *Files 1% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0xb4505966 (Fri May 31 04:23:16 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 2555
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/utils.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/__pycache__/utils.cpython-311.pyc`

 * *Files 1% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0x99375966 (Fri May 31 02:36:09 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 2211
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 2
    flags     : 0
    code 0x970064005a00640164026c016d025a020100640384005a0364045300
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/base.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/base.py`

 * *Files 4% similar despite different names*

```diff
@@ -23,14 +23,16 @@
 )
 from agiflow.opentelemetry.instrumentation.utils import BaseSpanCapture
 from agiflow.opentelemetry.convention import (
   AgiflowServiceTypes,
   SpanAttributes
 )
 
+logger = logging.getLogger(__name__)
+
 
 class OpenAISpanCapture(BaseSpanCapture):
     """
     Shared attributes for other span capture
     """
     model: Optional[str]
 
@@ -59,12 +61,12 @@
         try:
             client = self.instance._client  # pylint: disable=protected-access
             if hasattr(client, 'base_url'):
                 attr[SpanAttributes.OPENAI_API_BASE] = str(client.base_url)
             if hasattr(client, '_api_version'):
                 attr[SpanAttributes.OPENAI_API_VERSION] = str(client._api_version)
         except Exception as ex:  # pylint: disable=broad-except
-            logging.warning(
+            logger.warning(
                 "Failed to set api attributes for openai v1 span, error: %s", str(ex)
             )
 
         return attr
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/base_llm.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/base_llm.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/chat_completion.py`

 * *Files 4% similar despite different names*

```diff
@@ -25,32 +25,27 @@
 from agiflow.opentelemetry.instrumentation.openai.hooks.utils import extract_content
 from agiflow.opentelemetry.convention import (
   LLMResponseKeys,
   LLMTokenUsageKeys,
   LLMTypes,
   LLMSpanAttributesValidator,
   Event,
-  AgiflowSpanKindValues,
   SpanAttributes,
 )
 from agiflow.utils import serialise_to_json
 
 
 class ChatCompletionSpanCapture(OpenAILLMSpanCapture):
     def __init__(
         self,
         *args,
         **kwargs
     ):
         super().__init__(*args, **kwargs)
 
-    @staticmethod
-    def get_span_kind(instance):
-        return AgiflowSpanKindValues.CHAT
-
     def capture_input(self):
         self.add_input_attributes()
         span_attributes: Dict[str, Any] = {
           SpanAttributes.LLM_API: APIS["CHAT_COMPLETION"]["ENDPOINT"],
           SpanAttributes.LLM_TYPE: LLMTypes.CHAT,
         }
         if should_send_prompts():
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/embedding.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/embedding.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/image_generate.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/image_generate.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/hooks/utils.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/hooks/utils.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/openai/instrumentation.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/openai/instrumentation.py`

 * *Files 3% similar despite different names*

```diff
@@ -10,15 +10,14 @@
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 """
 
-import logging
 from typing import Collection
 
 from opentelemetry.instrumentation.instrumentor import BaseInstrumentor
 from opentelemetry.trace import get_tracer
 from wrapt import wrap_function_wrapper
 from agiflow.opentelemetry.instrumentation.utils import (
   method_wrapper,
@@ -29,16 +28,14 @@
 from agiflow.opentelemetry.instrumentation.openai.hooks import (
   ImageGenerateSpanCapture,
   ChatCompletionSpanCapture,
   EmbeddingSpanCapture,
 )
 from agiflow.version import __version__
 
-logging.basicConfig(level=logging.FATAL)
-
 
 class OpenAIInstrumentation(BaseInstrumentor):
 
     def instrumentation_dependencies(self) -> Collection[str]:
         return ["openai >= 0.27.0"]
 
     def _instrument(self, **kwargs):
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/utils/__init__.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/utils/__init__.py`

 * *Files 10% similar despite different names*

```diff
@@ -12,28 +12,26 @@
   BaseSpanCapture
 )
 
 
 def patch_module_classes(
     module_name,
     tracer,
-    version,
     task,
     SpanCapture: type[AbstractSpanCapture] = AbstractSpanCapture,
     exclude_methods: List[str] = [],
     exclude_classes: List[str] = [],
 ):
     """
     Generic function to patch all public methods of all classes in a given module.
 
     Parameters:
     - module: The module object containing the classes to patch.
     - module_name: The name of the module, used in the prefix for `wrap_function_wrapper`.
     - tracer: The tracer object used in `generic_patch`.
-    - version: The version parameter used in `generic_patch`.
     - task: The name used to identify the type of task in `generic_patch`.
     - exclude_private: Whether to exclude private methods (those starting with '_').
     """
     # import the module
     module = importlib.import_module(module_name)
     # loop through all public classes in the module
     for name, obj in inspect.getmembers(
@@ -52,15 +50,14 @@
             try:
                 method_path = f"{name}.{method_name}"
                 wrap_function_wrapper(
                     module_name,
                     method_path,
                     method_wrapper(
                       tracer=tracer,
-                      version=version,
                       task=task,
                       SpanCapture=SpanCapture
                     )
                 )
             # pylint: disable=broad-except
             except Exception:
                 pass
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/utils/__pycache__/__init__.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/utils/__pycache__/__init__.cpython-311.pyc`

 * *Files 17% similar despite different names*

#### Python bytecode

```diff
@@ -1,10 +1,10 @@
 magic:    0xa70d0d0a
-moddate:  0xee2d5966 (Fri May 31 01:54:54 2024 UTC)
-files sz: 2423
+moddate:  0x08b45b66 (Sat Jun  1 23:51:36 2024 UTC)
+files sz: 2309
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 8
    flags     : 0
    code
       0x9700640064016c005a01640064016c025a02640064026c036d045a0401
@@ -52,45 +52,45 @@
                 62 STORE_NAME              11 (async_stream_wrapper)
                 64 IMPORT_FROM             12 (AbstractSpanCapture)
                 66 STORE_NAME              12 (AbstractSpanCapture)
                 68 IMPORT_FROM             13 (BaseSpanCapture)
                 70 STORE_NAME              13 (BaseSpanCapture)
                 72 POP_TOP
    
-    21          74 LOAD_NAME               12 (AbstractSpanCapture)
+    20          74 LOAD_NAME               12 (AbstractSpanCapture)
    
-    22          76 BUILD_LIST               0
+    21          76 BUILD_LIST               0
    
-    23          78 BUILD_LIST               0
+    22          78 BUILD_LIST               0
    
     16          80 BUILD_TUPLE              3
                 82 LOAD_CONST               5 ('SpanCapture')
    
-    21          84 LOAD_NAME               14 (type)
+    20          84 LOAD_NAME               14 (type)
                 86 LOAD_NAME               12 (AbstractSpanCapture)
                 88 BINARY_SUBSCR
    
     16          98 LOAD_CONST               6 ('exclude_methods')
    
-    22         100 LOAD_NAME                4 (List)
+    21         100 LOAD_NAME                4 (List)
                102 LOAD_NAME               15 (str)
                104 BINARY_SUBSCR
    
     16         114 LOAD_CONST               7 ('exclude_classes')
    
-    23         116 LOAD_NAME                4 (List)
+    22         116 LOAD_NAME                4 (List)
                118 LOAD_NAME               15 (str)
                120 BINARY_SUBSCR
    
     16         130 BUILD_TUPLE              6
                132 LOAD_CONST               8 (<code object patch_module_classes, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/__init__.py", line 16>)
                134 MAKE_FUNCTION            5 (defaults, annotations)
                136 STORE_NAME              16 (patch_module_classes)
    
-    69         138 BUILD_LIST               0
+    66         138 BUILD_LIST               0
                140 LOAD_CONST               9 (('method_wrapper', 'async_method_wrapper', 'stream_wrapper', 'async_stream_wrapper', 'AbstractSpanCapture', 'BaseSpanCapture', 'patch_module_classes'))
                142 LIST_EXTEND              1
                144 STORE_NAME              17 (__all__)
                146 LOAD_CONST               1 (None)
                148 RETURN_VALUE
    consts
       0
@@ -98,173 +98,171 @@
       ('List',)
       ('wrap_function_wrapper',)
       ('method_wrapper', 'async_method_wrapper', 'stream_wrapper', 'async_stream_wrapper', 'AbstractSpanCapture', 'BaseSpanCapture')
       'SpanCapture'
       'exclude_methods'
       'exclude_classes'
       code
-         argcount  : 7
-         nlocals   : 12
-         stacksize : 12
+         argcount  : 6
+         nlocals   : 11
+         stacksize : 11
          flags     : 3
          code
-            0x870c97007401000000000000000000006a0100000000000000007c00a6
-            010000ab0100000000000000008a0c7405000000000000000000006a0300
-            00000000000000890c880c660164018408a6020000ab0200000000000000
-            0044005d995c0200007d077d087c07a00400000000000000000000000000
-            000000000000006402a6010000ab01000000000000000073047c077c0676
-            0072018c1f7405000000000000000000006a0300000000000000007c0874
+            0x870b97007401000000000000000000006a0100000000000000007c00a6
+            010000ab0100000000000000008a0b7405000000000000000000006a0300
+            00000000000000890b880b660164018408a6020000ab0200000000000000
+            0044005d985c0200007d067d077c06a00400000000000000000000000000
+            000000000000006402a6010000ab01000000000000000073047c067c0576
+            0072018c1f7405000000000000000000006a0300000000000000007c0774
             04000000000000000000006a050000000000000000ac03a6020000ab0200
-            0000000000000044005d595c0200007d097d0a7c09a00400000000000000
+            0000000000000044005d585c0200007d087d097c08a00400000000000000
             000000000000000000000000006402a6010000ab01000000000000000073
-            047c097c05760072018c1f09007c079b0064047c099b009d037d0b740d00
-            0000000000000000007c007c0b740f000000000000000000007c017c027c
-            037c04ac05a6040000ab040000000000000000a6030000ab030000000000
-            00000001008c4a230074100000000000000000000024007203010059008c
-            5677007803590077018c9a64065300
-                       0 MAKE_CELL               12 (module)
+            047c087c04760072018c1f09007c069b0064047c089b009d037d0a740d00
+            0000000000000000007c007c0a740f000000000000000000007c017c027c
+            03ac05a6030000ab030000000000000000a6030000ab0300000000000000
+            0001008c49230074100000000000000000000024007203010059008c5577
+            007803590077018c9964065300
+                       0 MAKE_CELL               11 (module)
          
           16           2 RESUME                   0
          
-          37           4 LOAD_GLOBAL              1 (NULL + importlib)
+          35           4 LOAD_GLOBAL              1 (NULL + importlib)
                       16 LOAD_ATTR                1 (import_module)
                       26 LOAD_FAST                0 (module_name)
                       28 PRECALL                  1
                       32 CALL                     1
-                      42 STORE_DEREF             12 (module)
+                      42 STORE_DEREF             11 (module)
          
-          39          44 LOAD_GLOBAL              5 (NULL + inspect)
+          37          44 LOAD_GLOBAL              5 (NULL + inspect)
                       56 LOAD_ATTR                3 (getmembers)
          
-          40          66 LOAD_DEREF              12 (module)
+          38          66 LOAD_DEREF              11 (module)
          
-          41          68 LOAD_CLOSURE            12 (module)
+          39          68 LOAD_CLOSURE            11 (module)
                       70 BUILD_TUPLE              1
-                      72 LOAD_CONST               1 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/__init__.py", line 41>)
+                      72 LOAD_CONST               1 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/__init__.py", line 39>)
                       74 MAKE_FUNCTION            8 (closure)
          
-          39          76 PRECALL                  2
+          37          76 PRECALL                  2
                       80 CALL                     2
                       90 GET_ITER
-                 >>   92 FOR_ITER               153 (to 400)
+                 >>   92 FOR_ITER               152 (to 398)
                       94 UNPACK_SEQUENCE          2
-                      98 STORE_FAST               7 (name)
-                     100 STORE_FAST               8 (obj)
+                      98 STORE_FAST               6 (name)
+                     100 STORE_FAST               7 (obj)
          
-          44         102 LOAD_FAST                7 (name)
+          42         102 LOAD_FAST                6 (name)
                      104 LOAD_METHOD              4 (startswith)
                      126 LOAD_CONST               2 ('_')
                      128 PRECALL                  1
                      132 CALL                     1
                      142 POP_JUMP_FORWARD_IF_TRUE     4 (to 152)
-                     144 LOAD_FAST                7 (name)
-                     146 LOAD_FAST                6 (exclude_classes)
+                     144 LOAD_FAST                6 (name)
+                     146 LOAD_FAST                5 (exclude_classes)
                      148 CONTAINS_OP              0
                      150 POP_JUMP_FORWARD_IF_FALSE     1 (to 154)
          
-          45     >>  152 JUMP_BACKWARD           31 (to 92)
+          43     >>  152 JUMP_BACKWARD           31 (to 92)
          
-          48     >>  154 LOAD_GLOBAL              5 (NULL + inspect)
+          46     >>  154 LOAD_GLOBAL              5 (NULL + inspect)
                      166 LOAD_ATTR                3 (getmembers)
-                     176 LOAD_FAST                8 (obj)
+                     176 LOAD_FAST                7 (obj)
                      178 LOAD_GLOBAL              4 (inspect)
                      190 LOAD_ATTR                5 (isfunction)
                      200 KW_NAMES                 3
                      202 PRECALL                  2
                      206 CALL                     2
                      216 GET_ITER
-                 >>  218 FOR_ITER                89 (to 398)
+                 >>  218 FOR_ITER                88 (to 396)
                      220 UNPACK_SEQUENCE          2
-                     224 STORE_FAST               9 (method_name)
-                     226 STORE_FAST              10 (_)
+                     224 STORE_FAST               8 (method_name)
+                     226 STORE_FAST               9 (_)
          
-          50         228 LOAD_FAST                9 (method_name)
+          48         228 LOAD_FAST                8 (method_name)
                      230 LOAD_METHOD              4 (startswith)
                      252 LOAD_CONST               2 ('_')
                      254 PRECALL                  1
                      258 CALL                     1
                      268 POP_JUMP_FORWARD_IF_TRUE     4 (to 278)
-                     270 LOAD_FAST                9 (method_name)
-                     272 LOAD_FAST                5 (exclude_methods)
+                     270 LOAD_FAST                8 (method_name)
+                     272 LOAD_FAST                4 (exclude_methods)
                      274 CONTAINS_OP              0
                      276 POP_JUMP_FORWARD_IF_FALSE     1 (to 280)
          
-          51     >>  278 JUMP_BACKWARD           31 (to 218)
+          49     >>  278 JUMP_BACKWARD           31 (to 218)
          
-          52     >>  280 NOP
+          50     >>  280 NOP
          
-          53         282 LOAD_FAST                7 (name)
+          51         282 LOAD_FAST                6 (name)
                      284 FORMAT_VALUE             0
                      286 LOAD_CONST               4 ('.')
-                     288 LOAD_FAST                9 (method_name)
+                     288 LOAD_FAST                8 (method_name)
                      290 FORMAT_VALUE             0
                      292 BUILD_STRING             3
-                     294 STORE_FAST              11 (method_path)
+                     294 STORE_FAST              10 (method_path)
          
-          54         296 LOAD_GLOBAL             13 (NULL + wrap_function_wrapper)
+          52         296 LOAD_GLOBAL             13 (NULL + wrap_function_wrapper)
          
-          55         308 LOAD_FAST                0 (module_name)
+          53         308 LOAD_FAST                0 (module_name)
          
-          56         310 LOAD_FAST               11 (method_path)
+          54         310 LOAD_FAST               10 (method_path)
          
-          57         312 LOAD_GLOBAL             15 (NULL + method_wrapper)
+          55         312 LOAD_GLOBAL             15 (NULL + method_wrapper)
          
-          58         324 LOAD_FAST                1 (tracer)
+          56         324 LOAD_FAST                1 (tracer)
          
-          59         326 LOAD_FAST                2 (version)
+          57         326 LOAD_FAST                2 (task)
          
-          60         328 LOAD_FAST                3 (task)
+          58         328 LOAD_FAST                3 (SpanCapture)
          
-          61         330 LOAD_FAST                4 (SpanCapture)
+          55         330 KW_NAMES                 5
+                     332 PRECALL                  3
+                     336 CALL                     3
          
-          57         332 KW_NAMES                 5
-                     334 PRECALL                  4
-                     338 CALL                     4
+          52         346 PRECALL                  3
+                     350 CALL                     3
+                     360 POP_TOP
+                     362 JUMP_BACKWARD           73 (to 218)
+                 >>  364 PUSH_EXC_INFO
          
-          54         348 PRECALL                  3
-                     352 CALL                     3
-                     362 POP_TOP
-                     364 JUMP_BACKWARD           74 (to 218)
-                 >>  366 PUSH_EXC_INFO
+          62         366 LOAD_GLOBAL             16 (Exception)
+                     378 CHECK_EXC_MATCH
+                     380 POP_JUMP_FORWARD_IF_FALSE     3 (to 388)
+                     382 POP_TOP
          
-          65         368 LOAD_GLOBAL             16 (Exception)
-                     380 CHECK_EXC_MATCH
-                     382 POP_JUMP_FORWARD_IF_FALSE     3 (to 390)
-                     384 POP_TOP
+          63         384 POP_EXCEPT
+                     386 JUMP_BACKWARD           85 (to 218)
          
-          66         386 POP_EXCEPT
-                     388 JUMP_BACKWARD           86 (to 218)
+          62     >>  388 RERAISE                  0
+                 >>  390 COPY                     3
+                     392 POP_EXCEPT
+                     394 RERAISE                  1
          
-          65     >>  390 RERAISE                  0
-                 >>  392 COPY                     3
-                     394 POP_EXCEPT
-                     396 RERAISE                  1
+          46     >>  396 JUMP_BACKWARD          153 (to 92)
          
-          48     >>  398 JUMP_BACKWARD          154 (to 92)
-         
-          39     >>  400 LOAD_CONST               6 (None)
-                     402 RETURN_VALUE
+          37     >>  398 LOAD_CONST               6 (None)
+                     400 RETURN_VALUE
          ExceptionTable:
-           282 to 362 -> 366 [2]
-           366 to 384 -> 392 [3] lasti
-           390 to 390 -> 392 [3] lasti
+           282 to 360 -> 364 [2]
+           364 to 382 -> 390 [3] lasti
+           388 to 388 -> 390 [3] lasti
          consts
-            "\n    Generic function to patch all public methods of all classes in a given module.\n\n    Parameters:\n    - module: The module object containing the classes to patch.\n    - module_name: The name of the module, used in the prefix for `wrap_function_wrapper`.\n    - tracer: The tracer object used in `generic_patch`.\n    - version: The version parameter used in `generic_patch`.\n    - task: The name used to identify the type of task in `generic_patch`.\n    - exclude_private: Whether to exclude private methods (those starting with '_').\n    "
+            "\n    Generic function to patch all public methods of all classes in a given module.\n\n    Parameters:\n    - module: The module object containing the classes to patch.\n    - module_name: The name of the module, used in the prefix for `wrap_function_wrapper`.\n    - tracer: The tracer object used in `generic_patch`.\n    - task: The name used to identify the type of task in `generic_patch`.\n    - exclude_private: Whether to exclude private methods (those starting with '_').\n    "
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 3
                flags     : 19
                code
                   0x950197007401000000000000000000006a0100000000000000007c00a6
                   010000ab0100000000000000006f0f7c006a02000000000000000089016a
                   0300000000000000006b02000000005300
                              0 COPY_FREE_VARS           1
                
-                41           2 RESUME                   0
+                39           2 RESUME                   0
                              4 LOAD_GLOBAL              1 (NULL + inspect)
                             16 LOAD_ATTR                1 (isclass)
                             26 LOAD_FAST                0 (member)
                             28 PRECALL                  1
                             32 CALL                     1
                             42 JUMP_IF_FALSE_OR_POP    15 (to 74)
                             44 LOAD_FAST                0 (member)
@@ -277,35 +275,35 @@
                   None
                names      ('inspect', 'isclass', '__module__', '__name__')
                varnames   ('member',)
                freevars   ('module',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/__init__.py'
                name       '<lambda>'
-               firstlineno 41
+               firstlineno 39
                lnotab 0x
             '_'
             ('predicate',)
             '.'
-            ('tracer', 'version', 'task', 'SpanCapture')
+            ('tracer', 'task', 'SpanCapture')
             None
          names      ('importlib', 'import_module', 'inspect', 'getmembers', 'startswith', 'isfunction', 'wrap_function_wrapper', 'method_wrapper', 'Exception')
-         varnames   ('module_name', 'tracer', 'version', 'task', 'SpanCapture', 'exclude_methods', 'exclude_classes', 'name', 'obj', 'method_name', '_', 'method_path')
+         varnames   ('module_name', 'tracer', 'task', 'SpanCapture', 'exclude_methods', 'exclude_classes', 'name', 'obj', 'method_name', '_', 'method_path')
          freevars   ()
          cellvars   ('module',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/__init__.py'
          name       'patch_module_classes'
          firstlineno 16
          lnotab
-            0x041528021601020108fe1a05320102034a023201020102010e010c0102
-            0102010c0102010201020102fc10fd140b120104ff08ef02f7
+            0x041328021601020108fe1a05320102034a023201020102010e010c0102
+            0102010c010201020102fd10fd140a120104ff08f002f7
       ('method_wrapper', 'async_method_wrapper', 'stream_wrapper', 'async_stream_wrapper', 'AbstractSpanCapture', 'BaseSpanCapture', 'patch_module_classes')
    names      ('importlib.metadata', 'importlib', 'inspect', 'typing', 'List', 'wrapt', 'wrap_function_wrapper', 'agiflow.opentelemetry.instrumentation.utils.wrapper', 'method_wrapper', 'async_method_wrapper', 'stream_wrapper', 'async_stream_wrapper', 'AbstractSpanCapture', 'BaseSpanCapture', 'type', 'str', 'patch_module_classes', '__all__')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/__init__.py'
    name       '<module>'
    firstlineno 1
    lnotab
-      0x00ff0201080108010c010c02200f0201020102f904050efb02060efa02
-      070ef90835
+      0x00ff0201080108010c010c02200e0201020102fa04040efc02050efb02
+      060efa0832
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/utils/__pycache__/wrapper.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/utils/__pycache__/wrapper.cpython-311.pyc`

 * *Files 6% similar despite different names*

#### Python bytecode

```diff
@@ -1,10 +1,10 @@
 magic:    0xa70d0d0a
-moddate:  0x907c5966 (Fri May 31 07:30:24 2024 UTC)
-files sz: 11293
+moddate:  0x08c15b66 (Sun Jun  2 00:47:04 2024 UTC)
+files sz: 11559
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 10
    flags     : 0
    code
       0x9700640064016c006d015a010100640064026c026d035a036d045a046d
@@ -137,185 +137,185 @@
                194 LOAD_NAME                9 (Generic)
                196 LOAD_NAME               29 (R)
                198 BINARY_SUBSCR
                208 PRECALL                  4
                212 CALL                     4
                222 STORE_NAME              30 (AbstractSpanCapture)
    
-    75         224 PUSH_NULL
+    79         224 PUSH_NULL
                226 LOAD_BUILD_CLASS
-               228 LOAD_CONST              15 (<code object BaseSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 75>)
+               228 LOAD_CONST              15 (<code object BaseSpanCapture, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 79>)
                230 MAKE_FUNCTION            0
                232 LOAD_CONST              16 ('BaseSpanCapture')
                234 LOAD_NAME               30 (AbstractSpanCapture)
                236 PRECALL                  3
                240 CALL                     3
                250 STORE_NAME              31 (BaseSpanCapture)
    
-   164         252 LOAD_CONST              17 ('')
+   169         252 LOAD_CONST              17 ('')
    
-   165         254 LOAD_CONST              18 (None)
+   170         254 LOAD_CONST              18 (None)
    
-   166         256 LOAD_CONST              18 (None)
+   171         256 LOAD_CONST              18 (None)
    
-   167         258 LOAD_NAME               31 (BaseSpanCapture)
+   172         258 LOAD_NAME               31 (BaseSpanCapture)
    
-   162         260 BUILD_TUPLE              4
+   167         260 BUILD_TUPLE              4
                262 LOAD_CONST              19 ('span_name')
    
-   164         264 LOAD_NAME               32 (str)
+   169         264 LOAD_NAME               32 (str)
    
-   162         266 LOAD_CONST              20 ('span_kind')
+   167         266 LOAD_CONST              20 ('span_kind')
    
-   165         268 LOAD_NAME                6 (Optional)
+   170         268 LOAD_NAME                6 (Optional)
                270 LOAD_NAME                5 (Literal)
                272 LOAD_NAME               13 (SpanKind)
                274 LOAD_ATTR               33 (CLIENT)
                284 BINARY_SUBSCR
                294 LOAD_NAME               32 (str)
                296 BINARY_OP                7 (|)
                300 BINARY_SUBSCR
    
-   162         310 LOAD_CONST              21 ('version')
+   167         310 LOAD_CONST              21 ('version')
    
-   166         312 LOAD_NAME                6 (Optional)
+   171         312 LOAD_NAME                6 (Optional)
                314 LOAD_NAME               32 (str)
                316 BINARY_SUBSCR
    
-   162         326 LOAD_CONST              22 ('SpanCapture')
+   167         326 LOAD_CONST              22 ('SpanCapture')
    
-   167         328 LOAD_NAME               34 (type)
+   172         328 LOAD_NAME               34 (type)
                330 LOAD_NAME               30 (AbstractSpanCapture)
                332 BINARY_SUBSCR
    
-   162         342 BUILD_TUPLE              8
-               344 LOAD_CONST              23 (<code object method_wrapper, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 162>)
+   167         342 BUILD_TUPLE              8
+               344 LOAD_CONST              23 (<code object method_wrapper, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 167>)
                346 MAKE_FUNCTION            5 (defaults, annotations)
                348 STORE_NAME              35 (method_wrapper)
    
-   206         350 LOAD_CONST              17 ('')
+   207         350 LOAD_CONST              17 ('')
    
-   207         352 LOAD_CONST              18 (None)
+   208         352 LOAD_CONST              18 (None)
    
-   208         354 LOAD_CONST              18 (None)
+   209         354 LOAD_CONST              18 (None)
    
-   209         356 LOAD_NAME               31 (BaseSpanCapture)
+   210         356 LOAD_NAME               31 (BaseSpanCapture)
    
-   204         358 BUILD_TUPLE              4
+   205         358 BUILD_TUPLE              4
                360 LOAD_CONST              19 ('span_name')
    
-   206         362 LOAD_NAME               32 (str)
+   207         362 LOAD_NAME               32 (str)
    
-   204         364 LOAD_CONST              20 ('span_kind')
+   205         364 LOAD_CONST              20 ('span_kind')
    
-   207         366 LOAD_NAME                6 (Optional)
+   208         366 LOAD_NAME                6 (Optional)
                368 LOAD_NAME                5 (Literal)
                370 LOAD_NAME               13 (SpanKind)
                372 LOAD_ATTR               33 (CLIENT)
                382 BINARY_SUBSCR
                392 LOAD_NAME               32 (str)
                394 BINARY_OP                7 (|)
                398 BINARY_SUBSCR
    
-   204         408 LOAD_CONST              21 ('version')
+   205         408 LOAD_CONST              21 ('version')
    
-   208         410 LOAD_NAME                6 (Optional)
+   209         410 LOAD_NAME                6 (Optional)
                412 LOAD_NAME               32 (str)
                414 BINARY_SUBSCR
    
-   204         424 LOAD_CONST              22 ('SpanCapture')
+   205         424 LOAD_CONST              22 ('SpanCapture')
    
-   209         426 LOAD_NAME               34 (type)
+   210         426 LOAD_NAME               34 (type)
                428 LOAD_NAME               30 (AbstractSpanCapture)
                430 BINARY_SUBSCR
    
-   204         440 BUILD_TUPLE              8
-               442 LOAD_CONST              24 (<code object async_method_wrapper, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 204>)
+   205         440 BUILD_TUPLE              8
+               442 LOAD_CONST              24 (<code object async_method_wrapper, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 205>)
                444 MAKE_FUNCTION            5 (defaults, annotations)
                446 STORE_NAME              36 (async_method_wrapper)
    
-   248         448 LOAD_CONST              17 ('')
+   245         448 LOAD_CONST              17 ('')
    
-   249         450 LOAD_CONST              18 (None)
+   246         450 LOAD_CONST              18 (None)
    
-   250         452 LOAD_CONST              18 (None)
+   247         452 LOAD_CONST              18 (None)
    
-   251         454 LOAD_NAME               31 (BaseSpanCapture)
+   248         454 LOAD_NAME               31 (BaseSpanCapture)
    
-   246         456 BUILD_TUPLE              4
+   243         456 BUILD_TUPLE              4
                458 LOAD_CONST              19 ('span_name')
    
-   248         460 LOAD_NAME               32 (str)
+   245         460 LOAD_NAME               32 (str)
    
-   246         462 LOAD_CONST              20 ('span_kind')
+   243         462 LOAD_CONST              20 ('span_kind')
    
-   249         464 LOAD_NAME                6 (Optional)
+   246         464 LOAD_NAME                6 (Optional)
                466 LOAD_NAME                5 (Literal)
                468 LOAD_NAME               13 (SpanKind)
                470 LOAD_ATTR               33 (CLIENT)
                480 BINARY_SUBSCR
                490 LOAD_NAME               32 (str)
                492 BINARY_OP                7 (|)
                496 BINARY_SUBSCR
    
-   246         506 LOAD_CONST              21 ('version')
+   243         506 LOAD_CONST              21 ('version')
    
-   250         508 LOAD_NAME                6 (Optional)
+   247         508 LOAD_NAME                6 (Optional)
                510 LOAD_NAME               32 (str)
                512 BINARY_SUBSCR
    
-   246         522 LOAD_CONST              22 ('SpanCapture')
+   243         522 LOAD_CONST              22 ('SpanCapture')
    
-   251         524 LOAD_NAME               34 (type)
+   248         524 LOAD_NAME               34 (type)
                526 LOAD_NAME               30 (AbstractSpanCapture)
                528 BINARY_SUBSCR
    
-   246         538 BUILD_TUPLE              8
-               540 LOAD_CONST              25 (<code object stream_wrapper, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 246>)
+   243         538 BUILD_TUPLE              8
+               540 LOAD_CONST              25 (<code object stream_wrapper, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 243>)
                542 MAKE_FUNCTION            5 (defaults, annotations)
                544 STORE_NAME              37 (stream_wrapper)
    
-   299         546 LOAD_CONST              17 ('')
+   298         546 LOAD_CONST              17 ('')
    
-   300         548 LOAD_CONST              18 (None)
+   299         548 LOAD_CONST              18 (None)
    
-   301         550 LOAD_CONST              18 (None)
+   300         550 LOAD_CONST              18 (None)
    
-   302         552 LOAD_NAME               31 (BaseSpanCapture)
+   301         552 LOAD_NAME               31 (BaseSpanCapture)
    
-   297         554 BUILD_TUPLE              4
+   296         554 BUILD_TUPLE              4
                556 LOAD_CONST              19 ('span_name')
    
-   299         558 LOAD_NAME               32 (str)
+   298         558 LOAD_NAME               32 (str)
    
-   297         560 LOAD_CONST              20 ('span_kind')
+   296         560 LOAD_CONST              20 ('span_kind')
    
-   300         562 LOAD_NAME                6 (Optional)
+   299         562 LOAD_NAME                6 (Optional)
                564 LOAD_NAME                5 (Literal)
                566 LOAD_NAME               13 (SpanKind)
                568 LOAD_ATTR               33 (CLIENT)
                578 BINARY_SUBSCR
                588 LOAD_NAME               32 (str)
                590 BINARY_OP                7 (|)
                594 BINARY_SUBSCR
    
-   297         604 LOAD_CONST              21 ('version')
+   296         604 LOAD_CONST              21 ('version')
    
-   301         606 LOAD_NAME                6 (Optional)
+   300         606 LOAD_NAME                6 (Optional)
                608 LOAD_NAME               32 (str)
                610 BINARY_SUBSCR
    
-   297         620 LOAD_CONST              22 ('SpanCapture')
+   296         620 LOAD_CONST              22 ('SpanCapture')
    
-   302         622 LOAD_NAME               34 (type)
+   301         622 LOAD_NAME               34 (type)
                624 LOAD_NAME               30 (AbstractSpanCapture)
                626 BINARY_SUBSCR
    
-   297         636 BUILD_TUPLE              8
-               638 LOAD_CONST              26 (<code object async_stream_wrapper, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 297>)
+   296         636 BUILD_TUPLE              8
+               638 LOAD_CONST              26 (<code object async_stream_wrapper, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 296>)
                640 MAKE_FUNCTION            5 (defaults, annotations)
                642 STORE_NAME              38 (async_stream_wrapper)
                644 LOAD_CONST              18 (None)
                646 RETURN_VALUE
    consts
       0
       ('ABC',)
@@ -380,222 +380,222 @@
           26          10 LOAD_CONST               1 ('\n    To instrument method, we just need to write hooks which shared common properties\n    such as span, instance, version, function arguments and key arguments, etc...\n    ')
                       12 STORE_NAME               3 (__doc__)
          
           30          14 LOAD_CONST               2 (<code object capture_input, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 30>)
                       16 MAKE_FUNCTION            0
                       18 STORE_NAME               4 (capture_input)
          
-          36          20 LOAD_CONST               3 ('result')
+          38          20 LOAD_CONST               3 ('result')
                       22 LOAD_NAME                5 (R)
                       24 BUILD_TUPLE              2
-                      26 LOAD_CONST               4 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 36>)
+                      26 LOAD_CONST               4 (<code object capture_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 38>)
                       28 MAKE_FUNCTION            4 (annotations)
                       30 STORE_NAME               6 (capture_output)
          
-          42          32 LOAD_CONST               3 ('result')
+          46          32 LOAD_CONST               3 ('result')
                       34 LOAD_NAME                5 (R)
                       36 BUILD_TUPLE              2
-                      38 LOAD_CONST               5 (<code object capture_stream_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 42>)
+                      38 LOAD_CONST               5 (<code object capture_stream_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 46>)
                       40 MAKE_FUNCTION            4 (annotations)
                       42 STORE_NAME               7 (capture_stream_output)
          
-          48          44 LOAD_CONST               3 ('result')
+          52          44 LOAD_CONST               3 ('result')
                       46 LOAD_NAME                5 (R)
                       48 BUILD_TUPLE              2
-                      50 LOAD_CONST               6 (<code object acapture_stream_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 48>)
+                      50 LOAD_CONST               6 (<code object acapture_stream_output, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 52>)
                       52 MAKE_FUNCTION            4 (annotations)
                       54 STORE_NAME               8 (acapture_stream_output)
          
-          54          56 LOAD_CONST               7 (<code object is_streaming, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 54>)
+          58          56 LOAD_CONST               7 (<code object is_streaming, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 58>)
                       58 MAKE_FUNCTION            0
                       60 STORE_NAME               9 (is_streaming)
          
-          60          62 LOAD_NAME               10 (staticmethod)
+          64          62 LOAD_NAME               10 (staticmethod)
          
-          61          64 LOAD_CONST               8 (<code object get_span_name, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 60>)
+          65          64 LOAD_CONST               8 (<code object get_span_name, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 64>)
                       66 MAKE_FUNCTION            0
          
-          60          68 PRECALL                  0
+          64          68 PRECALL                  0
                       72 CALL                     0
          
-          61          82 STORE_NAME              11 (get_span_name)
+          65          82 STORE_NAME              11 (get_span_name)
          
-          67          84 LOAD_NAME               10 (staticmethod)
+          71          84 LOAD_NAME               10 (staticmethod)
          
-          68          86 LOAD_CONST               9 (<code object get_span_kind, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 67>)
+          72          86 LOAD_CONST               9 (<code object get_span_kind, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 71>)
                       88 MAKE_FUNCTION            0
          
-          67          90 PRECALL                  0
+          71          90 PRECALL                  0
                       94 CALL                     0
          
-          68         104 STORE_NAME              12 (get_span_kind)
+          72         104 STORE_NAME              12 (get_span_kind)
                      106 LOAD_CONST              10 (None)
                      108 RETURN_VALUE
          consts
             'AbstractSpanCapture'
             '\n    To instrument method, we just need to write hooks which shared common properties\n    such as span, instance, version, function arguments and key arguments, etc...\n    '
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x970064015300
                 30           0 RESUME                   0
                
-                34           2 LOAD_CONST               1 (None)
+                36           2 LOAD_CONST               1 (None)
                              4 RETURN_VALUE
                consts
-                  '\n        Synchronously adding trace to span before function called\n        '
+                  '\n        Setting span attributes is alway synchronous.\n        This method is use to set span attributes before the\n        actual function is called.\n        '
                   None
                names      ()
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'capture_input'
                firstlineno 30
-               lnotab 0x0204
+               lnotab 0x0206
             'result'
             code
                argcount  : 2
                nlocals   : 2
                stacksize : 1
                flags     : 3
                code 0x970064015300
-                36           0 RESUME                   0
+                38           0 RESUME                   0
                
-                40           2 LOAD_CONST               1 (None)
+                44           2 LOAD_CONST               1 (None)
                              4 RETURN_VALUE
                consts
-                  '\n        Synchronously adding trace to span after function called\n        '
+                  '\n        Setting span attributes is alway synchronous.\n        This method is use to set span attributes after the\n        actual function is called with result.\n        '
                   None
                names      ()
                varnames   ('self', 'result')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'capture_output'
-               firstlineno 36
-               lnotab 0x0204
+               firstlineno 38
+               lnotab 0x0206
             code
                argcount  : 2
                nlocals   : 2
                stacksize : 1
                flags     : 3
                code 0x970064015300
-                42           0 RESUME                   0
+                46           0 RESUME                   0
                
-                46           2 LOAD_CONST               1 (None)
+                50           2 LOAD_CONST               1 (None)
                              4 RETURN_VALUE
                consts
                   '\n        Synchronously adding trace to span if the function return stream\n        '
                   None
                names      ()
                varnames   ('self', 'result')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'capture_stream_output'
-               firstlineno 42
+               firstlineno 46
                lnotab 0x0204
             code
                argcount  : 2
                nlocals   : 2
                stacksize : 1
                flags     : 131
                code 0x4b000100970064015300
-                48           0 RETURN_GENERATOR
+                52           0 RETURN_GENERATOR
                              2 POP_TOP
                              4 RESUME                   0
                
-                52           6 LOAD_CONST               1 (None)
+                56           6 LOAD_CONST               1 (None)
                              8 RETURN_VALUE
                consts
                   '\n        Asynchronously adding trace to span if the function return stream\n        '
                   None
                names      ()
                varnames   ('self', 'result')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'acapture_stream_output'
-               firstlineno 48
+               firstlineno 52
                lnotab 0x0604
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x970064015300
-                54           0 RESUME                   0
+                58           0 RESUME                   0
                
-                58           2 LOAD_CONST               1 (None)
+                62           2 LOAD_CONST               1 (None)
                              4 RETURN_VALUE
                consts
                   '\n        Override stream assertion\n        '
                   None
                names      ()
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'is_streaming'
-               firstlineno 54
+               firstlineno 58
                lnotab 0x0204
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x970064015300
-                60           0 RESUME                   0
+                64           0 RESUME                   0
                
-                65           2 LOAD_CONST               1 (None)
+                69           2 LOAD_CONST               1 (None)
                              4 RETURN_VALUE
                consts
                   '\n        Override span name\n        '
                   None
                names      ()
                varnames   ('instance',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'get_span_name'
-               firstlineno 60
+               firstlineno 64
                lnotab 0x0205
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x970064015300
-                67           0 RESUME                   0
+                71           0 RESUME                   0
                
-                72           2 LOAD_CONST               1 (None)
+                76           2 LOAD_CONST               1 (None)
                              4 RETURN_VALUE
                consts
                   '\n        Override span name\n        '
                   None
                names      ()
                varnames   ('instance',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'get_span_kind'
-               firstlineno 67
+               firstlineno 71
                lnotab 0x0205
             None
          names      ('__name__', '__module__', '__qualname__', '__doc__', 'capture_input', 'R', 'capture_output', 'capture_stream_output', 'acapture_stream_output', 'is_streaming', 'staticmethod', 'get_span_name', 'get_span_kind')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
          name       'AbstractSpanCapture'
          firstlineno 25
-         lnotab 0x0a01040406060c060c060c060606020104ff0e010206020104ff0e01
+         lnotab 0x0a01040406080c080c060c060606020104ff0e010206020104ff0e01
       'AbstractSpanCapture'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 5
          flags     : 0
          code
@@ -604,124 +604,124 @@
             0564063c000000650865046506660219000000000000000000650564073c
             00000064086409640a9c0264026509650419000000000000000000640365
             066604640b84065a0a640c84005a0b650c640d8400a6000000ab00000000
             00000000005a0d650c640e8400a6000000ab0000000000000000005a0e64
             0f650f6510190000000000000000006602641084045a1164116508650465
             066602190000000000000000006602641284045a12641384005a13640953
             00
-          75           0 RESUME                   0
+          79           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('BaseSpanCapture')
                        8 STORE_NAME               2 (__qualname__)
                       10 SETUP_ANNOTATIONS
          
-          76          12 LOAD_CONST               1 ('\n    Store shared props.\n    Required to implement hooks to add to trace to span\n    ')
+          80          12 LOAD_CONST               1 ('\n    Store shared props.\n    Required to implement hooks to add to trace to span\n    ')
                       14 STORE_NAME               3 (__doc__)
          
-          80          16 LOAD_NAME                4 (str)
+          84          16 LOAD_NAME                4 (str)
                       18 LOAD_NAME                5 (__annotations__)
                       20 LOAD_CONST               2 ('version')
                       22 STORE_SUBSCR
          
-          81          26 LOAD_NAME                6 (Any)
+          85          26 LOAD_NAME                6 (Any)
                       28 LOAD_NAME                5 (__annotations__)
                       30 LOAD_CONST               3 ('instance')
                       32 STORE_SUBSCR
          
-          82          36 LOAD_NAME                7 (Span)
+          86          36 LOAD_NAME                7 (Span)
                       38 LOAD_NAME                5 (__annotations__)
                       40 LOAD_CONST               4 ('span')
                       42 STORE_SUBSCR
          
-          83          46 LOAD_NAME                6 (Any)
+          87          46 LOAD_NAME                6 (Any)
                       48 LOAD_NAME                5 (__annotations__)
                       50 LOAD_CONST               5 ('fargs')
                       52 STORE_SUBSCR
          
-          84          56 LOAD_NAME                6 (Any)
+          88          56 LOAD_NAME                6 (Any)
                       58 LOAD_NAME                5 (__annotations__)
                       60 LOAD_CONST               6 ('fkwargs')
                       62 STORE_SUBSCR
          
-          85          66 LOAD_NAME                8 (Dict)
+          89          66 LOAD_NAME                8 (Dict)
                       68 LOAD_NAME                4 (str)
                       70 LOAD_NAME                6 (Any)
                       72 BUILD_TUPLE              2
                       74 BINARY_SUBSCR
                       84 LOAD_NAME                5 (__annotations__)
                       86 LOAD_CONST               7 ('pydantic_attributes')
                       88 STORE_SUBSCR
          
-          90          92 LOAD_CONST               8 ('')
+          94          92 LOAD_CONST               8 ('')
          
-          91          94 LOAD_CONST               9 (None)
+          95          94 LOAD_CONST               9 (None)
          
-          87          96 LOAD_CONST              10 (('version', 'instance'))
+          91          96 LOAD_CONST              10 (('version', 'instance'))
                       98 BUILD_CONST_KEY_MAP      2
                      100 LOAD_CONST               2 ('version')
          
-          90         102 LOAD_NAME                9 (Optional)
+          94         102 LOAD_NAME                9 (Optional)
                      104 LOAD_NAME                4 (str)
                      106 BINARY_SUBSCR
          
-          87         116 LOAD_CONST               3 ('instance')
+          91         116 LOAD_CONST               3 ('instance')
          
-          91         118 LOAD_NAME                6 (Any)
+          95         118 LOAD_NAME                6 (Any)
          
-          87         120 BUILD_TUPLE              4
-                     122 LOAD_CONST              11 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 87>)
+          91         120 BUILD_TUPLE              4
+                     122 LOAD_CONST              11 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 91>)
                      124 MAKE_FUNCTION            6 (kwdefaults, annotations)
                      126 STORE_NAME              10 (__init__)
          
-         105         128 LOAD_CONST              12 (<code object is_streaming, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 105>)
+         109         128 LOAD_CONST              12 (<code object is_streaming, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 109>)
                      130 MAKE_FUNCTION            0
                      132 STORE_NAME              11 (is_streaming)
          
-         108         134 LOAD_NAME               12 (staticmethod)
+         112         134 LOAD_NAME               12 (staticmethod)
          
-         109         136 LOAD_CONST              13 (<code object get_span_name, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 108>)
+         113         136 LOAD_CONST              13 (<code object get_span_name, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 112>)
                      138 MAKE_FUNCTION            0
          
-         108         140 PRECALL                  0
+         112         140 PRECALL                  0
                      144 CALL                     0
          
-         109         154 STORE_NAME              13 (get_span_name)
+         113         154 STORE_NAME              13 (get_span_name)
          
-         125         156 LOAD_NAME               12 (staticmethod)
+         129         156 LOAD_NAME               12 (staticmethod)
          
-         126         158 LOAD_CONST              14 (<code object get_span_kind, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 125>)
+         130         158 LOAD_CONST              14 (<code object get_span_kind, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 129>)
                      160 MAKE_FUNCTION            0
          
-         125         162 PRECALL                  0
+         129         162 PRECALL                  0
                      166 CALL                     0
          
-         126         176 STORE_NAME              14 (get_span_kind)
+         130         176 STORE_NAME              14 (get_span_kind)
          
-         132         178 LOAD_CONST              15 ('Validator')
+         136         178 LOAD_CONST              15 ('Validator')
                      180 LOAD_NAME               15 (Type)
                      182 LOAD_NAME               16 (BaseModel)
                      184 BINARY_SUBSCR
                      194 BUILD_TUPLE              2
-                     196 LOAD_CONST              16 (<code object set_span_attributes_from_pydantic, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 132>)
+                     196 LOAD_CONST              16 (<code object set_span_attributes_from_pydantic, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 136>)
                      198 MAKE_FUNCTION            4 (annotations)
                      200 STORE_NAME              17 (set_span_attributes_from_pydantic)
          
-         145         202 LOAD_CONST              17 ('attributes')
+         149         202 LOAD_CONST              17 ('attributes')
                      204 LOAD_NAME                8 (Dict)
                      206 LOAD_NAME                4 (str)
                      208 LOAD_NAME                6 (Any)
                      210 BUILD_TUPLE              2
                      212 BINARY_SUBSCR
                      222 BUILD_TUPLE              2
-                     224 LOAD_CONST              18 (<code object set_pydantic_attributes, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 145>)
+                     224 LOAD_CONST              18 (<code object set_pydantic_attributes, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 149>)
                      226 MAKE_FUNCTION            4 (annotations)
                      228 STORE_NAME              18 (set_pydantic_attributes)
          
-         151         230 LOAD_CONST              19 (<code object set_span_attribute, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 151>)
+         155         230 LOAD_CONST              19 (<code object set_span_attribute, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 155>)
                      232 MAKE_FUNCTION            0
                      234 STORE_NAME              19 (set_span_attribute)
                      236 LOAD_CONST               9 (None)
                      238 RETURN_VALUE
          consts
             'BaseSpanCapture'
             '\n    Store shared props.\n    Required to implement hooks to add to trace to span\n    '
@@ -746,64 +746,64 @@
                   0000000000000000000000740c000000000000000000006a070000000000
                   0000006402a6020000ab02000000000000000001007c00a0050000000000
                   000000000000000000000000000000740c000000000000000000006a0800
                   00000000000000741200000000000000000000a6020000ab020000000000
                   00000001007415000000000000000000006a0b0000000000000000741800
                   000000000000000000a6010000ab0100000000000000007d067c0681027c
                   066e0169007c005f0d000000000000000064005300
-                87           0 RESUME                   0
+                91           0 RESUME                   0
                
-                95           2 LOAD_FAST                1 (version)
+                99           2 LOAD_FAST                1 (version)
                              4 JUMP_IF_TRUE_OR_POP      1 (to 8)
                              6 LOAD_CONST               1 ('')
                        >>    8 LOAD_FAST                0 (self)
                             10 STORE_ATTR               0 (version)
                
-                96          20 LOAD_FAST                2 (instance)
+               100          20 LOAD_FAST                2 (instance)
                             22 LOAD_FAST                0 (self)
                             24 STORE_ATTR               1 (instance)
                
-                97          34 LOAD_FAST                3 (span)
+               101          34 LOAD_FAST                3 (span)
                             36 LOAD_FAST                0 (self)
                             38 STORE_ATTR               2 (span)
                
-                98          48 LOAD_FAST                4 (args)
+               102          48 LOAD_FAST                4 (args)
                             50 LOAD_FAST                0 (self)
                             52 STORE_ATTR               3 (fargs)
                
-                99          62 LOAD_FAST                5 (kwargs)
+               103          62 LOAD_FAST                5 (kwargs)
                             64 LOAD_FAST                0 (self)
                             66 STORE_ATTR               4 (fkwargs)
                
-               100          76 LOAD_FAST                0 (self)
+               104          76 LOAD_FAST                0 (self)
                             78 LOAD_METHOD              5 (set_span_attribute)
                            100 LOAD_GLOBAL             12 (SpanAttributes)
                            112 LOAD_ATTR                7 (AGIFLOW_SDK_NAME)
                            122 LOAD_CONST               2 ('agiflow-python-sdk')
                            124 PRECALL                  2
                            128 CALL                     2
                            138 POP_TOP
                
-               101         140 LOAD_FAST                0 (self)
+               105         140 LOAD_FAST                0 (self)
                            142 LOAD_METHOD              5 (set_span_attribute)
                            164 LOAD_GLOBAL             12 (SpanAttributes)
                            176 LOAD_ATTR                8 (AGIFLOW_SDK_VERSION)
                            186 LOAD_GLOBAL             18 (__version__)
                            198 PRECALL                  2
                            202 CALL                     2
                            212 POP_TOP
                
-               102         214 LOAD_GLOBAL             21 (NULL + baggage)
+               106         214 LOAD_GLOBAL             21 (NULL + baggage)
                            226 LOAD_ATTR               11 (get_baggage)
                            236 LOAD_GLOBAL             24 (AGIFLOW_ADDITIONAL_SPAN_ATTRIBUTES_KEY)
                            248 PRECALL                  1
                            252 CALL                     1
                            262 STORE_FAST               6 (extra_attributes)
                
-               103         264 LOAD_FAST                6 (extra_attributes)
+               107         264 LOAD_FAST                6 (extra_attributes)
                            266 POP_JUMP_FORWARD_IF_NONE     2 (to 272)
                            268 LOAD_FAST                6 (extra_attributes)
                            270 JUMP_FORWARD             1 (to 274)
                        >>  272 BUILD_MAP                0
                        >>  274 LOAD_FAST                0 (self)
                            276 STORE_ATTR              13 (pydantic_attributes)
                            286 LOAD_CONST               0 (None)
@@ -814,28 +814,28 @@
                   'agiflow-python-sdk'
                names      ('version', 'instance', 'span', 'fargs', 'fkwargs', 'set_span_attribute', 'SpanAttributes', 'AGIFLOW_SDK_NAME', 'AGIFLOW_SDK_VERSION', '__version__', 'baggage', 'get_baggage', 'AGIFLOW_ADDITIONAL_SPAN_ATTRIBUTES_KEY', 'pydantic_attributes')
                varnames   ('self', 'version', 'instance', 'span', 'args', 'kwargs', 'extra_attributes')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       '__init__'
-               firstlineno 87
+               firstlineno 91
                lnotab 0x020812010e010e010e010e0140014a013201
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 5
                flags     : 3
                code
                   0x97007401000000000000000000007c006a010000000000000000a00200
                   000000000000000000000000000000000000006401a6010000ab01000000
                   0000000000a6010000ab0100000000000000005300
-               105           0 RESUME                   0
+               109           0 RESUME                   0
                
-               106           2 LOAD_GLOBAL              1 (NULL + is_streaming_response)
+               110           2 LOAD_GLOBAL              1 (NULL + is_streaming_response)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (fkwargs)
                             26 LOAD_METHOD              2 (get)
                             48 LOAD_CONST               1 ('stream')
                             50 PRECALL                  1
                             54 CALL                     1
                             64 PRECALL                  1
@@ -846,117 +846,117 @@
                   'stream'
                names      ('is_streaming_response', 'fkwargs', 'get')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'is_streaming'
-               firstlineno 105
+               firstlineno 109
                lnotab 0x0201
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 4
                flags     : 3
                code
                   0x97007c008002640253007401000000000000000000007c006403a60200
                   00ab02000000000000000072337401000000000000000000007c006404a6
                   020000ab02000000000000000072167c006a0100000000000000006a0200
                   000000000000009b0064057c006a0200000000000000009b009d0353007c
                   006a0100000000000000006a0200000000000000009b0053007401000000
                   000000000000007c006404a6020000ab02000000000000000072087c006a
                   0200000000000000009b00530064025300
-               108           0 RESUME                   0
+               112           0 RESUME                   0
                
-               113           2 LOAD_FAST                0 (instance)
+               117           2 LOAD_FAST                0 (instance)
                              4 POP_JUMP_FORWARD_IF_NOT_NONE     2 (to 10)
                
-               114           6 LOAD_CONST               2 ('')
+               118           6 LOAD_CONST               2 ('')
                              8 RETURN_VALUE
                
-               115     >>   10 LOAD_GLOBAL              1 (NULL + hasattr)
+               119     >>   10 LOAD_GLOBAL              1 (NULL + hasattr)
                             22 LOAD_FAST                0 (instance)
                             24 LOAD_CONST               3 ('__class__')
                             26 PRECALL                  2
                             30 CALL                     2
                             40 POP_JUMP_FORWARD_IF_FALSE    51 (to 144)
                
-               116          42 LOAD_GLOBAL              1 (NULL + hasattr)
+               120          42 LOAD_GLOBAL              1 (NULL + hasattr)
                             54 LOAD_FAST                0 (instance)
                             56 LOAD_CONST               4 ('__name__')
                             58 PRECALL                  2
                             62 CALL                     2
                             72 POP_JUMP_FORWARD_IF_FALSE    22 (to 118)
                
-               117          74 LOAD_FAST                0 (instance)
+               121          74 LOAD_FAST                0 (instance)
                             76 LOAD_ATTR                1 (__class__)
                             86 LOAD_ATTR                2 (__name__)
                             96 FORMAT_VALUE             0
                             98 LOAD_CONST               5 ('.$')
                            100 LOAD_FAST                0 (instance)
                            102 LOAD_ATTR                2 (__name__)
                            112 FORMAT_VALUE             0
                            114 BUILD_STRING             3
                            116 RETURN_VALUE
                
-               119     >>  118 LOAD_FAST                0 (instance)
+               123     >>  118 LOAD_FAST                0 (instance)
                            120 LOAD_ATTR                1 (__class__)
                            130 LOAD_ATTR                2 (__name__)
                            140 FORMAT_VALUE             0
                            142 RETURN_VALUE
                
-               120     >>  144 LOAD_GLOBAL              1 (NULL + hasattr)
+               124     >>  144 LOAD_GLOBAL              1 (NULL + hasattr)
                            156 LOAD_FAST                0 (instance)
                            158 LOAD_CONST               4 ('__name__')
                            160 PRECALL                  2
                            164 CALL                     2
                            174 POP_JUMP_FORWARD_IF_FALSE     8 (to 192)
                
-               121         176 LOAD_FAST                0 (instance)
+               125         176 LOAD_FAST                0 (instance)
                            178 LOAD_ATTR                2 (__name__)
                            188 FORMAT_VALUE             0
                            190 RETURN_VALUE
                
-               123     >>  192 LOAD_CONST               2 ('')
+               127     >>  192 LOAD_CONST               2 ('')
                            194 RETURN_VALUE
                consts
                   '\n        Override this method if span name is different\n        '
                   None
                   ''
                   '__class__'
                   '__name__'
                   '.$'
                names      ('hasattr', '__class__', '__name__')
                varnames   ('instance',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'get_span_name'
-               firstlineno 108
+               firstlineno 112
                lnotab 0x020504010401200120012c021a0120011002
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x97007400000000000000000000006a0100000000000000005300
-               125           0 RESUME                   0
+               129           0 RESUME                   0
                
-               130           2 LOAD_GLOBAL              0 (SpanKind)
+               134           2 LOAD_GLOBAL              0 (SpanKind)
                             14 LOAD_ATTR                1 (CLIENT)
                             24 RETURN_VALUE
                consts
                   '\n        Override this method if span kind is different\n        '
                names      ('SpanKind', 'CLIENT')
                varnames   ('instance',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'get_span_kind'
-               firstlineno 125
+               firstlineno 129
                lnotab 0x0205
             'Validator'
             code
                argcount  : 3
                nlocals   : 6
                stacksize : 6
                flags     : 3
@@ -964,175 +964,187 @@
                   0x970002007c026404690069007c006a000000000000000000a5017c01a5
                   01a4018e017d037c03a00100000000000000000000000000000000000000
                   006401ac02a6010000ab010000000000000000a002000000000000000000
                   0000000000000000000000a6000000ab00000000000000000044005d225c
                   0200007d047d057c05811b7c006a030000000000000000a0040000000000
                   0000000000000000000000000000007c047c05a6020000ab020000000000
                   00000001008c2364035300
-               132           0 RESUME                   0
+               136           0 RESUME                   0
                
-               137           2 PUSH_NULL
+               141           2 PUSH_NULL
                              4 LOAD_FAST                2 (Validator)
                              6 LOAD_CONST               4 (())
                              8 BUILD_MAP                0
                             10 BUILD_MAP                0
                
-               138          12 LOAD_FAST                0 (self)
+               142          12 LOAD_FAST                0 (self)
                             14 LOAD_ATTR                0 (pydantic_attributes)
                
-               137          24 DICT_UPDATE              1
+               141          24 DICT_UPDATE              1
                
-               139          26 LOAD_FAST                1 (attributes)
+               143          26 LOAD_FAST                1 (attributes)
                
-               137          28 DICT_UPDATE              1
+               141          28 DICT_UPDATE              1
                             30 DICT_MERGE               1
                             32 CALL_FUNCTION_EX         1
                             34 STORE_FAST               3 (validated_attrs)
                
-               141          36 LOAD_FAST                3 (validated_attrs)
+               145          36 LOAD_FAST                3 (validated_attrs)
                             38 LOAD_METHOD              1 (model_dump)
                             60 LOAD_CONST               1 (True)
                             62 KW_NAMES                 2
                             64 PRECALL                  1
                             68 CALL                     1
                             78 LOAD_METHOD              2 (items)
                            100 PRECALL                  0
                            104 CALL                     0
                            114 GET_ITER
                        >>  116 FOR_ITER                34 (to 186)
                            118 UNPACK_SEQUENCE          2
                            122 STORE_FAST               4 (field)
                            124 STORE_FAST               5 (value)
                
-               142         126 LOAD_FAST                5 (value)
+               146         126 LOAD_FAST                5 (value)
                            128 POP_JUMP_FORWARD_IF_NONE    27 (to 184)
                
-               143         130 LOAD_FAST                0 (self)
+               147         130 LOAD_FAST                0 (self)
                            132 LOAD_ATTR                3 (span)
                            142 LOAD_METHOD              4 (set_attribute)
                            164 LOAD_FAST                4 (field)
                            166 LOAD_FAST                5 (value)
                            168 PRECALL                  2
                            172 CALL                     2
                            182 POP_TOP
                        >>  184 JUMP_BACKWARD           35 (to 116)
                
-               141     >>  186 LOAD_CONST               3 (None)
+               145     >>  186 LOAD_CONST               3 (None)
                            188 RETURN_VALUE
                consts
                   '\n        Normalise attributes using pydantic allias\n        Using this to set attributes\n        '
                   True
                   ('by_alias',)
                   None
                   ()
                names      ('pydantic_attributes', 'model_dump', 'items', 'span', 'set_attribute')
                varnames   ('self', 'attributes', 'Validator', 'validated_attrs', 'field', 'value')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'set_span_attributes_from_pydantic'
-               firstlineno 132
+               firstlineno 136
                lnotab 0x02050a010cff020202fe08045a01040138fe
             'attributes'
             code
                argcount  : 2
                nlocals   : 2
                stacksize : 2
                flags     : 3
                code
                   0x970069007c006a000000000000000000a5017c01a5017c005f00000000
                   000000000064005300
-               145           0 RESUME                   0
+               149           0 RESUME                   0
                
-               146           2 BUILD_MAP                0
+               150           2 BUILD_MAP                0
                
-               147           4 LOAD_FAST                0 (self)
+               151           4 LOAD_FAST                0 (self)
                              6 LOAD_ATTR                0 (pydantic_attributes)
                
-               146          16 DICT_UPDATE              1
+               150          16 DICT_UPDATE              1
                
-               148          18 LOAD_FAST                1 (attributes)
+               152          18 LOAD_FAST                1 (attributes)
                
-               146          20 DICT_UPDATE              1
+               150          20 DICT_UPDATE              1
                             22 LOAD_FAST                0 (self)
                             24 STORE_ATTR               0 (pydantic_attributes)
                             34 LOAD_CONST               0 (None)
                             36 RETURN_VALUE
                consts
                   None
                names      ('pydantic_attributes',)
                varnames   ('self', 'attributes')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'set_pydantic_attributes'
-               firstlineno 145
+               firstlineno 149
                lnotab 0x020102010cff020202fe
             code
                argcount  : 3
                nlocals   : 3
                stacksize : 4
                flags     : 3
                code
-                  0x97007401000000000000000000007c016401a6020000ab020000000000
-                  00000072227c006a010000000000000000a0020000000000000000000000
-                  0000000000000000007c016a0300000000000000007c02a6020000ab0200
-                  000000000000000100640253007c006a010000000000000000a002000000
-                  00000000000000000000000000000000007c017c02a6020000ab02000000
-                  0000000000010064025300
-               151           0 RESUME                   0
-               
-               156           2 LOAD_GLOBAL              1 (NULL + hasattr)
-                            14 LOAD_FAST                1 (field)
-                            16 LOAD_CONST               1 ('value')
-                            18 PRECALL                  2
-                            22 CALL                     2
-                            32 POP_JUMP_FORWARD_IF_FALSE    34 (to 102)
-               
-               157          34 LOAD_FAST                0 (self)
-                            36 LOAD_ATTR                1 (span)
-                            46 LOAD_METHOD              2 (set_attribute)
-                            68 LOAD_FAST                1 (field)
-                            70 LOAD_ATTR                3 (value)
-                            80 LOAD_FAST                2 (value)
-                            82 PRECALL                  2
-                            86 CALL                     2
-                            96 POP_TOP
-                            98 LOAD_CONST               2 (None)
-                           100 RETURN_VALUE
-               
-               159     >>  102 LOAD_FAST                0 (self)
-                           104 LOAD_ATTR                1 (span)
-                           114 LOAD_METHOD              2 (set_attribute)
-                           136 LOAD_FAST                1 (field)
-                           138 LOAD_FAST                2 (value)
-                           140 PRECALL                  2
-                           144 CALL                     2
-                           154 POP_TOP
-                           156 LOAD_CONST               2 (None)
-                           158 RETURN_VALUE
+                  0x97007c006a000000000000000000a00100000000000000000000000000
+                  00000000000000a6000000ab000000000000000000724f74050000000000
+                  00000000007c016401a6020000ab02000000000000000072227c006a0000
+                  00000000000000a00300000000000000000000000000000000000000007c
+                  016a0400000000000000007c02a6020000ab020000000000000000010064
+                  0253007c006a000000000000000000a00300000000000000000000000000
+                  000000000000007c017c02a6020000ab0200000000000000000100640253
+                  0064025300
+               155           0 RESUME                   0
+               
+               160           2 LOAD_FAST                0 (self)
+                             4 LOAD_ATTR                0 (span)
+                            14 LOAD_METHOD              1 (is_recording)
+                            36 PRECALL                  0
+                            40 CALL                     0
+                            50 POP_JUMP_FORWARD_IF_FALSE    79 (to 210)
+               
+               161          52 LOAD_GLOBAL              5 (NULL + hasattr)
+                            64 LOAD_FAST                1 (field)
+                            66 LOAD_CONST               1 ('value')
+                            68 PRECALL                  2
+                            72 CALL                     2
+                            82 POP_JUMP_FORWARD_IF_FALSE    34 (to 152)
+               
+               162          84 LOAD_FAST                0 (self)
+                            86 LOAD_ATTR                0 (span)
+                            96 LOAD_METHOD              3 (set_attribute)
+                           118 LOAD_FAST                1 (field)
+                           120 LOAD_ATTR                4 (value)
+                           130 LOAD_FAST                2 (value)
+                           132 PRECALL                  2
+                           136 CALL                     2
+                           146 POP_TOP
+                           148 LOAD_CONST               2 (None)
+                           150 RETURN_VALUE
+               
+               164     >>  152 LOAD_FAST                0 (self)
+                           154 LOAD_ATTR                0 (span)
+                           164 LOAD_METHOD              3 (set_attribute)
+                           186 LOAD_FAST                1 (field)
+                           188 LOAD_FAST                2 (value)
+                           190 PRECALL                  2
+                           194 CALL                     2
+                           204 POP_TOP
+                           206 LOAD_CONST               2 (None)
+                           208 RETURN_VALUE
+               
+               160     >>  210 LOAD_CONST               2 (None)
+                           212 RETURN_VALUE
                consts
                   '\n        Using this method to set single attribute\n        which field is an enum\n        '
                   'value'
                   None
-               names      ('hasattr', 'span', 'set_attribute', 'value')
+               names      ('span', 'is_recording', 'hasattr', 'set_attribute', 'value')
                varnames   ('self', 'field', 'value')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'set_span_attribute'
-               firstlineno 151
-               lnotab 0x020520014402
+               firstlineno 155
+               lnotab 0x02053201200144023afc
          names      ('__name__', '__module__', '__qualname__', '__doc__', 'str', '__annotations__', 'Any', 'Span', 'Dict', 'Optional', '__init__', 'is_streaming', 'staticmethod', 'get_span_name', 'get_span_kind', 'Type', 'BaseModel', 'set_span_attributes_from_pydantic', 'set_pydantic_attributes', 'set_span_attribute')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
          name       'BaseSpanCapture'
-         firstlineno 75
+         firstlineno 79
          lnotab
             0x0c0104040a010a010a010a010a011a05020102fc06030efd020402fc08
             120603020104ff0e010210020104ff0e010206180d1c06
       'BaseSpanCapture'
       ''
       None
       'span_name'
@@ -1150,31 +1162,31 @@
                        0 MAKE_CELL                0 (tracer)
                        2 MAKE_CELL                1 (span_name)
                        4 MAKE_CELL                2 (span_kind)
                        6 MAKE_CELL                3 (version)
                        8 MAKE_CELL                4 (SpanCapture)
                       10 MAKE_CELL                5 (okwargs)
          
-         162          12 RESUME                   0
+         167          12 RESUME                   0
          
-         174          14 LOAD_CLOSURE             4 (SpanCapture)
+         175          14 LOAD_CLOSURE             4 (SpanCapture)
                       16 LOAD_CLOSURE             5 (okwargs)
                       18 LOAD_CLOSURE             2 (span_kind)
                       20 LOAD_CLOSURE             1 (span_name)
                       22 LOAD_CLOSURE             0 (tracer)
                       24 LOAD_CLOSURE             3 (version)
                       26 BUILD_TUPLE              6
-                      28 LOAD_CONST               1 (<code object traced_method, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 174>)
+                      28 LOAD_CONST               1 (<code object traced_method, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 175>)
                       30 MAKE_FUNCTION            8 (closure)
                       32 STORE_FAST               6 (traced_method)
          
-         201          34 LOAD_FAST                6 (traced_method)
+         202          34 LOAD_FAST                6 (traced_method)
                       36 RETURN_VALUE
          consts
-            '\n    Wrap the `generate` method of the `Images` class to trace it.\n    '
+            None
             code
                argcount  : 4
                nlocals   : 8
                stacksize : 10
                flags     : 19
                code
                   0x9506870887099700890d7014890aa00000000000000000000000000000
@@ -1200,165 +1212,165 @@
                   00a6010000ab0100000000000000000100820064007d077e077701770078
                   035900770123003100730477027803590077010100590001000100640053
                   00
                              0 COPY_FREE_VARS           6
                              2 MAKE_CELL                8 (result)
                              4 MAKE_CELL                9 (span_capture)
                
-               174           6 RESUME                   0
+               175           6 RESUME                   0
                
-               175           8 LOAD_DEREF              13 (span_name)
+               176           8 LOAD_DEREF              13 (span_name)
                             10 JUMP_IF_TRUE_OR_POP     20 (to 52)
                             12 LOAD_DEREF              10 (SpanCapture)
                             14 LOAD_METHOD              0 (get_span_name)
                             36 LOAD_FAST                1 (instance)
                             38 PRECALL                  1
                             42 CALL                     1
                        >>   52 STORE_FAST               4 (name)
                
-               176          54 LOAD_DEREF              12 (span_kind)
+               177          54 LOAD_DEREF              12 (span_kind)
                             56 JUMP_IF_TRUE_OR_POP     20 (to 98)
                             58 LOAD_DEREF              10 (SpanCapture)
                             60 LOAD_METHOD              1 (get_span_kind)
                             82 LOAD_FAST                1 (instance)
                             84 PRECALL                  1
                             88 CALL                     1
                        >>   98 STORE_FAST               5 (kind)
                
-               177         100 LOAD_DEREF              14 (tracer)
+               178         100 LOAD_DEREF              14 (tracer)
                            102 LOAD_METHOD              2 (start_as_current_span)
                
-               178         124 LOAD_FAST                4 (name)
+               179         124 LOAD_FAST                4 (name)
                            126 LOAD_FAST                5 (kind)
                
-               177         128 KW_NAMES                 1
+               178         128 KW_NAMES                 1
                            130 PRECALL                  2
                            134 CALL                     2
                            144 BEFORE_WITH
                
-               179         146 STORE_FAST               6 (span)
+               180         146 STORE_FAST               6 (span)
                
-               180         148 PUSH_NULL
+               181         148 PUSH_NULL
                            150 LOAD_DEREF              10 (SpanCapture)
                            152 LOAD_FAST                2 (args)
                            154 LOAD_DEREF              15 (version)
                            156 LOAD_FAST                1 (instance)
                            158 LOAD_FAST                6 (span)
                            160 LOAD_CONST               2 (('version', 'instance', 'span'))
                            162 BUILD_CONST_KEY_MAP      3
                            164 LOAD_FAST                3 (kwargs)
                            166 DICT_MERGE               1
                            168 LOAD_DEREF              11 (okwargs)
                            170 DICT_MERGE               1
                            172 CALL_FUNCTION_EX         1
                            174 STORE_DEREF              9 (span_capture)
                
-               181         176 LOAD_GLOBAL              7 (NULL + callable)
+               182         176 LOAD_GLOBAL              7 (NULL + callable)
                            188 LOAD_DEREF               9 (span_capture)
                            190 LOAD_ATTR                4 (capture_input)
                            200 PRECALL                  1
                            204 CALL                     1
                            214 POP_JUMP_FORWARD_IF_FALSE    18 (to 252)
                
-               182         216 LOAD_GLOBAL             11 (NULL + error_handler)
+               183         216 LOAD_GLOBAL             11 (NULL + error_handler)
                            228 LOAD_CLOSURE             9 (span_capture)
                            230 BUILD_TUPLE              1
-                           232 LOAD_CONST               3 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 182>)
+                           232 LOAD_CONST               3 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 183>)
                            234 MAKE_FUNCTION            8 (closure)
                            236 PRECALL                  1
                            240 CALL                     1
                            250 POP_TOP
                
-               183     >>  252 NOP
+               184     >>  252 NOP
                
-               185         254 PUSH_NULL
+               186         254 PUSH_NULL
                            256 LOAD_FAST                0 (wrapped)
                            258 LOAD_FAST                2 (args)
                            260 BUILD_MAP                0
                            262 LOAD_FAST                3 (kwargs)
                            264 DICT_MERGE               1
                            266 CALL_FUNCTION_EX         1
                            268 STORE_DEREF              8 (result)
                
-               186         270 LOAD_GLOBAL              7 (NULL + callable)
+               187         270 LOAD_GLOBAL              7 (NULL + callable)
                            282 LOAD_DEREF               9 (span_capture)
                            284 LOAD_ATTR                6 (capture_output)
                            294 PRECALL                  1
                            298 CALL                     1
                            308 POP_JUMP_FORWARD_IF_FALSE    19 (to 348)
                
-               187         310 LOAD_GLOBAL             11 (NULL + error_handler)
+               188         310 LOAD_GLOBAL             11 (NULL + error_handler)
                            322 LOAD_CLOSURE             8 (result)
                            324 LOAD_CLOSURE             9 (span_capture)
                            326 BUILD_TUPLE              2
-                           328 LOAD_CONST               4 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 187>)
+                           328 LOAD_CONST               4 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 188>)
                            330 MAKE_FUNCTION            8 (closure)
                            332 PRECALL                  1
                            336 CALL                     1
                            346 POP_TOP
                
-               189     >>  348 LOAD_FAST                6 (span)
+               190     >>  348 LOAD_FAST                6 (span)
                            350 LOAD_METHOD              7 (set_status)
                            372 LOAD_GLOBAL             16 (StatusCode)
                            384 LOAD_ATTR                9 (OK)
                            394 PRECALL                  1
                            398 CALL                     1
                            408 POP_TOP
                
-               190         410 LOAD_DEREF               8 (result)
+               191         410 LOAD_DEREF               8 (result)
                
-               177         412 SWAP                     2
+               178         412 SWAP                     2
                            414 LOAD_CONST               0 (None)
                            416 LOAD_CONST               0 (None)
                            418 LOAD_CONST               0 (None)
                            420 PRECALL                  2
                            424 CALL                     2
                            434 POP_TOP
                            436 RETURN_VALUE
                        >>  438 PUSH_EXC_INFO
                
-               191         440 LOAD_GLOBAL             20 (Exception)
+               192         440 LOAD_GLOBAL             20 (Exception)
                            452 CHECK_EXC_MATCH
                            454 POP_JUMP_FORWARD_IF_FALSE    85 (to 626)
                            456 STORE_FAST               7 (err)
                
-               193         458 LOAD_FAST                6 (span)
+               194         458 LOAD_FAST                6 (span)
                            460 LOAD_METHOD             11 (record_exception)
                            482 LOAD_FAST                7 (err)
                            484 PRECALL                  1
                            488 CALL                     1
                            498 POP_TOP
                
-               196         500 LOAD_FAST                6 (span)
+               197         500 LOAD_FAST                6 (span)
                            502 LOAD_METHOD              7 (set_status)
                            524 LOAD_GLOBAL             25 (NULL + Status)
                            536 LOAD_GLOBAL             16 (StatusCode)
                            548 LOAD_ATTR               13 (ERROR)
                            558 LOAD_GLOBAL             29 (NULL + str)
                            570 LOAD_FAST                7 (err)
                            572 PRECALL                  1
                            576 CALL                     1
                            586 PRECALL                  2
                            590 CALL                     2
                            600 PRECALL                  1
                            604 CALL                     1
                            614 POP_TOP
                
-               199         616 RAISE_VARARGS            0
+               200         616 RAISE_VARARGS            0
                        >>  618 LOAD_CONST               0 (None)
                            620 STORE_FAST               7 (err)
                            622 DELETE_FAST              7 (err)
                            624 RERAISE                  1
                
-               191     >>  626 RERAISE                  0
+               192     >>  626 RERAISE                  0
                        >>  628 COPY                     3
                            630 POP_EXCEPT
                            632 RERAISE                  1
                
-               177     >>  634 PUSH_EXC_INFO
+               178     >>  634 PUSH_EXC_INFO
                            636 WITH_EXCEPT_START
                            638 POP_JUMP_FORWARD_IF_TRUE     4 (to 648)
                            640 RERAISE                  2
                        >>  642 COPY                     3
                            644 POP_EXCEPT
                            646 RERAISE                  1
                        >>  648 POP_TOP
@@ -1386,75 +1398,75 @@
                      stacksize : 2
                      flags     : 19
                      code
                         0x950197008900a0000000000000000000000000000000000000000000a6
                         000000ab0000000000000000005300
                                    0 COPY_FREE_VARS           1
                      
-                     182           2 RESUME                   0
+                     183           2 RESUME                   0
                                    4 LOAD_DEREF               0 (span_capture)
                                    6 LOAD_METHOD              0 (capture_input)
                                   28 PRECALL                  0
                                   32 CALL                     0
                                   42 RETURN_VALUE
                      consts
                         None
                      names      ('capture_input',)
                      varnames   ()
                      freevars   ('span_capture',)
                      cellvars   ()
                      filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                      name       '<lambda>'
-                     firstlineno 182
+                     firstlineno 183
                      lnotab 0x
                   code
                      argcount  : 0
                      nlocals   : 0
                      stacksize : 3
                      flags     : 19
                      code
                         0x950297008901a000000000000000000000000000000000000000000089
                         00a6010000ab0100000000000000005300
                                    0 COPY_FREE_VARS           2
                      
-                     187           2 RESUME                   0
+                     188           2 RESUME                   0
                                    4 LOAD_DEREF               1 (span_capture)
                                    6 LOAD_METHOD              0 (capture_output)
                                   28 LOAD_DEREF               0 (result)
                                   30 PRECALL                  1
                                   34 CALL                     1
                                   44 RETURN_VALUE
                      consts
                         None
                      names      ('capture_output',)
                      varnames   ()
                      freevars   ('result', 'span_capture')
                      cellvars   ()
                      filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                      name       '<lambda>'
-                     firstlineno 187
+                     firstlineno 188
                      lnotab 0x
                names      ('get_span_name', 'get_span_kind', 'start_as_current_span', 'callable', 'capture_input', 'error_handler', 'capture_output', 'set_status', 'StatusCode', 'OK', 'Exception', 'record_exception', 'Status', 'ERROR', 'str')
                varnames   ('wrapped', 'instance', 'args', 'kwargs', 'name', 'kind', 'span', 'err')
                freevars   ('SpanCapture', 'okwargs', 'span_kind', 'span_name', 'tracer', 'version')
                cellvars   ('result', 'span_capture')
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'traced_method'
-               firstlineno 174
+               firstlineno 175
                lnotab
                   0x08012e012e01180104ff120202011c012801240102021001280126023e
                   0102f31c0e12022a0374030af808f2
          names      ()
          varnames   ('tracer', 'span_name', 'span_kind', 'version', 'SpanCapture', 'okwargs', 'traced_method')
          freevars   ()
          cellvars   ('tracer', 'span_name', 'span_kind', 'version', 'SpanCapture', 'okwargs')
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
          name       'method_wrapper'
-         firstlineno 162
-         lnotab 0x0e0c141b
+         firstlineno 167
+         lnotab 0x0e08141b
       code
          argcount  : 5
          nlocals   : 7
          stacksize : 6
          flags     : 11
          code
             0x8700870187028703870487059700880488058802880188008803660664
@@ -1462,31 +1474,31 @@
                        0 MAKE_CELL                0 (tracer)
                        2 MAKE_CELL                1 (span_name)
                        4 MAKE_CELL                2 (span_kind)
                        6 MAKE_CELL                3 (version)
                        8 MAKE_CELL                4 (SpanCapture)
                       10 MAKE_CELL                5 (okwargs)
          
-         204          12 RESUME                   0
+         205          12 RESUME                   0
          
-         216          14 LOAD_CLOSURE             4 (SpanCapture)
+         213          14 LOAD_CLOSURE             4 (SpanCapture)
                       16 LOAD_CLOSURE             5 (okwargs)
                       18 LOAD_CLOSURE             2 (span_kind)
                       20 LOAD_CLOSURE             1 (span_name)
                       22 LOAD_CLOSURE             0 (tracer)
                       24 LOAD_CLOSURE             3 (version)
                       26 BUILD_TUPLE              6
-                      28 LOAD_CONST               1 (<code object traced_method, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 216>)
+                      28 LOAD_CONST               1 (<code object traced_method, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 213>)
                       30 MAKE_FUNCTION            8 (closure)
                       32 STORE_FAST               6 (traced_method)
          
-         243          34 LOAD_FAST                6 (traced_method)
+         240          34 LOAD_FAST                6 (traced_method)
                       36 RETURN_VALUE
          consts
-            '\n    Wrap the `generate` method of the `Images` class to trace it.\n    '
+            None
             code
                argcount  : 4
                nlocals   : 8
                stacksize : 10
                flags     : 147
                code
                   0x9506870887094b0001009700890d7014890aa000000000000000000000
@@ -1512,173 +1524,173 @@
                   000000a6020000ab020000000000000000a6010000ab0100000000000000
                   000100820064007d077e0777017700780359007701230031007304770278
                   0359007701010059000100010064005300
                              0 COPY_FREE_VARS           6
                              2 MAKE_CELL                8 (result)
                              4 MAKE_CELL                9 (span_capture)
                
-               216           6 RETURN_GENERATOR
+               213           6 RETURN_GENERATOR
                              8 POP_TOP
                             10 RESUME                   0
                
-               217          12 LOAD_DEREF              13 (span_name)
+               214          12 LOAD_DEREF              13 (span_name)
                             14 JUMP_IF_TRUE_OR_POP     20 (to 56)
                             16 LOAD_DEREF              10 (SpanCapture)
                             18 LOAD_METHOD              0 (get_span_name)
                             40 LOAD_FAST                1 (instance)
                             42 PRECALL                  1
                             46 CALL                     1
                        >>   56 STORE_FAST               4 (name)
                
-               218          58 LOAD_DEREF              12 (span_kind)
+               215          58 LOAD_DEREF              12 (span_kind)
                             60 JUMP_IF_TRUE_OR_POP     20 (to 102)
                             62 LOAD_DEREF              10 (SpanCapture)
                             64 LOAD_METHOD              1 (get_span_kind)
                             86 LOAD_FAST                1 (instance)
                             88 PRECALL                  1
                             92 CALL                     1
                        >>  102 STORE_FAST               5 (kind)
                
-               219         104 LOAD_DEREF              14 (tracer)
+               216         104 LOAD_DEREF              14 (tracer)
                            106 LOAD_METHOD              2 (start_as_current_span)
                
-               220         128 LOAD_FAST                4 (name)
+               217         128 LOAD_FAST                4 (name)
                            130 LOAD_FAST                5 (kind)
                
-               219         132 KW_NAMES                 1
+               216         132 KW_NAMES                 1
                            134 PRECALL                  2
                            138 CALL                     2
                            148 BEFORE_WITH
                
-               221         150 STORE_FAST               6 (span)
+               218         150 STORE_FAST               6 (span)
                
-               222         152 PUSH_NULL
+               219         152 PUSH_NULL
                            154 LOAD_DEREF              10 (SpanCapture)
                            156 LOAD_FAST                2 (args)
                            158 LOAD_DEREF              15 (version)
                            160 LOAD_FAST                1 (instance)
                            162 LOAD_FAST                6 (span)
                            164 LOAD_CONST               2 (('version', 'instance', 'span'))
                            166 BUILD_CONST_KEY_MAP      3
                            168 LOAD_FAST                3 (kwargs)
                            170 DICT_MERGE               1
                            172 LOAD_DEREF              11 (okwargs)
                            174 DICT_MERGE               1
                            176 CALL_FUNCTION_EX         1
                            178 STORE_DEREF              9 (span_capture)
                
-               223         180 LOAD_GLOBAL              7 (NULL + callable)
+               220         180 LOAD_GLOBAL              7 (NULL + callable)
                            192 LOAD_DEREF               9 (span_capture)
                            194 LOAD_ATTR                4 (capture_input)
                            204 PRECALL                  1
                            208 CALL                     1
                            218 POP_JUMP_FORWARD_IF_FALSE    18 (to 256)
                
-               224         220 LOAD_GLOBAL             11 (NULL + error_handler)
+               221         220 LOAD_GLOBAL             11 (NULL + error_handler)
                            232 LOAD_CLOSURE             9 (span_capture)
                            234 BUILD_TUPLE              1
-                           236 LOAD_CONST               3 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 224>)
+                           236 LOAD_CONST               3 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 221>)
                            238 MAKE_FUNCTION            8 (closure)
                            240 PRECALL                  1
                            244 CALL                     1
                            254 POP_TOP
                
-               225     >>  256 NOP
+               222     >>  256 NOP
                
-               227         258 PUSH_NULL
+               224         258 PUSH_NULL
                            260 LOAD_FAST                0 (wrapped)
                            262 LOAD_FAST                2 (args)
                            264 BUILD_MAP                0
                            266 LOAD_FAST                3 (kwargs)
                            268 DICT_MERGE               1
                            270 CALL_FUNCTION_EX         1
                            272 GET_AWAITABLE            0
                            274 LOAD_CONST               0 (None)
                        >>  276 SEND                     3 (to 284)
                            278 YIELD_VALUE
                            280 RESUME                   3
                            282 JUMP_BACKWARD_NO_INTERRUPT     4 (to 276)
                        >>  284 STORE_DEREF              8 (result)
                
-               228         286 LOAD_GLOBAL              7 (NULL + callable)
+               225         286 LOAD_GLOBAL              7 (NULL + callable)
                            298 LOAD_DEREF               9 (span_capture)
                            300 LOAD_ATTR                6 (capture_output)
                            310 PRECALL                  1
                            314 CALL                     1
                            324 POP_JUMP_FORWARD_IF_FALSE    19 (to 364)
                
-               229         326 LOAD_GLOBAL             11 (NULL + error_handler)
+               226         326 LOAD_GLOBAL             11 (NULL + error_handler)
                            338 LOAD_CLOSURE             8 (result)
                            340 LOAD_CLOSURE             9 (span_capture)
                            342 BUILD_TUPLE              2
-                           344 LOAD_CONST               4 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 229>)
+                           344 LOAD_CONST               4 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 226>)
                            346 MAKE_FUNCTION            8 (closure)
                            348 PRECALL                  1
                            352 CALL                     1
                            362 POP_TOP
                
-               231     >>  364 LOAD_FAST                6 (span)
+               228     >>  364 LOAD_FAST                6 (span)
                            366 LOAD_METHOD              7 (set_status)
                            388 LOAD_GLOBAL             16 (StatusCode)
                            400 LOAD_ATTR                9 (OK)
                            410 PRECALL                  1
                            414 CALL                     1
                            424 POP_TOP
                
-               232         426 LOAD_DEREF               8 (result)
+               229         426 LOAD_DEREF               8 (result)
                
-               219         428 SWAP                     2
+               216         428 SWAP                     2
                            430 LOAD_CONST               0 (None)
                            432 LOAD_CONST               0 (None)
                            434 LOAD_CONST               0 (None)
                            436 PRECALL                  2
                            440 CALL                     2
                            450 POP_TOP
                            452 RETURN_VALUE
                        >>  454 PUSH_EXC_INFO
                
-               233         456 LOAD_GLOBAL             20 (Exception)
+               230         456 LOAD_GLOBAL             20 (Exception)
                            468 CHECK_EXC_MATCH
                            470 POP_JUMP_FORWARD_IF_FALSE    85 (to 642)
                            472 STORE_FAST               7 (err)
                
-               235         474 LOAD_FAST                6 (span)
+               232         474 LOAD_FAST                6 (span)
                            476 LOAD_METHOD             11 (record_exception)
                            498 LOAD_FAST                7 (err)
                            500 PRECALL                  1
                            504 CALL                     1
                            514 POP_TOP
                
-               238         516 LOAD_FAST                6 (span)
+               235         516 LOAD_FAST                6 (span)
                            518 LOAD_METHOD              7 (set_status)
                            540 LOAD_GLOBAL             25 (NULL + Status)
                            552 LOAD_GLOBAL             16 (StatusCode)
                            564 LOAD_ATTR               13 (ERROR)
                            574 LOAD_GLOBAL             29 (NULL + str)
                            586 LOAD_FAST                7 (err)
                            588 PRECALL                  1
                            592 CALL                     1
                            602 PRECALL                  2
                            606 CALL                     2
                            616 PRECALL                  1
                            620 CALL                     1
                            630 POP_TOP
                
-               241         632 RAISE_VARARGS            0
+               238         632 RAISE_VARARGS            0
                        >>  634 LOAD_CONST               0 (None)
                            636 STORE_FAST               7 (err)
                            638 DELETE_FAST              7 (err)
                            640 RERAISE                  1
                
-               233     >>  642 RERAISE                  0
+               230     >>  642 RERAISE                  0
                        >>  644 COPY                     3
                            646 POP_EXCEPT
                            648 RERAISE                  1
                
-               219     >>  650 PUSH_EXC_INFO
+               216     >>  650 PUSH_EXC_INFO
                            652 WITH_EXCEPT_START
                            654 POP_JUMP_FORWARD_IF_TRUE     4 (to 664)
                            656 RERAISE                  2
                        >>  658 COPY                     3
                            660 POP_EXCEPT
                            662 RERAISE                  1
                        >>  664 POP_TOP
@@ -1706,75 +1718,75 @@
                      stacksize : 2
                      flags     : 19
                      code
                         0x950197008900a0000000000000000000000000000000000000000000a6
                         000000ab0000000000000000005300
                                    0 COPY_FREE_VARS           1
                      
-                     224           2 RESUME                   0
+                     221           2 RESUME                   0
                                    4 LOAD_DEREF               0 (span_capture)
                                    6 LOAD_METHOD              0 (capture_input)
                                   28 PRECALL                  0
                                   32 CALL                     0
                                   42 RETURN_VALUE
                      consts
                         None
                      names      ('capture_input',)
                      varnames   ()
                      freevars   ('span_capture',)
                      cellvars   ()
                      filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                      name       '<lambda>'
-                     firstlineno 224
+                     firstlineno 221
                      lnotab 0x
                   code
                      argcount  : 0
                      nlocals   : 0
                      stacksize : 3
                      flags     : 19
                      code
                         0x950297008901a000000000000000000000000000000000000000000089
                         00a6010000ab0100000000000000005300
                                    0 COPY_FREE_VARS           2
                      
-                     229           2 RESUME                   0
+                     226           2 RESUME                   0
                                    4 LOAD_DEREF               1 (span_capture)
                                    6 LOAD_METHOD              0 (capture_output)
                                   28 LOAD_DEREF               0 (result)
                                   30 PRECALL                  1
                                   34 CALL                     1
                                   44 RETURN_VALUE
                      consts
                         None
                      names      ('capture_output',)
                      varnames   ()
                      freevars   ('result', 'span_capture')
                      cellvars   ()
                      filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                      name       '<lambda>'
-                     firstlineno 229
+                     firstlineno 226
                      lnotab 0x
                names      ('get_span_name', 'get_span_kind', 'start_as_current_span', 'callable', 'capture_input', 'error_handler', 'capture_output', 'set_status', 'StatusCode', 'OK', 'Exception', 'record_exception', 'Status', 'ERROR', 'str')
                varnames   ('wrapped', 'instance', 'args', 'kwargs', 'name', 'kind', 'span', 'err')
                freevars   ('SpanCapture', 'okwargs', 'span_kind', 'span_name', 'tracer', 'version')
                cellvars   ('result', 'span_capture')
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'traced_method'
-               firstlineno 216
+               firstlineno 213
                lnotab
                   0x0c012e012e01180104ff120202011c012801240102021c01280126023e
                   0102f31c0e12022a0374030af808f2
          names      ()
          varnames   ('tracer', 'span_name', 'span_kind', 'version', 'SpanCapture', 'okwargs', 'traced_method')
          freevars   ()
          cellvars   ('tracer', 'span_name', 'span_kind', 'version', 'SpanCapture', 'okwargs')
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
          name       'async_method_wrapper'
-         firstlineno 204
-         lnotab 0x0e0c141b
+         firstlineno 205
+         lnotab 0x0e08141b
       code
          argcount  : 5
          nlocals   : 7
          stacksize : 6
          flags     : 11
          code
             0x8700870187028703870487059700880488058802880188008803660664
@@ -1782,31 +1794,31 @@
                        0 MAKE_CELL                0 (tracer)
                        2 MAKE_CELL                1 (span_name)
                        4 MAKE_CELL                2 (span_kind)
                        6 MAKE_CELL                3 (version)
                        8 MAKE_CELL                4 (SpanCapture)
                       10 MAKE_CELL                5 (okwargs)
          
-         246          12 RESUME                   0
+         243          12 RESUME                   0
          
-         258          14 LOAD_CLOSURE             4 (SpanCapture)
+         255          14 LOAD_CLOSURE             4 (SpanCapture)
                       16 LOAD_CLOSURE             5 (okwargs)
                       18 LOAD_CLOSURE             2 (span_kind)
                       20 LOAD_CLOSURE             1 (span_name)
                       22 LOAD_CLOSURE             0 (tracer)
                       24 LOAD_CLOSURE             3 (version)
                       26 BUILD_TUPLE              6
-                      28 LOAD_CONST               1 (<code object traced_method, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 258>)
+                      28 LOAD_CONST               1 (<code object traced_method, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 255>)
                       30 MAKE_FUNCTION            8 (closure)
                       32 STORE_FAST               6 (traced_method)
          
-         294          34 LOAD_FAST                6 (traced_method)
+         293          34 LOAD_FAST                6 (traced_method)
                       36 RETURN_VALUE
          consts
-            '\n    Wrap the `generate` method of the `Images` class to trace it.\n    '
+            '\n    Manually end span with stream_wrapper\n    '
             code
                argcount  : 4
                nlocals   : 9
                stacksize : 9
                flags     : 19
                code
                   0x95068709870a9700890e7014890ba00000000000000000000000000000
@@ -1823,302 +1835,303 @@
                   00000000000000a6000000ab0000000000000000007d077c07722a740700
                   000000000000000000890a6a070000000000000000a6010000ab01000000
                   00000000007215890aa00700000000000000000000000000000000000000
                   008909a6010000ab01000000000000000053006e27740700000000000000
                   000000890a6a080000000000000000a6010000ab01000000000000000072
                   13740b000000000000000000008809880a660264058408a6010000ab0100
                   0000000000000001007c06a0090000000000000000000000000000000000
-                  0000007414000000000000000000006a0b0000000000000000a6010000ab
-                  01000000000000000001007c06a00c000000000000000000000000000000
-                  0000000000a6000000ab0000000000000000000100890953002300741a00
-                  000000000000000000240072787d08741d000000000000000000007c08a6
-                  010000ab01000000000000000001007c06a00f0000000000000000000000
-                  0000000000000000007c08a6010000ab01000000000000000001007c06a0
-                  090000000000000000000000000000000000000000742100000000000000
-                  0000007414000000000000000000006a1100000000000000007425000000
-                  000000000000007c08a6010000ab010000000000000000a6020000ab0200
-                  00000000000000a6010000ab01000000000000000001007c06a00c000000
-                  0000000000000000000000000000000000a6000000ab0000000000000000
-                  000100820064007d087e0877017700780359007701
+                  000000a6000000ab00000000000000000072337c06a00a00000000000000
+                  000000000000000000000000007416000000000000000000006a0c000000
+                  0000000000a6010000ab01000000000000000001007c06a00d0000000000
+                  000000000000000000000000000000a6000000ab00000000000000000001
+                  00890953002300741c00000000000000000000240072697d087c06a00f00
+                  000000000000000000000000000000000000007c08a6010000ab01000000
+                  000000000001007c06a00a00000000000000000000000000000000000000
+                  007421000000000000000000007416000000000000000000006a11000000
+                  00000000007425000000000000000000007c08a6010000ab010000000000
+                  000000a6020000ab020000000000000000a6010000ab0100000000000000
+                  0001007c06a00d0000000000000000000000000000000000000000a60000
+                  00ab0000000000000000000100820064007d087e08770177007803590077
+                  01
                              0 COPY_FREE_VARS           6
                              2 MAKE_CELL                9 (result)
                              4 MAKE_CELL               10 (span_capture)
                
-               258           6 RESUME                   0
+               255           6 RESUME                   0
                
-               259           8 LOAD_DEREF              14 (span_name)
+               256           8 LOAD_DEREF              14 (span_name)
                             10 JUMP_IF_TRUE_OR_POP     20 (to 52)
                             12 LOAD_DEREF              11 (SpanCapture)
                             14 LOAD_METHOD              0 (get_span_name)
                             36 LOAD_FAST                1 (instance)
                             38 PRECALL                  1
                             42 CALL                     1
                        >>   52 STORE_FAST               4 (name)
                
-               260          54 LOAD_DEREF              13 (span_kind)
+               257          54 LOAD_DEREF              13 (span_kind)
                             56 JUMP_IF_TRUE_OR_POP     20 (to 98)
                             58 LOAD_DEREF              11 (SpanCapture)
                             60 LOAD_METHOD              1 (get_span_kind)
                             82 LOAD_FAST                1 (instance)
                             84 PRECALL                  1
                             88 CALL                     1
                        >>   98 STORE_FAST               5 (kind)
                
-               261         100 LOAD_DEREF              15 (tracer)
+               258         100 LOAD_DEREF              15 (tracer)
                            102 LOAD_METHOD              2 (start_span)
                            124 LOAD_FAST                4 (name)
                            126 LOAD_FAST                5 (kind)
                            128 KW_NAMES                 1
                            130 PRECALL                  2
                            134 CALL                     2
                            144 STORE_FAST               6 (span)
                
-               262         146 PUSH_NULL
+               259         146 PUSH_NULL
                            148 LOAD_DEREF              11 (SpanCapture)
                            150 LOAD_FAST                2 (args)
                            152 LOAD_DEREF              16 (version)
                            154 LOAD_FAST                1 (instance)
                            156 LOAD_FAST                6 (span)
                            158 LOAD_CONST               2 (('version', 'instance', 'span'))
                            160 BUILD_CONST_KEY_MAP      3
                            162 LOAD_FAST                3 (kwargs)
                            164 DICT_MERGE               1
                            166 LOAD_DEREF              12 (okwargs)
                            168 DICT_MERGE               1
                            170 CALL_FUNCTION_EX         1
                            172 STORE_DEREF             10 (span_capture)
                
-               263         174 LOAD_GLOBAL              7 (NULL + callable)
+               260         174 LOAD_GLOBAL              7 (NULL + callable)
                            186 LOAD_DEREF              10 (span_capture)
                            188 LOAD_ATTR                4 (capture_input)
                            198 PRECALL                  1
                            202 CALL                     1
                            212 POP_JUMP_FORWARD_IF_FALSE    18 (to 250)
                
-               264         214 LOAD_GLOBAL             11 (NULL + error_handler)
+               261         214 LOAD_GLOBAL             11 (NULL + error_handler)
                            226 LOAD_CLOSURE            10 (span_capture)
                            228 BUILD_TUPLE              1
-                           230 LOAD_CONST               3 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 264>)
+                           230 LOAD_CONST               3 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 261>)
                            232 MAKE_FUNCTION            8 (closure)
                            234 PRECALL                  1
                            238 CALL                     1
                            248 POP_TOP
                
-               265     >>  250 NOP
+               262     >>  250 NOP
                
-               267         252 PUSH_NULL
+               264         252 PUSH_NULL
                            254 LOAD_FAST                0 (wrapped)
                            256 LOAD_FAST                2 (args)
                            258 BUILD_MAP                0
                            260 LOAD_FAST                3 (kwargs)
                            262 DICT_MERGE               1
                            264 CALL_FUNCTION_EX         1
                            266 STORE_DEREF              9 (result)
                
-               268         268 LOAD_CONST               4 (False)
+               265         268 LOAD_CONST               4 (False)
                            270 STORE_FAST               7 (is_streaming)
                
-               269         272 LOAD_GLOBAL              7 (NULL + callable)
+               266         272 LOAD_GLOBAL              7 (NULL + callable)
                            284 LOAD_DEREF              10 (span_capture)
                            286 LOAD_ATTR                6 (is_streaming)
                            296 PRECALL                  1
                            300 CALL                     1
                            310 POP_JUMP_FORWARD_IF_FALSE    20 (to 352)
                
-               270         312 LOAD_DEREF              10 (span_capture)
+               267         312 LOAD_DEREF              10 (span_capture)
                            314 LOAD_METHOD              6 (is_streaming)
                            336 PRECALL                  0
                            340 CALL                     0
                            350 STORE_FAST               7 (is_streaming)
                
-               272     >>  352 LOAD_FAST                7 (is_streaming)
+               269     >>  352 LOAD_FAST                7 (is_streaming)
                            354 POP_JUMP_FORWARD_IF_FALSE    42 (to 440)
                
-               273         356 LOAD_GLOBAL              7 (NULL + callable)
+               271         356 LOAD_GLOBAL              7 (NULL + callable)
                            368 LOAD_DEREF              10 (span_capture)
                            370 LOAD_ATTR                7 (capture_stream_output)
                            380 PRECALL                  1
                            384 CALL                     1
                            394 POP_JUMP_FORWARD_IF_FALSE    21 (to 438)
                
-               274         396 LOAD_DEREF              10 (span_capture)
+               272         396 LOAD_DEREF              10 (span_capture)
                            398 LOAD_METHOD              7 (capture_stream_output)
                            420 LOAD_DEREF               9 (result)
                            422 PRECALL                  1
                            426 CALL                     1
                            436 RETURN_VALUE
                
-               273     >>  438 JUMP_FORWARD            39 (to 518)
+               271     >>  438 JUMP_FORWARD            39 (to 518)
                
-               276     >>  440 LOAD_GLOBAL              7 (NULL + callable)
+               274     >>  440 LOAD_GLOBAL              7 (NULL + callable)
                            452 LOAD_DEREF              10 (span_capture)
                            454 LOAD_ATTR                8 (capture_output)
                            464 PRECALL                  1
                            468 CALL                     1
                            478 POP_JUMP_FORWARD_IF_FALSE    19 (to 518)
                
-               277         480 LOAD_GLOBAL             11 (NULL + error_handler)
+               275         480 LOAD_GLOBAL             11 (NULL + error_handler)
                            492 LOAD_CLOSURE             9 (result)
                            494 LOAD_CLOSURE            10 (span_capture)
                            496 BUILD_TUPLE              2
-                           498 LOAD_CONST               5 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 277>)
+                           498 LOAD_CONST               5 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 275>)
                            500 MAKE_FUNCTION            8 (closure)
                            502 PRECALL                  1
                            506 CALL                     1
                            516 POP_TOP
                
-               279     >>  518 LOAD_FAST                6 (span)
-                           520 LOAD_METHOD              9 (set_status)
-                           542 LOAD_GLOBAL             20 (StatusCode)
-                           554 LOAD_ATTR               11 (OK)
-                           564 PRECALL                  1
-                           568 CALL                     1
-                           578 POP_TOP
-               
-               280         580 LOAD_FAST                6 (span)
-                           582 LOAD_METHOD             12 (end)
-                           604 PRECALL                  0
-                           608 CALL                     0
+               277     >>  518 LOAD_FAST                6 (span)
+                           520 LOAD_METHOD              9 (is_recording)
+                           542 PRECALL                  0
+                           546 CALL                     0
+                           556 POP_JUMP_FORWARD_IF_FALSE    51 (to 660)
+               
+               278         558 LOAD_FAST                6 (span)
+                           560 LOAD_METHOD             10 (set_status)
+                           582 LOAD_GLOBAL             22 (StatusCode)
+                           594 LOAD_ATTR               12 (OK)
+                           604 PRECALL                  1
+                           608 CALL                     1
                            618 POP_TOP
                
-               281         620 LOAD_DEREF               9 (result)
-                           622 RETURN_VALUE
-                       >>  624 PUSH_EXC_INFO
-               
-               282         626 LOAD_GLOBAL             26 (Exception)
-                           638 CHECK_EXC_MATCH
-                           640 POP_JUMP_FORWARD_IF_FALSE   120 (to 882)
-                           642 STORE_FAST               8 (err)
-               
-               283         644 LOAD_GLOBAL             29 (NULL + print)
-                           656 LOAD_FAST                8 (err)
-                           658 PRECALL                  1
-                           662 CALL                     1
-                           672 POP_TOP
-               
-               285         674 LOAD_FAST                6 (span)
-                           676 LOAD_METHOD             15 (record_exception)
-                           698 LOAD_FAST                8 (err)
-                           700 PRECALL                  1
-                           704 CALL                     1
-                           714 POP_TOP
-               
-               288         716 LOAD_FAST                6 (span)
-                           718 LOAD_METHOD              9 (set_status)
-                           740 LOAD_GLOBAL             33 (NULL + Status)
-                           752 LOAD_GLOBAL             20 (StatusCode)
-                           764 LOAD_ATTR               17 (ERROR)
-                           774 LOAD_GLOBAL             37 (NULL + str)
-                           786 LOAD_FAST                8 (err)
-                           788 PRECALL                  1
-                           792 CALL                     1
-                           802 PRECALL                  2
-                           806 CALL                     2
-                           816 PRECALL                  1
-                           820 CALL                     1
-                           830 POP_TOP
-               
-               291         832 LOAD_FAST                6 (span)
-                           834 LOAD_METHOD             12 (end)
-                           856 PRECALL                  0
-                           860 CALL                     0
-                           870 POP_TOP
-               
-               292         872 RAISE_VARARGS            0
-                       >>  874 LOAD_CONST               0 (None)
-                           876 STORE_FAST               8 (err)
-                           878 DELETE_FAST              8 (err)
-                           880 RERAISE                  1
-               
-               282     >>  882 RERAISE                  0
-                       >>  884 COPY                     3
-                           886 POP_EXCEPT
-                           888 RERAISE                  1
+               279         620 LOAD_FAST                6 (span)
+                           622 LOAD_METHOD             13 (end)
+                           644 PRECALL                  0
+                           648 CALL                     0
+                           658 POP_TOP
+               
+               281     >>  660 LOAD_DEREF               9 (result)
+                           662 RETURN_VALUE
+                       >>  664 PUSH_EXC_INFO
+               
+               282         666 LOAD_GLOBAL             28 (Exception)
+                           678 CHECK_EXC_MATCH
+                           680 POP_JUMP_FORWARD_IF_FALSE   105 (to 892)
+                           682 STORE_FAST               8 (err)
+               
+               284         684 LOAD_FAST                6 (span)
+                           686 LOAD_METHOD             15 (record_exception)
+                           708 LOAD_FAST                8 (err)
+                           710 PRECALL                  1
+                           714 CALL                     1
+                           724 POP_TOP
+               
+               287         726 LOAD_FAST                6 (span)
+                           728 LOAD_METHOD             10 (set_status)
+                           750 LOAD_GLOBAL             33 (NULL + Status)
+                           762 LOAD_GLOBAL             22 (StatusCode)
+                           774 LOAD_ATTR               17 (ERROR)
+                           784 LOAD_GLOBAL             37 (NULL + str)
+                           796 LOAD_FAST                8 (err)
+                           798 PRECALL                  1
+                           802 CALL                     1
+                           812 PRECALL                  2
+                           816 CALL                     2
+                           826 PRECALL                  1
+                           830 CALL                     1
+                           840 POP_TOP
+               
+               290         842 LOAD_FAST                6 (span)
+                           844 LOAD_METHOD             13 (end)
+                           866 PRECALL                  0
+                           870 CALL                     0
+                           880 POP_TOP
+               
+               291         882 RAISE_VARARGS            0
+                       >>  884 LOAD_CONST               0 (None)
+                           886 STORE_FAST               8 (err)
+                           888 DELETE_FAST              8 (err)
+                           890 RERAISE                  1
+               
+               282     >>  892 RERAISE                  0
+                       >>  894 COPY                     3
+                           896 POP_EXCEPT
+                           898 RERAISE                  1
                ExceptionTable:
-                 252 to 434 -> 624 [0]
-                 438 to 620 -> 624 [0]
-                 624 to 642 -> 884 [1] lasti
-                 644 to 872 -> 874 [1] lasti
-                 874 to 882 -> 884 [1] lasti
+                 252 to 434 -> 664 [0]
+                 438 to 660 -> 664 [0]
+                 664 to 682 -> 894 [1] lasti
+                 684 to 882 -> 884 [1] lasti
+                 884 to 892 -> 894 [1] lasti
                consts
                   None
                   ('kind',)
                   ('version', 'instance', 'span')
                   code
                      argcount  : 0
                      nlocals   : 0
                      stacksize : 2
                      flags     : 19
                      code
                         0x950197008900a0000000000000000000000000000000000000000000a6
                         000000ab0000000000000000005300
                                    0 COPY_FREE_VARS           1
                      
-                     264           2 RESUME                   0
+                     261           2 RESUME                   0
                                    4 LOAD_DEREF               0 (span_capture)
                                    6 LOAD_METHOD              0 (capture_input)
                                   28 PRECALL                  0
                                   32 CALL                     0
                                   42 RETURN_VALUE
                      consts
                         None
                      names      ('capture_input',)
                      varnames   ()
                      freevars   ('span_capture',)
                      cellvars   ()
                      filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                      name       '<lambda>'
-                     firstlineno 264
+                     firstlineno 261
                      lnotab 0x
                   False
                   code
                      argcount  : 0
                      nlocals   : 0
                      stacksize : 3
                      flags     : 19
                      code
                         0x950297008901a000000000000000000000000000000000000000000089
                         00a6010000ab0100000000000000005300
                                    0 COPY_FREE_VARS           2
                      
-                     277           2 RESUME                   0
+                     275           2 RESUME                   0
                                    4 LOAD_DEREF               1 (span_capture)
                                    6 LOAD_METHOD              0 (capture_output)
                                   28 LOAD_DEREF               0 (result)
                                   30 PRECALL                  1
                                   34 CALL                     1
                                   44 RETURN_VALUE
                      consts
                         None
                      names      ('capture_output',)
                      varnames   ()
                      freevars   ('result', 'span_capture')
                      cellvars   ()
                      filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                      name       '<lambda>'
-                     firstlineno 277
+                     firstlineno 275
                      lnotab 0x
-               names      ('get_span_name', 'get_span_kind', 'start_span', 'callable', 'capture_input', 'error_handler', 'is_streaming', 'capture_stream_output', 'capture_output', 'set_status', 'StatusCode', 'OK', 'end', 'Exception', 'print', 'record_exception', 'Status', 'ERROR', 'str')
+               names      ('get_span_name', 'get_span_kind', 'start_span', 'callable', 'capture_input', 'error_handler', 'is_streaming', 'capture_stream_output', 'capture_output', 'is_recording', 'set_status', 'StatusCode', 'OK', 'end', 'Exception', 'record_exception', 'Status', 'ERROR', 'str')
                varnames   ('wrapped', 'instance', 'args', 'kwargs', 'name', 'kind', 'span', 'is_streaming', 'err')
                freevars   ('SpanCapture', 'okwargs', 'span_kind', 'span_name', 'tracer', 'version')
                cellvars   ('result', 'span_capture')
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'traced_method'
-               firstlineno 258
+               firstlineno 255
                lnotab
-                  0x08012e012e012e011c012801240102021001040128012802040128012a
-                  ff0203280126023e012801060112011e022a03740328010af6
+                  0x08012e012e012e011c012801240102021001040128012802040228012a
+                  ff02032801260228013e012802060112022a03740328010af7
          names      ()
          varnames   ('tracer', 'span_name', 'span_kind', 'version', 'SpanCapture', 'okwargs', 'traced_method')
          freevars   ()
          cellvars   ('tracer', 'span_name', 'span_kind', 'version', 'SpanCapture', 'okwargs')
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
          name       'stream_wrapper'
-         firstlineno 246
-         lnotab 0x0e0c1424
+         firstlineno 243
+         lnotab 0x0e0c1426
       code
          argcount  : 5
          nlocals   : 7
          stacksize : 6
          flags     : 11
          code
             0x8700870187028703870487059700880488058802880188008803660664
@@ -2126,28 +2139,28 @@
                        0 MAKE_CELL                0 (tracer)
                        2 MAKE_CELL                1 (span_name)
                        4 MAKE_CELL                2 (span_kind)
                        6 MAKE_CELL                3 (version)
                        8 MAKE_CELL                4 (SpanCapture)
                       10 MAKE_CELL                5 (okwargs)
          
-         297          12 RESUME                   0
+         296          12 RESUME                   0
          
-         309          14 LOAD_CLOSURE             4 (SpanCapture)
+         308          14 LOAD_CLOSURE             4 (SpanCapture)
                       16 LOAD_CLOSURE             5 (okwargs)
                       18 LOAD_CLOSURE             2 (span_kind)
                       20 LOAD_CLOSURE             1 (span_name)
                       22 LOAD_CLOSURE             0 (tracer)
                       24 LOAD_CLOSURE             3 (version)
                       26 BUILD_TUPLE              6
-                      28 LOAD_CONST               1 (<code object traced_method, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 309>)
+                      28 LOAD_CONST               1 (<code object traced_method, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 308>)
                       30 MAKE_FUNCTION            8 (closure)
                       32 STORE_FAST               6 (traced_method)
          
-         344          34 LOAD_FAST                6 (traced_method)
+         346          34 LOAD_FAST                6 (traced_method)
                       36 RETURN_VALUE
          consts
             '\n    Wrap the `generate` method of the `Images` class to trace it.\n    '
             code
                argcount  : 4
                nlocals   : 9
                stacksize : 9
@@ -2167,126 +2180,127 @@
                   0aa0060000000000000000000000000000000000000000a6000000ab0000
                   000000000000007d077c07722a740700000000000000000000890a6a0700
                   00000000000000a6010000ab0100000000000000007215890aa007000000
                   00000000000000000000000000000000008909a6010000ab010000000000
                   00000053006e27740700000000000000000000890a6a0800000000000000
                   00a6010000ab0100000000000000007213740b0000000000000000000088
                   09880a660264058408a6010000ab01000000000000000001007c06a00900
-                  000000000000000000000000000000000000007414000000000000000000
-                  006a0b0000000000000000a6010000ab01000000000000000001007c06a0
-                  0c0000000000000000000000000000000000000000a6000000ab00000000
-                  00000000000100890953002300741a00000000000000000000240072697d
-                  087c06a00e00000000000000000000000000000000000000007c08a60100
-                  00ab01000000000000000001007c06a00900000000000000000000000000
-                  00000000000000741f000000000000000000007414000000000000000000
-                  006a1000000000000000007423000000000000000000007c08a6010000ab
-                  010000000000000000a6020000ab020000000000000000a6010000ab0100
-                  0000000000000001007c06a00c0000000000000000000000000000000000
-                  000000a6000000ab0000000000000000000100820064007d087e08770177
-                  00780359007701
+                  00000000000000000000000000000000000000a6000000ab000000000000
+                  00000072337c06a00a000000000000000000000000000000000000000074
+                  16000000000000000000006a0c0000000000000000a6010000ab01000000
+                  000000000001007c06a00d00000000000000000000000000000000000000
+                  00a6000000ab0000000000000000000100890953002300741c0000000000
+                  0000000000240072697d087c06a00f000000000000000000000000000000
+                  00000000007c08a6010000ab01000000000000000001007c06a00a000000
+                  000000000000000000000000000000000074210000000000000000000074
+                  16000000000000000000006a110000000000000000742500000000000000
+                  0000007c08a6010000ab010000000000000000a6020000ab020000000000
+                  000000a6010000ab01000000000000000001007c06a00d00000000000000
+                  00000000000000000000000000a6000000ab000000000000000000010082
+                  0064007d087e0877017700780359007701
                              0 COPY_FREE_VARS           6
                              2 MAKE_CELL                9 (result)
                              4 MAKE_CELL               10 (span_capture)
                
-               309           6 RETURN_GENERATOR
+               308           6 RETURN_GENERATOR
                              8 POP_TOP
                             10 RESUME                   0
                
-               310          12 LOAD_DEREF              14 (span_name)
+               309          12 LOAD_DEREF              14 (span_name)
                             14 JUMP_IF_TRUE_OR_POP     20 (to 56)
                             16 LOAD_DEREF              11 (SpanCapture)
                             18 LOAD_METHOD              0 (get_span_name)
                             40 LOAD_FAST                1 (instance)
                             42 PRECALL                  1
                             46 CALL                     1
                        >>   56 STORE_FAST               4 (name)
                
-               311          58 LOAD_DEREF              13 (span_kind)
+               310          58 LOAD_DEREF              13 (span_kind)
                             60 JUMP_IF_TRUE_OR_POP     20 (to 102)
                             62 LOAD_DEREF              11 (SpanCapture)
                             64 LOAD_METHOD              1 (get_span_kind)
                             86 LOAD_FAST                1 (instance)
                             88 PRECALL                  1
                             92 CALL                     1
                        >>  102 STORE_FAST               5 (kind)
                
-               312         104 LOAD_DEREF              15 (tracer)
+               311         104 LOAD_DEREF              15 (tracer)
                            106 LOAD_METHOD              2 (start_span)
                            128 LOAD_FAST                4 (name)
                            130 LOAD_FAST                5 (kind)
                            132 KW_NAMES                 1
                            134 PRECALL                  2
                            138 CALL                     2
                            148 STORE_FAST               6 (span)
                
-               313         150 PUSH_NULL
+               312         150 PUSH_NULL
                            152 LOAD_DEREF              11 (SpanCapture)
                            154 LOAD_FAST                2 (args)
                            156 LOAD_DEREF              16 (version)
                            158 LOAD_FAST                1 (instance)
                            160 LOAD_FAST                6 (span)
                            162 LOAD_CONST               2 (('version', 'instance', 'span'))
                            164 BUILD_CONST_KEY_MAP      3
                            166 LOAD_FAST                3 (kwargs)
                            168 DICT_MERGE               1
                            170 LOAD_DEREF              12 (okwargs)
                            172 DICT_MERGE               1
                            174 CALL_FUNCTION_EX         1
                            176 STORE_DEREF             10 (span_capture)
                
-               314         178 LOAD_GLOBAL              7 (NULL + callable)
+               313         178 LOAD_GLOBAL              7 (NULL + callable)
                            190 LOAD_DEREF              10 (span_capture)
                            192 LOAD_ATTR                4 (capture_input)
                            202 PRECALL                  1
                            206 CALL                     1
                            216 POP_JUMP_FORWARD_IF_FALSE    18 (to 254)
                
-               315         218 LOAD_GLOBAL             11 (NULL + error_handler)
+               314         218 LOAD_GLOBAL             11 (NULL + error_handler)
                            230 LOAD_CLOSURE            10 (span_capture)
                            232 BUILD_TUPLE              1
-                           234 LOAD_CONST               3 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 315>)
+                           234 LOAD_CONST               3 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 314>)
                            236 MAKE_FUNCTION            8 (closure)
                            238 PRECALL                  1
                            242 CALL                     1
                            252 POP_TOP
                
-               316     >>  254 NOP
+               315     >>  254 NOP
                
-               318         256 PUSH_NULL
+               317         256 PUSH_NULL
                            258 LOAD_FAST                0 (wrapped)
                            260 LOAD_FAST                2 (args)
                            262 BUILD_MAP                0
                            264 LOAD_FAST                3 (kwargs)
                            266 DICT_MERGE               1
                            268 CALL_FUNCTION_EX         1
                            270 GET_AWAITABLE            0
                            272 LOAD_CONST               0 (None)
                        >>  274 SEND                     3 (to 282)
                            276 YIELD_VALUE
                            278 RESUME                   3
                            280 JUMP_BACKWARD_NO_INTERRUPT     4 (to 274)
                        >>  282 STORE_DEREF              9 (result)
                
-               319         284 LOAD_CONST               4 (False)
+               318         284 LOAD_CONST               4 (False)
                            286 STORE_FAST               7 (is_streaming)
                
-               320         288 LOAD_GLOBAL              7 (NULL + callable)
+               319         288 LOAD_GLOBAL              7 (NULL + callable)
                            300 LOAD_DEREF              10 (span_capture)
                            302 LOAD_ATTR                6 (is_streaming)
                            312 PRECALL                  1
                            316 CALL                     1
                            326 POP_JUMP_FORWARD_IF_FALSE    20 (to 368)
                
-               321         328 LOAD_DEREF              10 (span_capture)
+               320         328 LOAD_DEREF              10 (span_capture)
                            330 LOAD_METHOD              6 (is_streaming)
                            352 PRECALL                  0
                            356 CALL                     0
                            366 STORE_FAST               7 (is_streaming)
                
-               323     >>  368 LOAD_FAST                7 (is_streaming)
+               322     >>  368 LOAD_FAST                7 (is_streaming)
                            370 POP_JUMP_FORWARD_IF_FALSE    42 (to 456)
                
                324         372 LOAD_GLOBAL              7 (NULL + callable)
                            384 LOAD_DEREF              10 (span_capture)
                            386 LOAD_ATTR                7 (acapture_stream_output)
                            396 PRECALL                  1
                            400 CALL                     1
@@ -2315,109 +2329,115 @@
                            514 LOAD_CONST               5 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py", line 328>)
                            516 MAKE_FUNCTION            8 (closure)
                            518 PRECALL                  1
                            522 CALL                     1
                            532 POP_TOP
                
                330     >>  534 LOAD_FAST                6 (span)
-                           536 LOAD_METHOD              9 (set_status)
-                           558 LOAD_GLOBAL             20 (StatusCode)
-                           570 LOAD_ATTR               11 (OK)
-                           580 PRECALL                  1
-                           584 CALL                     1
-                           594 POP_TOP
-               
-               331         596 LOAD_FAST                6 (span)
-                           598 LOAD_METHOD             12 (end)
-                           620 PRECALL                  0
-                           624 CALL                     0
+                           536 LOAD_METHOD              9 (is_recording)
+                           558 PRECALL                  0
+                           562 CALL                     0
+                           572 POP_JUMP_FORWARD_IF_FALSE    51 (to 676)
+               
+               331         574 LOAD_FAST                6 (span)
+                           576 LOAD_METHOD             10 (set_status)
+                           598 LOAD_GLOBAL             22 (StatusCode)
+                           610 LOAD_ATTR               12 (OK)
+                           620 PRECALL                  1
+                           624 CALL                     1
                            634 POP_TOP
                
-               332         636 LOAD_DEREF               9 (result)
-                           638 RETURN_VALUE
-                       >>  640 PUSH_EXC_INFO
-               
-               333         642 LOAD_GLOBAL             26 (Exception)
-                           654 CHECK_EXC_MATCH
-                           656 POP_JUMP_FORWARD_IF_FALSE   105 (to 868)
-                           658 STORE_FAST               8 (err)
-               
-               335         660 LOAD_FAST                6 (span)
-                           662 LOAD_METHOD             14 (record_exception)
-                           684 LOAD_FAST                8 (err)
-                           686 PRECALL                  1
-                           690 CALL                     1
-                           700 POP_TOP
-               
-               338         702 LOAD_FAST                6 (span)
-                           704 LOAD_METHOD              9 (set_status)
-                           726 LOAD_GLOBAL             31 (NULL + Status)
-                           738 LOAD_GLOBAL             20 (StatusCode)
-                           750 LOAD_ATTR               16 (ERROR)
-                           760 LOAD_GLOBAL             35 (NULL + str)
-                           772 LOAD_FAST                8 (err)
-                           774 PRECALL                  1
-                           778 CALL                     1
-                           788 PRECALL                  2
-                           792 CALL                     2
-                           802 PRECALL                  1
-                           806 CALL                     1
-                           816 POP_TOP
-               
-               340         818 LOAD_FAST                6 (span)
-                           820 LOAD_METHOD             12 (end)
-                           842 PRECALL                  0
-                           846 CALL                     0
+               332         636 LOAD_FAST                6 (span)
+                           638 LOAD_METHOD             13 (end)
+                           660 PRECALL                  0
+                           664 CALL                     0
+                           674 POP_TOP
+               
+               334     >>  676 LOAD_DEREF               9 (result)
+                           678 RETURN_VALUE
+                       >>  680 PUSH_EXC_INFO
+               
+               335         682 LOAD_GLOBAL             28 (Exception)
+                           694 CHECK_EXC_MATCH
+                           696 POP_JUMP_FORWARD_IF_FALSE   105 (to 908)
+                           698 STORE_FAST               8 (err)
+               
+               337         700 LOAD_FAST                6 (span)
+                           702 LOAD_METHOD             15 (record_exception)
+                           724 LOAD_FAST                8 (err)
+                           726 PRECALL                  1
+                           730 CALL                     1
+                           740 POP_TOP
+               
+               340         742 LOAD_FAST                6 (span)
+                           744 LOAD_METHOD             10 (set_status)
+                           766 LOAD_GLOBAL             33 (NULL + Status)
+                           778 LOAD_GLOBAL             22 (StatusCode)
+                           790 LOAD_ATTR               17 (ERROR)
+                           800 LOAD_GLOBAL             37 (NULL + str)
+                           812 LOAD_FAST                8 (err)
+                           814 PRECALL                  1
+                           818 CALL                     1
+                           828 PRECALL                  2
+                           832 CALL                     2
+                           842 PRECALL                  1
+                           846 CALL                     1
                            856 POP_TOP
                
-               342         858 RAISE_VARARGS            0
-                       >>  860 LOAD_CONST               0 (None)
-                           862 STORE_FAST               8 (err)
-                           864 DELETE_FAST              8 (err)
-                           866 RERAISE                  1
-               
-               333     >>  868 RERAISE                  0
-                       >>  870 COPY                     3
-                           872 POP_EXCEPT
-                           874 RERAISE                  1
+               342         858 LOAD_FAST                6 (span)
+                           860 LOAD_METHOD             13 (end)
+                           882 PRECALL                  0
+                           886 CALL                     0
+                           896 POP_TOP
+               
+               344         898 RAISE_VARARGS            0
+                       >>  900 LOAD_CONST               0 (None)
+                           902 STORE_FAST               8 (err)
+                           904 DELETE_FAST              8 (err)
+                           906 RERAISE                  1
+               
+               335     >>  908 RERAISE                  0
+                       >>  910 COPY                     3
+                           912 POP_EXCEPT
+                           914 RERAISE                  1
                ExceptionTable:
-                 256 to 450 -> 640 [0]
-                 454 to 636 -> 640 [0]
-                 640 to 658 -> 870 [1] lasti
-                 660 to 858 -> 860 [1] lasti
-                 860 to 868 -> 870 [1] lasti
+                 256 to 450 -> 680 [0]
+                 454 to 676 -> 680 [0]
+                 680 to 698 -> 910 [1] lasti
+                 700 to 898 -> 900 [1] lasti
+                 900 to 908 -> 910 [1] lasti
                consts
                   None
                   ('kind',)
                   ('version', 'instance', 'span')
                   code
                      argcount  : 0
                      nlocals   : 0
                      stacksize : 2
                      flags     : 19
                      code
                         0x950197008900a0000000000000000000000000000000000000000000a6
                         000000ab0000000000000000005300
                                    0 COPY_FREE_VARS           1
                      
-                     315           2 RESUME                   0
+                     314           2 RESUME                   0
                                    4 LOAD_DEREF               0 (span_capture)
                                    6 LOAD_METHOD              0 (capture_input)
                                   28 PRECALL                  0
                                   32 CALL                     0
                                   42 RETURN_VALUE
                      consts
                         None
                      names      ('capture_input',)
                      varnames   ()
                      freevars   ('span_capture',)
                      cellvars   ()
                      filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                      name       '<lambda>'
-                     firstlineno 315
+                     firstlineno 314
                      lnotab 0x
                   False
                   code
                      argcount  : 0
                      nlocals   : 0
                      stacksize : 3
                      flags     : 19
@@ -2439,38 +2459,38 @@
                      varnames   ()
                      freevars   ('result', 'span_capture')
                      cellvars   ()
                      filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                      name       '<lambda>'
                      firstlineno 328
                      lnotab 0x
-               names      ('get_span_name', 'get_span_kind', 'start_span', 'callable', 'capture_input', 'error_handler', 'is_streaming', 'acapture_stream_output', 'capture_output', 'set_status', 'StatusCode', 'OK', 'end', 'Exception', 'record_exception', 'Status', 'ERROR', 'str')
+               names      ('get_span_name', 'get_span_kind', 'start_span', 'callable', 'capture_input', 'error_handler', 'is_streaming', 'acapture_stream_output', 'capture_output', 'is_recording', 'set_status', 'StatusCode', 'OK', 'end', 'Exception', 'record_exception', 'Status', 'ERROR', 'str')
                varnames   ('wrapped', 'instance', 'args', 'kwargs', 'name', 'kind', 'span', 'is_streaming', 'err')
                freevars   ('SpanCapture', 'okwargs', 'span_kind', 'span_name', 'tracer', 'version')
                cellvars   ('result', 'span_capture')
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
                name       'traced_method'
-               firstlineno 309
+               firstlineno 308
                lnotab
-                  0x0c012e012e012e011c012801240102021c01040128012802040128012a
-                  ff0203280126023e012801060112022a03740228020af7
+                  0x0c012e012e012e011c012801240102021c01040128012802040228012a
+                  ff02032801260228013e012802060112022a03740228020af7
          names      ()
          varnames   ('tracer', 'span_name', 'span_kind', 'version', 'SpanCapture', 'okwargs', 'traced_method')
          freevars   ()
          cellvars   ('tracer', 'span_name', 'span_kind', 'version', 'SpanCapture', 'okwargs')
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
          name       'async_stream_wrapper'
-         firstlineno 297
-         lnotab 0x0e0c1423
+         firstlineno 296
+         lnotab 0x0e0c1426
    names      ('abc', 'ABC', 'typing', 'Any', 'Dict', 'Literal', 'Optional', 'Type', 'TypeVar', 'Generic', 'agiflow.opentelemetry.convention', 'SpanAttributes', 'opentelemetry.trace', 'SpanKind', 'Span', 'opentelemetry.trace.status', 'Status', 'StatusCode', 'agiflow.utils', 'error_handler', 'agiflow.opentelemetry.instrumentation.constants.common', 'AGIFLOW_ADDITIONAL_SPAN_ATTRIBUTES_KEY', 'opentelemetry', 'baggage', 'pydantic', 'BaseModel', 'agiflow.version', '__version__', 'is_streaming_response', 'R', 'AbstractSpanCapture', 'BaseSpanCapture', 'str', 'CLIENT', 'type', 'method_wrapper', 'async_method_wrapper', 'stream_wrapper', 'async_stream_wrapper')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/instrumentation/utils/wrapper.py'
    name       '<module>'
    firstlineno 1
    lnotab
       0x00ff02010c0124010c01100110010c010c030c010c010c03060716032a
-      321c5902010201020102fb040202fe02032afd02040efc02050efb082c02
-      010201020102fb040202fe02032afd02040efc02050efb082c0201020102
-      0102fb040202fe02032afd02040efc02050efb083502010201020102fb04
+      361c5a02010201020102fb040202fe02032afd02040efc02050efb082802
+      010201020102fb040202fe02032afd02040efc02050efb08280201020102
+      0102fb040202fe02032afd02040efc02050efb083702010201020102fb04
       0202fe02032afd02040efc02050efb
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/instrumentation/utils/wrapper.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/instrumentation/utils/wrapper.py`

 * *Files 6% similar despite different names*

```diff
@@ -25,21 +25,25 @@
 class AbstractSpanCapture(ABC, Generic[R]):
     """
     To instrument method, we just need to write hooks which shared common properties
     such as span, instance, version, function arguments and key arguments, etc...
     """
     def capture_input(self):
         """
-        Synchronously adding trace to span before function called
+        Setting span attributes is alway synchronous.
+        This method is use to set span attributes before the
+        actual function is called.
         """
         pass
 
     def capture_output(self, result: R):
         """
-        Synchronously adding trace to span after function called
+        Setting span attributes is alway synchronous.
+        This method is use to set span attributes after the
+        actual function is called with result.
         """
         pass
 
     def capture_stream_output(self, result: R):
         """
         Synchronously adding trace to span if the function return stream
         """
@@ -149,32 +153,29 @@
         }
 
     def set_span_attribute(self, field, value):
         """
         Using this method to set single attribute
         which field is an enum
         """
-        if hasattr(field, 'value'):
-            self.span.set_attribute(field.value, value)
-        else:
-            self.span.set_attribute(field, value)
+        if self.span.is_recording():
+            if hasattr(field, 'value'):
+                self.span.set_attribute(field.value, value)
+            else:
+                self.span.set_attribute(field, value)
 
 
 def method_wrapper(
     tracer,
     span_name: str = '',
     span_kind: Optional[Literal[SpanKind.CLIENT] | str] = None,
     version: Optional[str] = None,
     SpanCapture: type[AbstractSpanCapture] = BaseSpanCapture,
     **okwargs
 ):
-    """
-    Wrap the `generate` method of the `Images` class to trace it.
-    """
-
     def traced_method(wrapped, instance, args, kwargs):
         name = span_name or SpanCapture.get_span_name(instance)
         kind = span_kind or SpanCapture.get_span_kind(instance)
         with tracer.start_as_current_span(
             name, kind=kind
         ) as span:
             span_capture = SpanCapture(*args, version=version, instance=instance, span=span, **kwargs, **okwargs)
@@ -205,18 +206,14 @@
     tracer,
     span_name: str = '',
     span_kind: Optional[Literal[SpanKind.CLIENT] | str] = None,
     version: Optional[str] = None,
     SpanCapture: type[AbstractSpanCapture] = BaseSpanCapture,
     **okwargs
 ):
-    """
-    Wrap the `generate` method of the `Images` class to trace it.
-    """
-
     async def traced_method(wrapped, instance, args, kwargs):
         name = span_name or SpanCapture.get_span_name(instance)
         kind = span_kind or SpanCapture.get_span_kind(instance)
         with tracer.start_as_current_span(
             name, kind=kind
         ) as span:
             span_capture = SpanCapture(*args, version=version, instance=instance, span=span, **kwargs, **okwargs)
@@ -248,15 +245,15 @@
     span_name: str = '',
     span_kind: Optional[Literal[SpanKind.CLIENT] | str] = None,
     version: Optional[str] = None,
     SpanCapture: type[AbstractSpanCapture] = BaseSpanCapture,
     **okwargs
 ):
     """
-    Wrap the `generate` method of the `Images` class to trace it.
+    Manually end span with stream_wrapper
     """
 
     def traced_method(wrapped, instance, args, kwargs):
         name = span_name or SpanCapture.get_span_name(instance)
         kind = span_kind or SpanCapture.get_span_kind(instance)
         span = tracer.start_span(name, kind=kind)
         span_capture = SpanCapture(*args, version=version, instance=instance, span=span, **kwargs, **okwargs)
@@ -266,25 +263,27 @@
             # Attempt to call the original method
             result = wrapped(*args, **kwargs)
             is_streaming = False
             if callable(span_capture.is_streaming):
                 is_streaming = span_capture.is_streaming()
 
             if is_streaming:
+                # NOTE: need to implement span_end with capture_stream_output
                 if callable(span_capture.capture_stream_output):
                     return span_capture.capture_stream_output(result)
             else:
                 if callable(span_capture.capture_output):
                     error_handler(lambda: span_capture.capture_output(result))
 
-            span.set_status(StatusCode.OK)
-            span.end()
+            if span.is_recording():
+                span.set_status(StatusCode.OK)
+                span.end()
+
             return result
         except Exception as err:
-            print(err)
             # Record the exception in the span
             span.record_exception(err)
 
             # Set the span status to indicate an error
             span.set_status(Status(StatusCode.ERROR, str(err)))
 
             # Reraise the exception to ensure it's not swallowed
@@ -317,22 +316,25 @@
             # Attempt to call the original method
             result = await wrapped(*args, **kwargs)
             is_streaming = False
             if callable(span_capture.is_streaming):
                 is_streaming = span_capture.is_streaming()
 
             if is_streaming:
+                # NOTE: need to implement span_end with capture_stream_output
                 if callable(span_capture.acapture_stream_output):
                     return span_capture.acapture_stream_output(result)
             else:
                 if callable(span_capture.capture_output):
                     error_handler(lambda: span_capture.capture_output(result))
 
-            span.set_status(StatusCode.OK)
-            span.end()
+            if span.is_recording():
+                span.set_status(StatusCode.OK)
+                span.end()
+
             return result
         except Exception as err:
             # Record the exception in the span
             span.record_exception(err)
 
             # Set the span status to indicate an error
             span.set_status(Status(StatusCode.ERROR, str(err)))
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/span_processors/__pycache__/thread_pool_span_processor.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/span_processors/__pycache__/thread_pool_span_processor.cpython-311.pyc`

 * *Files 16% similar despite different names*

#### Python bytecode

```diff
@@ -1,21 +1,22 @@
 magic:    0xa70d0d0a
-moddate:  0x02ca5666 (Wed May 29 06:24:02 2024 UTC)
-files sz: 2178
+moddate:  0x11d75b66 (Sun Jun  2 02:21:05 2024 UTC)
+files sz: 2347
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
       0x9700640064016c005a00640064016c015a01640064026c026d035a036d
       045a046d055a050100640064036c066d075a070100640064046c086d095a
       096d0a5a0a6d0b5a0b6d0c5a0c6d0d5a0d0100640064056c0e6d0f5a0f01
-      00640064066c106d115a110100640064016c125a12020047006407840064
-      086503a6030000ab0300000000000000005a1364015300
+      00640064066c106d115a110100020065006a1200000000000000006513a6
+      010000ab0100000000000000005a14020047006407840064086503a60300
+      00ab0300000000000000005a1564015300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 (0)
                  4 LOAD_CONST               1 (None)
                  6 IMPORT_NAME              0 (logging)
                  8 STORE_NAME               0 (logging)
    
@@ -67,30 +68,33 @@
     14          90 LOAD_CONST               0 (0)
                 92 LOAD_CONST               6 (('Pool',))
                 94 IMPORT_NAME             16 (multiprocessing.dummy)
                 96 IMPORT_FROM             17 (Pool)
                 98 STORE_NAME              17 (Pool)
                100 POP_TOP
    
-    15         102 LOAD_CONST               0 (0)
-               104 LOAD_CONST               1 (None)
-               106 IMPORT_NAME             18 (atexit)
-               108 STORE_NAME              18 (atexit)
+    16         102 PUSH_NULL
+               104 LOAD_NAME                0 (logging)
+               106 LOAD_ATTR               18 (getLogger)
+               116 LOAD_NAME               19 (__name__)
+               118 PRECALL                  1
+               122 CALL                     1
+               132 STORE_NAME              20 (logger)
    
-    18         110 PUSH_NULL
-               112 LOAD_BUILD_CLASS
-               114 LOAD_CONST               7 (<code object ThreadPoolSpanProcessor, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 18>)
-               116 MAKE_FUNCTION            0
-               118 LOAD_CONST               8 ('ThreadPoolSpanProcessor')
-               120 LOAD_NAME                3 (SpanProcessor)
-               122 PRECALL                  3
-               126 CALL                     3
-               136 STORE_NAME              19 (ThreadPoolSpanProcessor)
-               138 LOAD_CONST               1 (None)
-               140 RETURN_VALUE
+    19         134 PUSH_NULL
+               136 LOAD_BUILD_CLASS
+               138 LOAD_CONST               7 (<code object ThreadPoolSpanProcessor, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 19>)
+               140 MAKE_FUNCTION            0
+               142 LOAD_CONST               8 ('ThreadPoolSpanProcessor')
+               144 LOAD_NAME                3 (SpanProcessor)
+               146 PRECALL                  3
+               150 CALL                     3
+               160 STORE_NAME              21 (ThreadPoolSpanProcessor)
+               162 LOAD_CONST               1 (None)
+               164 RETURN_VALUE
    consts
       0
       None
       ('SpanProcessor', 'ReadableSpan', 'Span')
       ('SpanExporter',)
       ('_SUPPRESS_INSTRUMENTATION_KEY', 'Context', 'attach', 'detach', 'set_value')
       ('deque',)
@@ -102,223 +106,175 @@
          flags     : 0
          code
             0x970065005a0164005a0264015a03090009000900641264046504660264
             0584055a050900641364076506640865076a080000000000000000650919
             000000000000000000640964066606640a84055a0a6407650b6409640666
             04640b84045a0c6414640c84045a0d640d84005a0e6415640f650f640965
             106604641084055a11641184005a1264065300
-          18           0 RESUME                   0
+          19           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('ThreadPoolSpanProcessor')
                        8 STORE_NAME               2 (__qualname__)
          
-          19          10 LOAD_CONST               1 ('InMemory SpanProcessor implementation.\n\n    InMemorySpanProcessor is an implementation of `SpanProcessor` that\n    send remote request using threadpool instead of long-running thread.\n    ')
+          20          10 LOAD_CONST               1 ('ThreaPoolSpanProcessor implementation.\n\n    ThreadPoolSpanProcessor is an implementation of `SpanProcessor` that\n    send and forget remote request using threadpool instead of long-running thread.\n\n    Replace BatchSpanProcessor with this in serverless environment if the long-running\n    thread do not consistently send telemetry data and you cannot use SimpleSpanProcessor\n    as it increase the latency of you application.\n    ')
                       12 STORE_NAME               3 (__doc__)
          
-          28          14 NOP
+          33          14 NOP
          
-          29          16 NOP
+          34          16 NOP
          
-          30          18 NOP
+          35          18 NOP
          
-          25          20 LOAD_CONST              18 ((10, 4, 10))
+          30          20 LOAD_CONST              18 ((10, 4, 10))
                       22 LOAD_CONST               4 ('span_exporter')
          
-          27          24 LOAD_NAME                4 (SpanExporter)
+          32          24 LOAD_NAME                4 (SpanExporter)
          
-          25          26 BUILD_TUPLE              2
-                      28 LOAD_CONST               5 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 25>)
+          30          26 BUILD_TUPLE              2
+                      28 LOAD_CONST               5 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 30>)
                       30 MAKE_FUNCTION            5 (defaults, annotations)
                       32 STORE_NAME               5 (__init__)
          
-          45          34 NOP
+          46          34 NOP
          
-          42          36 LOAD_CONST              19 ((None,))
+          43          36 LOAD_CONST              19 ((None,))
                       38 LOAD_CONST               7 ('span')
          
-          44          40 LOAD_NAME                6 (Span)
+          45          40 LOAD_NAME                6 (Span)
          
-          42          42 LOAD_CONST               8 ('parent_context')
+          43          42 LOAD_CONST               8 ('parent_context')
          
-          45          44 LOAD_NAME                7 (typing)
+          46          44 LOAD_NAME                7 (typing)
                       46 LOAD_ATTR                8 (Optional)
                       56 LOAD_NAME                9 (Context)
                       58 BINARY_SUBSCR
          
-          42          68 LOAD_CONST               9 ('return')
+          43          68 LOAD_CONST               9 ('return')
          
-          46          70 LOAD_CONST               6 (None)
+          47          70 LOAD_CONST               6 (None)
          
-          42          72 BUILD_TUPLE              6
-                      74 LOAD_CONST              10 (<code object on_start, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 42>)
+          43          72 BUILD_TUPLE              6
+                      74 LOAD_CONST              10 (<code object on_start, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 43>)
                       76 MAKE_FUNCTION            5 (defaults, annotations)
                       78 STORE_NAME              10 (on_start)
          
-          49          80 LOAD_CONST               7 ('span')
+          50          80 LOAD_CONST               7 ('span')
                       82 LOAD_NAME               11 (ReadableSpan)
                       84 LOAD_CONST               9 ('return')
                       86 LOAD_CONST               6 (None)
                       88 BUILD_TUPLE              4
-                      90 LOAD_CONST              11 (<code object on_end, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 49>)
+                      90 LOAD_CONST              11 (<code object on_end, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 50>)
                       92 MAKE_FUNCTION            4 (annotations)
                       94 STORE_NAME              12 (on_end)
          
-          57          96 LOAD_CONST              20 (('return', None))
-                      98 LOAD_CONST              12 (<code object shutdown, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 57>)
+          58          96 LOAD_CONST              20 (('return', None))
+                      98 LOAD_CONST              12 (<code object shutdown, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 58>)
                      100 MAKE_FUNCTION            4 (annotations)
                      102 STORE_NAME              13 (shutdown)
          
-          60         104 LOAD_CONST              13 (<code object _export, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 60>)
+          61         104 LOAD_CONST              13 (<code object _export, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 61>)
                      106 MAKE_FUNCTION            0
                      108 STORE_NAME              14 (_export)
          
-          63         110 LOAD_CONST              21 ((30000,))
+          64         110 LOAD_CONST              21 ((30000,))
                      112 LOAD_CONST              15 ('timeout_millis')
                      114 LOAD_NAME               15 (int)
                      116 LOAD_CONST               9 ('return')
                      118 LOAD_NAME               16 (bool)
                      120 BUILD_TUPLE              4
-                     122 LOAD_CONST              16 (<code object force_flush, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 63>)
+                     122 LOAD_CONST              16 (<code object force_flush, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 64>)
                      124 MAKE_FUNCTION            5 (defaults, annotations)
                      126 STORE_NAME              17 (force_flush)
          
-          70         128 LOAD_CONST              17 (<code object wait_for_flush, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 70>)
+          71         128 LOAD_CONST              17 (<code object wait_for_flush, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py", line 71>)
                      130 MAKE_FUNCTION            0
                      132 STORE_NAME              18 (wait_for_flush)
                      134 LOAD_CONST               6 (None)
                      136 RETURN_VALUE
          consts
             'ThreadPoolSpanProcessor'
-            'InMemory SpanProcessor implementation.\n\n    InMemorySpanProcessor is an implementation of `SpanProcessor` that\n    send remote request using threadpool instead of long-running thread.\n    '
+            'ThreaPoolSpanProcessor implementation.\n\n    ThreadPoolSpanProcessor is an implementation of `SpanProcessor` that\n    send and forget remote request using threadpool instead of long-running thread.\n\n    Replace BatchSpanProcessor with this in serverless environment if the long-running\n    thread do not consistently send telemetry data and you cannot use SimpleSpanProcessor\n    as it increase the latency of you application.\n    '
             10
             4
             'span_exporter'
             code
                argcount  : 5
-               nlocals   : 6
+               nlocals   : 5
                stacksize : 4
                flags     : 3
                code
                   0x97007401000000000000000000007c03a6010000ab0100000000000000
                   007c005f0100000000000000007c027c005f020000000000000000740700
                   00000000000000000067007c04a6020000ab0200000000000000007c005f
                   0400000000000000007c017c005f05000000000000000067007c005f0600
-                  000000000000000900740f000000000000000000006a0800000000000000
-                  007c006a090000000000000000a6010000ab010000000000000000010064
-                  00530023007414000000000000000000002400721f7d0574170000000000
-                  00000000006a0c00000000000000007c05a6010000ab0100000000000000
-                  000100590064007d057e056400530064007d057e05770177007803590077
-                  01
-                25           0 RESUME                   0
+                  0000000000000064005300
+                30           0 RESUME                   0
                
-                32           2 LOAD_GLOBAL              1 (NULL + Pool)
+                37           2 LOAD_GLOBAL              1 (NULL + Pool)
                             14 LOAD_FAST                3 (pool_size)
                             16 PRECALL                  1
                             20 CALL                     1
                             30 LOAD_FAST                0 (self)
                             32 STORE_ATTR               1 (pool)
                
-                33          42 LOAD_FAST                2 (max_queue_size)
+                38          42 LOAD_FAST                2 (max_queue_size)
                             44 LOAD_FAST                0 (self)
                             46 STORE_ATTR               2 (max_queue_size)
                
-                34          56 LOAD_GLOBAL              7 (NULL + deque)
+                39          56 LOAD_GLOBAL              7 (NULL + deque)
                             68 BUILD_LIST               0
                             70 LOAD_FAST                4 (pool_queue_size)
                             72 PRECALL                  2
                             76 CALL                     2
                             86 LOAD_FAST                0 (self)
                             88 STORE_ATTR               4 (futures)
                
-                35          98 LOAD_FAST                1 (span_exporter)
+                40          98 LOAD_FAST                1 (span_exporter)
                            100 LOAD_FAST                0 (self)
                            102 STORE_ATTR               5 (span_exporter)
                
-                36         112 BUILD_LIST               0
+                41         112 BUILD_LIST               0
                            114 LOAD_FAST                0 (self)
                            116 STORE_ATTR               6 (queue)
-               
-                37         126 NOP
-               
-                38         128 LOAD_GLOBAL             15 (NULL + atexit)
-                           140 LOAD_ATTR                8 (register)
-                           150 LOAD_FAST                0 (self)
-                           152 LOAD_ATTR                9 (wait_for_flush)
-                           162 PRECALL                  1
-                           166 CALL                     1
-                           176 POP_TOP
-                           178 LOAD_CONST               0 (None)
-                           180 RETURN_VALUE
-                       >>  182 PUSH_EXC_INFO
-               
-                39         184 LOAD_GLOBAL             20 (Exception)
-                           196 CHECK_EXC_MATCH
-                           198 POP_JUMP_FORWARD_IF_FALSE    31 (to 262)
-                           200 STORE_FAST               5 (e)
-               
-                40         202 LOAD_GLOBAL             23 (NULL + logging)
-                           214 LOAD_ATTR               12 (warn)
-                           224 LOAD_FAST                5 (e)
-                           226 PRECALL                  1
-                           230 CALL                     1
-                           240 POP_TOP
-                           242 POP_EXCEPT
-                           244 LOAD_CONST               0 (None)
-                           246 STORE_FAST               5 (e)
-                           248 DELETE_FAST              5 (e)
-                           250 LOAD_CONST               0 (None)
-                           252 RETURN_VALUE
-                       >>  254 LOAD_CONST               0 (None)
-                           256 STORE_FAST               5 (e)
-                           258 DELETE_FAST              5 (e)
-                           260 RERAISE                  1
-               
-                39     >>  262 RERAISE                  0
-                       >>  264 COPY                     3
-                           266 POP_EXCEPT
-                           268 RERAISE                  1
-               ExceptionTable:
-                 128 to 176 -> 182 [0]
-                 182 to 200 -> 264 [1] lasti
-                 202 to 240 -> 254 [1] lasti
-                 254 to 262 -> 264 [1] lasti
+                           126 LOAD_CONST               0 (None)
+                           128 RETURN_VALUE
                consts
                   None
-               names      ('Pool', 'pool', 'max_queue_size', 'deque', 'futures', 'span_exporter', 'queue', 'atexit', 'register', 'wait_for_flush', 'Exception', 'logging', 'warn')
-               varnames   ('self', 'span_exporter', 'max_queue_size', 'pool_size', 'pool_queue_size', 'e')
+               names      ('Pool', 'pool', 'max_queue_size', 'deque', 'futures', 'span_exporter', 'queue')
+               varnames   ('self', 'span_exporter', 'max_queue_size', 'pool_size', 'pool_queue_size')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py'
                name       '__init__'
-               firstlineno 25
-               lnotab 0x020728010e012a010e010e010201380112013cff
+               firstlineno 30
+               lnotab 0x020728010e012a010e01
             None
             'span'
             'parent_context'
             'return'
             code
                argcount  : 3
                nlocals   : 3
                stacksize : 1
                flags     : 3
                code 0x970064005300
-                42           0 RESUME                   0
+                43           0 RESUME                   0
                
-                47           2 LOAD_CONST               0 (None)
+                48           2 LOAD_CONST               0 (None)
                              4 RETURN_VALUE
                consts
                   None
                names      ()
                varnames   ('self', 'span', 'parent_context')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py'
                name       'on_start'
-               firstlineno 42
+               firstlineno 43
                lnotab 0x0205
             code
                argcount  : 2
                nlocals   : 3
                stacksize : 6
                flags     : 3
                code
@@ -330,45 +286,45 @@
                   00ab0100000000000000007c006a0600000000000000006b020000000072
                   447c006a070000000000000000a004000000000000000000000000000000
                   00000000007c006a080000000000000000a0090000000000000000000000
                   0000000000000000007c006a0a00000000000000007c006a030000000000
                   000000a6020000ab020000000000000000a6010000ab0100000000000000
                   00010067007c005f0300000000000000007417000000000000000000007c
                   02a6010000ab010000000000000000010064005300
-                49           0 RESUME                   0
+                50           0 RESUME                   0
                
-                50           2 LOAD_GLOBAL              1 (NULL + attach)
+                51           2 LOAD_GLOBAL              1 (NULL + attach)
                             14 LOAD_GLOBAL              3 (NULL + set_value)
                             26 LOAD_GLOBAL              4 (_SUPPRESS_INSTRUMENTATION_KEY)
                             38 LOAD_CONST               1 (True)
                             40 PRECALL                  2
                             44 CALL                     2
                             54 PRECALL                  1
                             58 CALL                     1
                             68 STORE_FAST               2 (token)
                
-                51          70 LOAD_FAST                0 (self)
+                52          70 LOAD_FAST                0 (self)
                             72 LOAD_ATTR                3 (queue)
                             82 LOAD_METHOD              4 (append)
                            104 LOAD_FAST                1 (span)
                            106 PRECALL                  1
                            110 CALL                     1
                            120 POP_TOP
                
-                52         122 LOAD_GLOBAL             11 (NULL + len)
+                53         122 LOAD_GLOBAL             11 (NULL + len)
                            134 LOAD_FAST                0 (self)
                            136 LOAD_ATTR                3 (queue)
                            146 PRECALL                  1
                            150 CALL                     1
                            160 LOAD_FAST                0 (self)
                            162 LOAD_ATTR                6 (max_queue_size)
                            172 COMPARE_OP               2 (==)
                            178 POP_JUMP_FORWARD_IF_FALSE    68 (to 316)
                
-                53         180 LOAD_FAST                0 (self)
+                54         180 LOAD_FAST                0 (self)
                            182 LOAD_ATTR                7 (futures)
                            192 LOAD_METHOD              4 (append)
                            214 LOAD_FAST                0 (self)
                            216 LOAD_ATTR                8 (pool)
                            226 LOAD_METHOD              9 (apply_async)
                            248 LOAD_FAST                0 (self)
                            250 LOAD_ATTR               10 (_export)
@@ -376,19 +332,19 @@
                            262 LOAD_ATTR                3 (queue)
                            272 PRECALL                  2
                            276 CALL                     2
                            286 PRECALL                  1
                            290 CALL                     1
                            300 POP_TOP
                
-                54         302 BUILD_LIST               0
+                55         302 BUILD_LIST               0
                            304 LOAD_FAST                0 (self)
                            306 STORE_ATTR               3 (queue)
                
-                55     >>  316 LOAD_GLOBAL             23 (NULL + detach)
+                56     >>  316 LOAD_GLOBAL             23 (NULL + detach)
                            328 LOAD_FAST                2 (token)
                            330 PRECALL                  1
                            334 CALL                     1
                            344 POP_TOP
                            346 LOAD_CONST               0 (None)
                            348 RETURN_VALUE
                consts
@@ -396,27 +352,27 @@
                   True
                names      ('attach', 'set_value', '_SUPPRESS_INSTRUMENTATION_KEY', 'queue', 'append', 'len', 'max_queue_size', 'futures', 'pool', 'apply_async', '_export', 'detach')
                varnames   ('self', 'span', 'token')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py'
                name       'on_end'
-               firstlineno 49
+               firstlineno 50
                lnotab 0x0201440134013a017a010e01
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 2
                flags     : 3
                code
                   0x97007c006a000000000000000000a00100000000000000000000000000
                   00000000000000a6000000ab000000000000000000010064005300
-                57           0 RESUME                   0
+                58           0 RESUME                   0
                
-                58           2 LOAD_FAST                0 (self)
+                59           2 LOAD_FAST                0 (self)
                              4 LOAD_ATTR                0 (span_exporter)
                             14 LOAD_METHOD              1 (shutdown)
                             36 PRECALL                  0
                             40 CALL                     0
                             50 POP_TOP
                             52 LOAD_CONST               0 (None)
                             54 RETURN_VALUE
@@ -424,27 +380,27 @@
                   None
                names      ('span_exporter', 'shutdown')
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py'
                name       'shutdown'
-               firstlineno 57
+               firstlineno 58
                lnotab 0x0201
             code
                argcount  : 1
                nlocals   : 2
                stacksize : 3
                flags     : 7
                code
                   0x97007c006a000000000000000000a00100000000000000000000000000
                   000000000000007c01a6010000ab010000000000000000010064005300
-                60           0 RESUME                   0
+                61           0 RESUME                   0
                
-                61           2 LOAD_FAST                0 (self)
+                62           2 LOAD_FAST                0 (self)
                              4 LOAD_ATTR                0 (span_exporter)
                             14 LOAD_METHOD              1 (export)
                             36 LOAD_FAST                1 (seq)
                             38 PRECALL                  1
                             42 CALL                     1
                             52 POP_TOP
                             54 LOAD_CONST               0 (None)
@@ -453,15 +409,15 @@
                   None
                names      ('span_exporter', 'export')
                varnames   ('self', 'seq')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py'
                name       '_export'
-               firstlineno 60
+               firstlineno 61
                lnotab 0x0201
             30000
             'timeout_millis'
             code
                argcount  : 2
                nlocals   : 2
                stacksize : 6
@@ -470,26 +426,26 @@
                   0x97007401000000000000000000007c006a010000000000000000a60100
                   00ab01000000000000000064016b030000000072447c006a020000000000
                   000000a00300000000000000000000000000000000000000007c006a0400
                   00000000000000a00500000000000000000000000000000000000000007c
                   006a0600000000000000007c006a010000000000000000a6020000ab0200
                   00000000000000a6010000ab010000000000000000010067007c005f0100
                   0000000000000064025300
-                63           0 RESUME                   0
+                64           0 RESUME                   0
                
-                64           2 LOAD_GLOBAL              1 (NULL + len)
+                65           2 LOAD_GLOBAL              1 (NULL + len)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (queue)
                             26 PRECALL                  1
                             30 CALL                     1
                             40 LOAD_CONST               1 (0)
                             42 COMPARE_OP               3 (!=)
                             48 POP_JUMP_FORWARD_IF_FALSE    68 (to 186)
                
-                65          50 LOAD_FAST                0 (self)
+                66          50 LOAD_FAST                0 (self)
                             52 LOAD_ATTR                2 (futures)
                             62 LOAD_METHOD              3 (append)
                             84 LOAD_FAST                0 (self)
                             86 LOAD_ATTR                4 (pool)
                             96 LOAD_METHOD              5 (apply_async)
                            118 LOAD_FAST                0 (self)
                            120 LOAD_ATTR                6 (_export)
@@ -497,131 +453,135 @@
                            132 LOAD_ATTR                1 (queue)
                            142 PRECALL                  2
                            146 CALL                     2
                            156 PRECALL                  1
                            160 CALL                     1
                            170 POP_TOP
                
-                66         172 BUILD_LIST               0
+                67         172 BUILD_LIST               0
                            174 LOAD_FAST                0 (self)
                            176 STORE_ATTR               1 (queue)
                
-                68     >>  186 LOAD_CONST               2 (True)
+                69     >>  186 LOAD_CONST               2 (True)
                            188 RETURN_VALUE
                consts
                   None
                   0
                   True
                names      ('len', 'queue', 'futures', 'append', 'pool', 'apply_async', '_export')
                varnames   ('self', 'timeout_millis')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py'
                name       'force_flush'
-               firstlineno 63
+               firstlineno 64
                lnotab 0x020130017a010e02
             code
                argcount  : 1
-               nlocals   : 3
-               stacksize : 5
+               nlocals   : 4
+               stacksize : 4
                flags     : 3
                code
-                  0x970009007c006a00000000000000000044005d287d0174030000000000
-                  00000000006a0200000000000000007c01a0030000000000000000000000
-                  000000000000000000a6000000ab000000000000000000a6010000ab0100
-                  0000000000000001008c296e2b2300740800000000000000000000240072
-                  1e7d027403000000000000000000006a0500000000000000007c02a60100
-                  00ab0100000000000000000100590064007d027e026e0864007d027e0277
-                  01770078035900770167007c005f00000000000000000064005300
-                70           0 RESUME                   0
+                  0x970009007c006a00000000000000000044005d307d017c01a001000000
+                  0000000000000000000000000000000000a6000000ab0000000000000000
+                  007d02740400000000000000000000a00300000000000000000000000000
+                  000000000000007c02a6010000ab01000000000000000001008c316e3123
+                  00740800000000000000000000240072247d037404000000000000000000
+                  00a00500000000000000000000000000000000000000007c03a6010000ab
+                  0100000000000000000100590064007d037e036e0864007d037e03770177
+                  0078035900770167007c005f00000000000000000064005300
+                71           0 RESUME                   0
                
-                71           2 NOP
+                72           2 NOP
                
-                72           4 LOAD_FAST                0 (self)
+                73           4 LOAD_FAST                0 (self)
                              6 LOAD_ATTR                0 (futures)
                             16 GET_ITER
-                       >>   18 FOR_ITER                40 (to 100)
+                       >>   18 FOR_ITER                48 (to 116)
                             20 STORE_FAST               1 (future)
                
-                73          22 LOAD_GLOBAL              3 (NULL + logging)
-                            34 LOAD_ATTR                2 (info)
-                            44 LOAD_FAST                1 (future)
-                            46 LOAD_METHOD              3 (get)
-                            68 PRECALL                  0
-                            72 CALL                     0
-                            82 PRECALL                  1
-                            86 CALL                     1
-                            96 POP_TOP
-                            98 JUMP_BACKWARD           41 (to 18)
-               
-                72     >>  100 JUMP_FORWARD            43 (to 188)
-                       >>  102 PUSH_EXC_INFO
-               
-                74         104 LOAD_GLOBAL              8 (Exception)
-                           116 CHECK_EXC_MATCH
-                           118 POP_JUMP_FORWARD_IF_FALSE    30 (to 180)
-                           120 STORE_FAST               2 (e)
-               
-                75         122 LOAD_GLOBAL              3 (NULL + logging)
-                           134 LOAD_ATTR                5 (error)
-                           144 LOAD_FAST                2 (e)
-                           146 PRECALL                  1
-                           150 CALL                     1
-                           160 POP_TOP
-                           162 POP_EXCEPT
-                           164 LOAD_CONST               0 (None)
-                           166 STORE_FAST               2 (e)
-                           168 DELETE_FAST              2 (e)
-                           170 JUMP_FORWARD             8 (to 188)
-                       >>  172 LOAD_CONST               0 (None)
-                           174 STORE_FAST               2 (e)
-                           176 DELETE_FAST              2 (e)
-                           178 RERAISE                  1
-               
-                74     >>  180 RERAISE                  0
-                       >>  182 COPY                     3
-                           184 POP_EXCEPT
-                           186 RERAISE                  1
-               
-                77     >>  188 BUILD_LIST               0
-                           190 LOAD_FAST                0 (self)
-                           192 STORE_ATTR               0 (futures)
-                           202 LOAD_CONST               0 (None)
-                           204 RETURN_VALUE
+                74          22 LOAD_FAST                1 (future)
+                            24 LOAD_METHOD              1 (get)
+                            46 PRECALL                  0
+                            50 CALL                     0
+                            60 STORE_FAST               2 (res)
+               
+                75          62 LOAD_GLOBAL              4 (logger)
+                            74 LOAD_METHOD              3 (info)
+                            96 LOAD_FAST                2 (res)
+                            98 PRECALL                  1
+                           102 CALL                     1
+                           112 POP_TOP
+                           114 JUMP_BACKWARD           49 (to 18)
+               
+                73     >>  116 JUMP_FORWARD            49 (to 216)
+                       >>  118 PUSH_EXC_INFO
+               
+                76         120 LOAD_GLOBAL              8 (Exception)
+                           132 CHECK_EXC_MATCH
+                           134 POP_JUMP_FORWARD_IF_FALSE    36 (to 208)
+                           136 STORE_FAST               3 (e)
+               
+                77         138 LOAD_GLOBAL              4 (logger)
+                           150 LOAD_METHOD              5 (error)
+                           172 LOAD_FAST                3 (e)
+                           174 PRECALL                  1
+                           178 CALL                     1
+                           188 POP_TOP
+                           190 POP_EXCEPT
+                           192 LOAD_CONST               0 (None)
+                           194 STORE_FAST               3 (e)
+                           196 DELETE_FAST              3 (e)
+                           198 JUMP_FORWARD             8 (to 216)
+                       >>  200 LOAD_CONST               0 (None)
+                           202 STORE_FAST               3 (e)
+                           204 DELETE_FAST              3 (e)
+                           206 RERAISE                  1
+               
+                76     >>  208 RERAISE                  0
+                       >>  210 COPY                     3
+                           212 POP_EXCEPT
+                           214 RERAISE                  1
+               
+                79     >>  216 BUILD_LIST               0
+                           218 LOAD_FAST                0 (self)
+                           220 STORE_ATTR               0 (futures)
+                           230 LOAD_CONST               0 (None)
+                           232 RETURN_VALUE
                ExceptionTable:
-                 4 to 98 -> 102 [0]
-                 102 to 120 -> 182 [1] lasti
-                 122 to 160 -> 172 [1] lasti
-                 172 to 180 -> 182 [1] lasti
+                 4 to 114 -> 118 [0]
+                 118 to 136 -> 210 [1] lasti
+                 138 to 188 -> 200 [1] lasti
+                 200 to 208 -> 210 [1] lasti
                consts
                   None
-               names      ('futures', 'logging', 'info', 'get', 'Exception', 'error')
-               varnames   ('self', 'future', 'e')
+               names      ('futures', 'get', 'logger', 'info', 'Exception', 'error')
+               varnames   ('self', 'future', 'res', 'e')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py'
                name       'wait_for_flush'
-               firstlineno 70
-               lnotab 0x0201020112014eff040212013aff0803
+               firstlineno 71
+               lnotab 0x020102011201280136fe0403120146ff0803
             (10, 4, 10)
             (None,)
             ('return', None)
             (30000,)
          names      ('__name__', '__module__', '__qualname__', '__doc__', 'SpanExporter', '__init__', 'Span', 'typing', 'Optional', 'Context', 'on_start', 'ReadableSpan', 'on_end', 'shutdown', '_export', 'int', 'bool', 'force_flush', 'wait_for_flush')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py'
          name       'ThreadPoolSpanProcessor'
-         firstlineno 18
+         firstlineno 19
          lnotab
-            0x0a0104090201020102fb040202fe081402fd040202fe020318fd020402
+            0x0a01040d0201020102fb040202fe081002fd040202fe020318fd020402
             fc08071008080306031207
       'ThreadPoolSpanProcessor'
-   names      ('logging', 'typing', 'opentelemetry.sdk.trace', 'SpanProcessor', 'ReadableSpan', 'Span', 'opentelemetry.sdk.trace.export', 'SpanExporter', 'opentelemetry.context', '_SUPPRESS_INSTRUMENTATION_KEY', 'Context', 'attach', 'detach', 'set_value', 'collections', 'deque', 'multiprocessing.dummy', 'Pool', 'atexit', 'ThreadPoolSpanProcessor')
+   names      ('logging', 'typing', 'opentelemetry.sdk.trace', 'SpanProcessor', 'ReadableSpan', 'Span', 'opentelemetry.sdk.trace.export', 'SpanExporter', 'opentelemetry.context', '_SUPPRESS_INSTRUMENTATION_KEY', 'Context', 'attach', 'detach', 'set_value', 'collections', 'deque', 'multiprocessing.dummy', 'Pool', 'getLogger', '__name__', 'logger', 'ThreadPoolSpanProcessor')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010801080214010c011c070c010c010803
+   lnotab 0x00ff02010801080214010c011c070c010c022003
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/span_processors/thread_pool_span_processor.py`

 * *Files 22% similar despite different names*

```diff
@@ -8,40 +8,41 @@
     Context,
     attach,
     detach,
     set_value,
 )
 from collections import deque
 from multiprocessing.dummy import Pool
-import atexit
+
+logger = logging.getLogger(__name__)
 
 
 class ThreadPoolSpanProcessor(SpanProcessor):
-    """InMemory SpanProcessor implementation.
+    """ThreaPoolSpanProcessor implementation.
+
+    ThreadPoolSpanProcessor is an implementation of `SpanProcessor` that
+    send and forget remote request using threadpool instead of long-running thread.
 
-    InMemorySpanProcessor is an implementation of `SpanProcessor` that
-    send remote request using threadpool instead of long-running thread.
+    Replace BatchSpanProcessor with this in serverless environment if the long-running
+    thread do not consistently send telemetry data and you cannot use SimpleSpanProcessor
+    as it increase the latency of you application.
     """
 
     def __init__(
         self,
         span_exporter: SpanExporter,
         max_queue_size=10,
         pool_size=4,
         pool_queue_size=10
     ):
         self.pool = Pool(pool_size)
         self.max_queue_size = max_queue_size
         self.futures = deque([], pool_queue_size)
         self.span_exporter = span_exporter
         self.queue = []
-        try:
-            atexit.register(self.wait_for_flush)
-        except Exception as e:
-            logging.warn(e)
 
     def on_start(
         self,
         span: Span,
         parent_context: typing.Optional[Context] = None
     ) -> None:
         pass
@@ -66,12 +67,13 @@
             self.queue = []
         # pylint: disable=unused-argument
         return True
 
     def wait_for_flush(self):
         try:
             for future in self.futures:
-                logging.info(future.get())
+                res = future.get()
+                logger.info(res)
         except Exception as e:
-            logging.error(e)
+            logger.error(e)
 
         self.futures = []
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/__pycache__/config.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/__pycache__/config.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/__pycache__/json.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/__pycache__/json.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/config.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/config.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_exporter/json.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_exporter/json.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_sampler/__pycache__/no_sampler.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_sampler/__pycache__/no_sampler.cpython-311.pyc`

 * *Files 19% similar despite different names*

#### Python bytecode

```diff
@@ -1,10 +1,10 @@
 magic:    0xa70d0d0a
-moddate:  0x02ca5666 (Wed May 29 06:24:02 2024 UTC)
-files sz: 757
+moddate:  0x3a955b66 (Sat Jun  1 21:40:10 2024 UTC)
+files sz: 862
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 5
    flags     : 0
    code
       0x9700640064016c006d015a010100640064026c026d035a036d045a046d
@@ -66,93 +66,93 @@
             055a07640965086602640c84045a0964035300
            6           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('NoSampler')
                        8 STORE_NAME               2 (__qualname__)
          
-           7          10 LOAD_CONST               1 ('Alway trace span')
+           7          10 LOAD_CONST               1 ('\n    Alway trace span.\n    Using this Sampler to consistently sending trace to Agiflow\n    to collect user feedback.\n    ')
                       12 STORE_NAME               3 (__doc__)
          
-           9          14 LOAD_CONST               2 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/trace_sampler/no_sampler.py", line 9>)
+          13          14 LOAD_CONST               2 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/trace_sampler/no_sampler.py", line 13>)
                       16 MAKE_FUNCTION            0
                       18 STORE_NAME               4 (__init__)
          
-          17          20 NOP
+          21          20 NOP
          
-          18          22 NOP
+          22          22 NOP
          
-          19          24 NOP
+          23          24 NOP
          
-          20          26 NOP
+          24          26 NOP
          
-          12          28 LOAD_CONST              13 ((None, None, None, None))
+          16          28 LOAD_CONST              13 ((None, None, None, None))
                       30 LOAD_CONST               4 ('parent_context')
          
-          14          32 LOAD_NAME                5 (Any)
+          18          32 LOAD_NAME                5 (Any)
          
-          12          34 LOAD_CONST               5 ('kind')
+          16          34 LOAD_CONST               5 ('kind')
          
-          17          36 LOAD_NAME                5 (Any)
+          21          36 LOAD_NAME                5 (Any)
          
-          12          38 LOAD_CONST               6 ('attributes')
+          16          38 LOAD_CONST               6 ('attributes')
          
-          18          40 LOAD_NAME                6 (Attributes)
+          22          40 LOAD_NAME                6 (Attributes)
          
-          12          42 LOAD_CONST               7 ('links')
+          16          42 LOAD_CONST               7 ('links')
          
-          19          44 LOAD_NAME                5 (Any)
+          23          44 LOAD_NAME                5 (Any)
          
-          12          46 LOAD_CONST               8 ('trace_state')
+          16          46 LOAD_CONST               8 ('trace_state')
          
-          20          48 LOAD_NAME                5 (Any)
+          24          48 LOAD_NAME                5 (Any)
          
-          12          50 LOAD_CONST               9 ('return')
+          16          50 LOAD_CONST               9 ('return')
          
-          21          52 LOAD_CONST              10 ('SamplingResult')
+          25          52 LOAD_CONST              10 ('SamplingResult')
          
-          12          54 BUILD_TUPLE             12
-                      56 LOAD_CONST              11 (<code object should_sample, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/trace_sampler/no_sampler.py", line 12>)
+          16          54 BUILD_TUPLE             12
+                      56 LOAD_CONST              11 (<code object should_sample, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/trace_sampler/no_sampler.py", line 16>)
                       58 MAKE_FUNCTION            5 (defaults, annotations)
                       60 STORE_NAME               7 (should_sample)
          
-          28          62 LOAD_CONST               9 ('return')
+          32          62 LOAD_CONST               9 ('return')
                       64 LOAD_NAME                8 (str)
                       66 BUILD_TUPLE              2
-                      68 LOAD_CONST              12 (<code object get_description, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/trace_sampler/no_sampler.py", line 28>)
+                      68 LOAD_CONST              12 (<code object get_description, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/trace_sampler/no_sampler.py", line 32>)
                       70 MAKE_FUNCTION            4 (annotations)
                       72 STORE_NAME               9 (get_description)
                       74 LOAD_CONST               3 (None)
                       76 RETURN_VALUE
          consts
             'NoSampler'
-            'Alway trace span'
+            '\n    Alway trace span.\n    Using this Sampler to consistently sending trace to Agiflow\n    to collect user feedback.\n    '
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 2
                flags     : 3
                code 0x970064017c005f00000000000000000064005300
-                 9           0 RESUME                   0
+                13           0 RESUME                   0
                
-                10           2 LOAD_CONST               1 (1)
+                14           2 LOAD_CONST               1 (1)
                              4 LOAD_FAST                0 (self)
                              6 STORE_ATTR               0 (_decision)
                             16 LOAD_CONST               0 (None)
                             18 RETURN_VALUE
                consts
                   None
                   1
                names      ('_decision',)
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/trace_sampler/no_sampler.py'
                name       '__init__'
-               firstlineno 9
+               firstlineno 13
                lnotab 0x0201
             None
             'parent_context'
             'kind'
             'attributes'
             'links'
             'trace_state'
@@ -163,72 +163,72 @@
                nlocals   : 8
                stacksize : 7
                flags     : 3
                code
                   0x97007401000000000000000000007402000000000000000000006a0200
                   000000000000007c057407000000000000000000007c01a6010000ab0100
                   00000000000000a6030000ab0300000000000000005300
-                12           0 RESUME                   0
+                16           0 RESUME                   0
                
-                22           2 LOAD_GLOBAL              1 (NULL + SamplingResult)
+                26           2 LOAD_GLOBAL              1 (NULL + SamplingResult)
                
-                23          14 LOAD_GLOBAL              2 (Decision)
+                27          14 LOAD_GLOBAL              2 (Decision)
                             26 LOAD_ATTR                2 (RECORD_ONLY)
                
-                24          36 LOAD_FAST                5 (attributes)
+                28          36 LOAD_FAST                5 (attributes)
                
-                25          38 LOAD_GLOBAL              7 (NULL + _get_parent_trace_state)
+                29          38 LOAD_GLOBAL              7 (NULL + _get_parent_trace_state)
                             50 LOAD_FAST                1 (parent_context)
                             52 PRECALL                  1
                             56 CALL                     1
                
-                22          66 PRECALL                  3
+                26          66 PRECALL                  3
                             70 CALL                     3
                             80 RETURN_VALUE
                consts
                   None
                names      ('SamplingResult', 'Decision', 'RECORD_ONLY', '_get_parent_trace_state')
                varnames   ('self', 'parent_context', 'trace_id', 'name', 'kind', 'attributes', 'links', 'trace_state')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/trace_sampler/no_sampler.py'
                name       'should_sample'
-               firstlineno 12
+               firstlineno 16
                lnotab 0x020a0c01160102011cfd
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 1
                flags     : 3
                code 0x970064015300
-                28           0 RESUME                   0
+                32           0 RESUME                   0
                
-                29           2 LOAD_CONST               1 ('AlwaysOnSampler')
+                33           2 LOAD_CONST               1 ('AlwaysOnSampler')
                              4 RETURN_VALUE
                consts
                   None
                   'AlwaysOnSampler'
                names      ()
                varnames   ('self',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/trace_sampler/no_sampler.py'
                name       'get_description'
-               firstlineno 28
+               firstlineno 32
                lnotab 0x0201
             (None, None, None, None)
          names      ('__name__', '__module__', '__qualname__', '__doc__', '__init__', 'Any', 'Attributes', 'should_sample', 'str', 'get_description')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/trace_sampler/no_sampler.py'
          name       'NoSampler'
          firstlineno 6
          lnotab
-            0x0a010402060802010201020102f8040202fe020502fb020602fa020702
+            0x0a010406060802010201020102f8040202fe020502fb020602fa020702
             f9020802f8020902f70810
       'NoSampler'
       None
    names      ('typing', 'Any', 'opentelemetry.sdk.trace.sampling', 'Sampler', 'SamplingResult', 'Decision', '_get_parent_trace_state', 'opentelemetry.util.types', 'Attributes', 'NoSampler')
    varnames   ()
    freevars   ()
    cellvars   ()
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_sampler/no_sampler.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_sampler/no_sampler.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,14 +1,18 @@
 from typing import Any
 from opentelemetry.sdk.trace.sampling import Sampler, SamplingResult, Decision, _get_parent_trace_state
 from opentelemetry.util.types import Attributes
 
 
 class NoSampler(Sampler):
-    """Alway trace span"""
+    """
+    Alway trace span.
+    Using this Sampler to consistently sending trace to Agiflow
+    to collect user feedback.
+    """
 
     def __init__(self):
         self._decision = 1
 
     def should_sample(
         self,
         parent_context: Any,
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/trace_store.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/trace_store.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/content_alow_list.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/content_alow_list.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/context.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/context.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/context_manager.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/context_manager.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/context_propagation.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/context_propagation.cpython-311.pyc`

 * *Files 16% similar despite different names*

#### Python bytecode

```diff
@@ -1,18 +1,18 @@
 magic:    0xa70d0d0a
-moddate:  0x02ca5666 (Wed May 29 06:24:02 2024 UTC)
-files sz: 643
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
+files sz: 791
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 2
    flags     : 0
    code
       0x9700640064016c006d015a010100640064026c026d035a036d045a0401
-      00640384005a05640484005a0664055300
+      00640064036c056d065a060100640484005a07640584005a0864065300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 (0)
                  4 LOAD_CONST               1 (('TraceContextTextMapPropagator',))
                  6 IMPORT_NAME              0 (opentelemetry.trace.propagation.tracecontext)
                  8 IMPORT_FROM              1 (TraceContextTextMapPropagator)
                 10 STORE_NAME               1 (TraceContextTextMapPropagator)
@@ -23,139 +23,156 @@
                 18 IMPORT_NAME              2 (opentelemetry.context)
                 20 IMPORT_FROM              3 (get_current)
                 22 STORE_NAME               3 (get_current)
                 24 IMPORT_FROM              4 (set_value)
                 26 STORE_NAME               4 (set_value)
                 28 POP_TOP
    
-     5          30 LOAD_CONST               3 (<code object get_carrier_from_trace_context, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/tracing/context_propagation.py", line 5>)
-                32 MAKE_FUNCTION            0
-                34 STORE_NAME               5 (get_carrier_from_trace_context)
+     3          30 LOAD_CONST               0 (0)
+                32 LOAD_CONST               3 (('ContextKeys',))
+                34 IMPORT_NAME              5 (agiflow.opentelemetry.tracing.context)
+                36 IMPORT_FROM              6 (ContextKeys)
+                38 STORE_NAME               6 (ContextKeys)
+                40 POP_TOP
    
-    13          36 LOAD_CONST               4 (<code object get_trace_context_from_carrier, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/tracing/context_propagation.py", line 13>)
-                38 MAKE_FUNCTION            0
-                40 STORE_NAME               6 (get_trace_context_from_carrier)
-                42 LOAD_CONST               5 (None)
-                44 RETURN_VALUE
+     6          42 LOAD_CONST               4 (<code object get_carrier_from_trace_context, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/tracing/context_propagation.py", line 6>)
+                44 MAKE_FUNCTION            0
+                46 STORE_NAME               7 (get_carrier_from_trace_context)
+   
+    14          48 LOAD_CONST               5 (<code object get_trace_context_from_carrier, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/tracing/context_propagation.py", line 14>)
+                50 MAKE_FUNCTION            0
+                52 STORE_NAME               8 (get_trace_context_from_carrier)
+                54 LOAD_CONST               6 (None)
+                56 RETURN_VALUE
    consts
       0
       ('TraceContextTextMapPropagator',)
       ('get_current', 'set_value')
+      ('ContextKeys',)
       code
          argcount  : 0
          nlocals   : 2
          stacksize : 4
          flags     : 3
          code
             0x970069007d00740100000000000000000000a6000000ab000000000000
             0000007d01740300000000000000000000a6000000ab0000000000000000
             00a00200000000000000000000000000000000000000007c00a6010000ab
             01000000000000000001007c01a003000000000000000000000000000000
-            000000000064016900a6020000ab0200000000000000007c0064013c0000
-            007c005300
-           5           0 RESUME                   0
+            00000000007408000000000000000000006a0500000000000000006900a6
+            020000ab0200000000000000007c007408000000000000000000006a0500
+            000000000000003c0000007c005300
+           6           0 RESUME                   0
          
-           6           2 BUILD_MAP                0
+           7           2 BUILD_MAP                0
                        4 STORE_FAST               0 (carrier)
          
-           7           6 LOAD_GLOBAL              1 (NULL + get_current)
+           8           6 LOAD_GLOBAL              1 (NULL + get_current)
                       18 PRECALL                  0
                       22 CALL                     0
                       32 STORE_FAST               1 (context)
          
-           8          34 LOAD_GLOBAL              3 (NULL + TraceContextTextMapPropagator)
+           9          34 LOAD_GLOBAL              3 (NULL + TraceContextTextMapPropagator)
                       46 PRECALL                  0
                       50 CALL                     0
                       60 LOAD_METHOD              2 (inject)
                       82 LOAD_FAST                0 (carrier)
                       84 PRECALL                  1
                       88 CALL                     1
                       98 POP_TOP
          
-           9         100 LOAD_FAST                1 (context)
+          10         100 LOAD_FAST                1 (context)
                      102 LOAD_METHOD              3 (get)
-                     124 LOAD_CONST               1 ('association_properties')
-                     126 BUILD_MAP                0
-                     128 PRECALL                  2
-                     132 CALL                     2
-                     142 LOAD_FAST                0 (carrier)
-                     144 LOAD_CONST               1 ('association_properties')
-                     146 STORE_SUBSCR
+                     124 LOAD_GLOBAL              8 (ContextKeys)
+                     136 LOAD_ATTR                5 (ASSOCIATION_PROPERTIES)
+                     146 BUILD_MAP                0
+                     148 PRECALL                  2
+                     152 CALL                     2
+                     162 LOAD_FAST                0 (carrier)
+                     164 LOAD_GLOBAL              8 (ContextKeys)
+                     176 LOAD_ATTR                5 (ASSOCIATION_PROPERTIES)
+                     186 STORE_SUBSCR
          
-          10         150 LOAD_FAST                0 (carrier)
-                     152 RETURN_VALUE
+          11         190 LOAD_FAST                0 (carrier)
+                     192 RETURN_VALUE
          consts
             None
-            'association_properties'
-         names      ('get_current', 'TraceContextTextMapPropagator', 'inject', 'get')
+         names      ('get_current', 'TraceContextTextMapPropagator', 'inject', 'get', 'ContextKeys', 'ASSOCIATION_PROPERTIES')
          varnames   ('carrier', 'context')
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/tracing/context_propagation.py'
          name       'get_carrier_from_trace_context'
-         firstlineno 5
-         lnotab 0x020104011c0142013201
+         firstlineno 6
+         lnotab 0x020104011c0142015a01
       code
          argcount  : 1
          nlocals   : 2
          stacksize : 6
          flags     : 3
          code
             0x9700740100000000000000000000a6000000ab000000000000000000a0
             0100000000000000000000000000000000000000007c00a6010000ab0100
-            000000000000007d017c00a0020000000000000000000000000000000000
-            0000006401a6010000ab0100000000000000007224740700000000000000
-            00000064017c00a002000000000000000000000000000000000000000064
-            01a6010000ab0100000000000000007c01a6030000ab0300000000000000
-            007d017c015300
-          13           0 RESUME                   0
+            000000000000007d017c0081577c00a00200000000000000000000000000
+            000000000000007406000000000000000000006a040000000000000000a6
+            010000ab0100000000000000007238740b00000000000000000000740600
+            0000000000000000006a0400000000000000007c00a00200000000000000
+            000000000000000000000000007406000000000000000000006a04000000
+            0000000000a6010000ab0100000000000000007c01a6030000ab03000000
+            00000000007d017c015300
+          14           0 RESUME                   0
          
-          14           2 LOAD_GLOBAL              1 (NULL + TraceContextTextMapPropagator)
+          15           2 LOAD_GLOBAL              1 (NULL + TraceContextTextMapPropagator)
                       14 PRECALL                  0
                       18 CALL                     0
                       28 LOAD_METHOD              1 (extract)
                       50 LOAD_FAST                0 (carrier)
                       52 PRECALL                  1
                       56 CALL                     1
                       66 STORE_FAST               1 (ctx)
          
-          15          68 LOAD_FAST                0 (carrier)
-                      70 LOAD_METHOD              2 (get)
-                      92 LOAD_CONST               1 ('association_properties')
-                      94 PRECALL                  1
-                      98 CALL                     1
-                     108 POP_JUMP_FORWARD_IF_FALSE    36 (to 182)
-         
-          16         110 LOAD_GLOBAL              7 (NULL + set_value)
-                     122 LOAD_CONST               1 ('association_properties')
-                     124 LOAD_FAST                0 (carrier)
-                     126 LOAD_METHOD              2 (get)
-                     148 LOAD_CONST               1 ('association_properties')
-                     150 PRECALL                  1
-                     154 CALL                     1
-                     164 LOAD_FAST                1 (ctx)
-                     166 PRECALL                  3
-                     170 CALL                     3
-                     180 STORE_FAST               1 (ctx)
+          16          68 LOAD_FAST                0 (carrier)
+                      70 POP_JUMP_FORWARD_IF_NONE    87 (to 246)
+         
+          17          72 LOAD_FAST                0 (carrier)
+                      74 LOAD_METHOD              2 (get)
+                      96 LOAD_GLOBAL              6 (ContextKeys)
+                     108 LOAD_ATTR                4 (ASSOCIATION_PROPERTIES)
+                     118 PRECALL                  1
+                     122 CALL                     1
+                     132 POP_JUMP_FORWARD_IF_FALSE    56 (to 246)
+         
+          18         134 LOAD_GLOBAL             11 (NULL + set_value)
+                     146 LOAD_GLOBAL              6 (ContextKeys)
+                     158 LOAD_ATTR                4 (ASSOCIATION_PROPERTIES)
+                     168 LOAD_FAST                0 (carrier)
+                     170 LOAD_METHOD              2 (get)
+                     192 LOAD_GLOBAL              6 (ContextKeys)
+                     204 LOAD_ATTR                4 (ASSOCIATION_PROPERTIES)
+                     214 PRECALL                  1
+                     218 CALL                     1
+                     228 LOAD_FAST                1 (ctx)
+                     230 PRECALL                  3
+                     234 CALL                     3
+                     244 STORE_FAST               1 (ctx)
          
-          17     >>  182 LOAD_FAST                1 (ctx)
-                     184 RETURN_VALUE
+          19     >>  246 LOAD_FAST                1 (ctx)
+                     248 RETURN_VALUE
          consts
             None
-            'association_properties'
-         names      ('TraceContextTextMapPropagator', 'extract', 'get', 'set_value')
+         names      ('TraceContextTextMapPropagator', 'extract', 'get', 'ContextKeys', 'ASSOCIATION_PROPERTIES', 'set_value')
          varnames   ('carrier', 'ctx')
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/tracing/context_propagation.py'
          name       'get_trace_context_from_carrier'
-         firstlineno 13
-         lnotab 0x020142012a014801
+         firstlineno 14
+         lnotab 0x0201420104013e017001
       None
-   names      ('opentelemetry.trace.propagation.tracecontext', 'TraceContextTextMapPropagator', 'opentelemetry.context', 'get_current', 'set_value', 'get_carrier_from_trace_context', 'get_trace_context_from_carrier')
+   names      ('opentelemetry.trace.propagation.tracecontext', 'TraceContextTextMapPropagator', 'opentelemetry.context', 'get_current', 'set_value', 'agiflow.opentelemetry.tracing.context', 'ContextKeys', 'get_carrier_from_trace_context', 'get_trace_context_from_carrier')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/tracing/context_propagation.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff02010c0110030608
+   lnotab 0x00ff02010c0110010c030608
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/__pycache__/span_from_context.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/__pycache__/span_from_context.cpython-311.pyc`

 * *Files 1% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0x262d5966 (Fri May 31 01:51:34 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 1723
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 4
    flags     : 0
    code
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/tracing/content_alow_list.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/content_allow_list.py`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/types/__init__.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/types/__init__.py`

 * *Files 2% similar despite different names*

```diff
@@ -11,14 +11,15 @@
     LLAMAINDEX = "llamaindex"
     CHROMADB = "chromadb"
     QDRANT = "qdrant"
     LANGCHAIN = "langchain"
     LANGCHAIN_CORE = "langchain_core"
     LANGCHAIN_COMMUNITY = "langchain_community"
     LANGGRAPH = "langgraph"
+    WEAVIATE = "weaviate"
 
     @staticmethod
     def from_string(value: str):
         try:
             return InstrumentationType[value.upper()]
         except KeyError:
             raise ValueError(f"Invalid value for InstrumentationType: {value}")
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/types/__pycache__/__init__.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/types/__pycache__/__init__.cpython-311.pyc`

 * *Files 18% similar despite different names*

#### Python bytecode

```diff
@@ -1,10 +1,10 @@
 magic:    0xa70d0d0a
-moddate:  0x02ca5666 (Wed May 29 06:24:02 2024 UTC)
-files sz: 787
+moddate:  0xb8e45a66 (Sat Jun  1 09:07:04 2024 UTC)
+files sz: 813
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 6
    flags     : 0
    code
       0x9700640064016c006d015a016d025a020100640064026c036d045a0401
@@ -35,17 +35,17 @@
                 36 MAKE_FUNCTION            0
                 38 LOAD_CONST               4 ('InstrumentationType')
                 40 LOAD_NAME                4 (Enum)
                 42 PRECALL                  3
                 46 CALL                     3
                 56 STORE_NAME               5 (InstrumentationType)
    
-    27          58 PUSH_NULL
+    28          58 PUSH_NULL
                 60 LOAD_BUILD_CLASS
-                62 LOAD_CONST               5 (<code object DisableInstrumentations, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/types/__init__.py", line 27>)
+                62 LOAD_CONST               5 (<code object DisableInstrumentations, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/types/__init__.py", line 28>)
                 64 MAKE_FUNCTION            0
                 66 LOAD_CONST               6 ('DisableInstrumentations')
                 68 LOAD_NAME                2 (TypedDict)
                 70 LOAD_CONST               7 (False)
                 72 KW_NAMES                 8
                 74 PRECALL                  4
                 78 CALL                     4
@@ -59,17 +59,17 @@
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 3
          flags     : 0
          code
             0x970065005a0164005a0264015a0364025a0464035a0564045a0664055a
-            0764065a0864075a0964085a0a64095a0b640a5a0c640b5a0d640c5a0e65
-            0f640d65106602640e8404a6000000ab0000000000000000005a11640f53
-            00
+            0764065a0864075a0964085a0a64095a0b640a5a0c640b5a0d640c5a0e64
+            0d5a0f6510640e65116602640f8404a6000000ab0000000000000000005a
+            1264105300
            5           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('InstrumentationType')
                        8 STORE_NAME               2 (__qualname__)
          
            6          10 LOAD_CONST               1 ('openai')
@@ -104,82 +104,86 @@
          
           16          50 LOAD_CONST              11 ('langchain_community')
                       52 STORE_NAME              13 (LANGCHAIN_COMMUNITY)
          
           17          54 LOAD_CONST              12 ('langgraph')
                       56 STORE_NAME              14 (LANGGRAPH)
          
-          19          58 LOAD_NAME               15 (staticmethod)
+          18          58 LOAD_CONST              13 ('weaviate')
+                      60 STORE_NAME              15 (WEAVIATE)
+         
+          20          62 LOAD_NAME               16 (staticmethod)
          
-          20          60 LOAD_CONST              13 ('value')
-                      62 LOAD_NAME               16 (str)
-                      64 BUILD_TUPLE              2
-                      66 LOAD_CONST              14 (<code object from_string, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/types/__init__.py", line 19>)
-                      68 MAKE_FUNCTION            4 (annotations)
-         
-          19          70 PRECALL                  0
-                      74 CALL                     0
-         
-          20          84 STORE_NAME              17 (from_string)
-                      86 LOAD_CONST              15 (None)
-                      88 RETURN_VALUE
+          21          64 LOAD_CONST              14 ('value')
+                      66 LOAD_NAME               17 (str)
+                      68 BUILD_TUPLE              2
+                      70 LOAD_CONST              15 (<code object from_string, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/types/__init__.py", line 20>)
+                      72 MAKE_FUNCTION            4 (annotations)
+         
+          20          74 PRECALL                  0
+                      78 CALL                     0
+         
+          21          88 STORE_NAME              18 (from_string)
+                      90 LOAD_CONST              16 (None)
+                      92 RETURN_VALUE
          consts
             'InstrumentationType'
             'openai'
             'cohere'
             'anthropic'
             'groq'
             'pinecone'
             'llamaindex'
             'chromadb'
             'qdrant'
             'langchain'
             'langchain_core'
             'langchain_community'
             'langgraph'
+            'weaviate'
             'value'
             code
                argcount  : 1
                nlocals   : 1
                stacksize : 5
                flags     : 3
                code
                   0x970009007400000000000000000000007c00a001000000000000000000
                   0000000000000000000000a6000000ab0000000000000000001900000000
                   000000000053002300740400000000000000000000240072130100740700
                   00000000000000000064017c009b009d02a6010000ab0100000000000000
                   0082017700780359007701
-                19           0 RESUME                   0
+                20           0 RESUME                   0
                
-                21           2 NOP
+                22           2 NOP
                
-                22           4 LOAD_GLOBAL              0 (InstrumentationType)
+                23           4 LOAD_GLOBAL              0 (InstrumentationType)
                             16 LOAD_FAST                0 (value)
                             18 LOAD_METHOD              1 (upper)
                             40 PRECALL                  0
                             44 CALL                     0
                             54 BINARY_SUBSCR
                             64 RETURN_VALUE
                        >>   66 PUSH_EXC_INFO
                
-                23          68 LOAD_GLOBAL              4 (KeyError)
+                24          68 LOAD_GLOBAL              4 (KeyError)
                             80 CHECK_EXC_MATCH
                             82 POP_JUMP_FORWARD_IF_FALSE    19 (to 122)
                             84 POP_TOP
                
-                24          86 LOAD_GLOBAL              7 (NULL + ValueError)
+                25          86 LOAD_GLOBAL              7 (NULL + ValueError)
                             98 LOAD_CONST               1 ('Invalid value for InstrumentationType: ')
                            100 LOAD_FAST                0 (value)
                            102 FORMAT_VALUE             0
                            104 BUILD_STRING             2
                            106 PRECALL                  1
                            110 CALL                     1
                            120 RAISE_VARARGS            1
                
-                23     >>  122 RERAISE                  0
+                24     >>  122 RERAISE                  0
                        >>  124 COPY                     3
                            126 POP_EXCEPT
                            128 RERAISE                  1
                ExceptionTable:
                  4 to 62 -> 66 [0]
                  66 to 122 -> 124 [1] lasti
                consts
@@ -187,52 +191,52 @@
                   'Invalid value for InstrumentationType: '
                names      ('InstrumentationType', 'upper', 'KeyError', 'ValueError')
                varnames   ('value',)
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/types/__init__.py'
                name       'from_string'
-               firstlineno 19
+               firstlineno 20
                lnotab 0x020202014001120124ff
             None
-         names      ('__name__', '__module__', '__qualname__', 'OPENAI', 'COHERE', 'ANTHROPIC', 'GROQ', 'PINECONE', 'LLAMAINDEX', 'CHROMADB', 'QDRANT', 'LANGCHAIN', 'LANGCHAIN_CORE', 'LANGCHAIN_COMMUNITY', 'LANGGRAPH', 'staticmethod', 'str', 'from_string')
+         names      ('__name__', '__module__', '__qualname__', 'OPENAI', 'COHERE', 'ANTHROPIC', 'GROQ', 'PINECONE', 'LLAMAINDEX', 'CHROMADB', 'QDRANT', 'LANGCHAIN', 'LANGCHAIN_CORE', 'LANGCHAIN_COMMUNITY', 'LANGGRAPH', 'WEAVIATE', 'staticmethod', 'str', 'from_string')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/types/__init__.py'
          name       'InstrumentationType'
          firstlineno 5
          lnotab
-            0x0a0104010401040104010401040104010401040104010401040202010a
-            ff0e01
+            0x0a01040104010401040104010401040104010401040104010401040202
+            010aff0e01
       'InstrumentationType'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 3
          flags     : 0
          code
             0x970065005a0164005a0255006503650419000000000000000000650564
             013c0000006503650419000000000000000000650564023c000000640353
             00
-          27           0 RESUME                   0
+          28           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('DisableInstrumentations')
                        8 STORE_NAME               2 (__qualname__)
                       10 SETUP_ANNOTATIONS
          
-          28          12 LOAD_NAME                3 (List)
+          29          12 LOAD_NAME                3 (List)
                       14 LOAD_NAME                4 (InstrumentationType)
                       16 BINARY_SUBSCR
                       26 LOAD_NAME                5 (__annotations__)
                       28 LOAD_CONST               1 ('all_except')
                       30 STORE_SUBSCR
          
-          29          34 LOAD_NAME                3 (List)
+          30          34 LOAD_NAME                3 (List)
                       36 LOAD_NAME                4 (InstrumentationType)
                       38 BINARY_SUBSCR
                       48 LOAD_NAME                5 (__annotations__)
                       50 LOAD_CONST               2 ('only')
                       52 STORE_SUBSCR
                       56 LOAD_CONST               3 (None)
                       58 RETURN_VALUE
@@ -243,21 +247,21 @@
             None
          names      ('__name__', '__module__', '__qualname__', 'List', 'InstrumentationType', '__annotations__')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/types/__init__.py'
          name       'DisableInstrumentations'
-         firstlineno 27
+         firstlineno 28
          lnotab 0x0c011601
       'DisableInstrumentations'
       False
       ('total',)
       None
    names      ('typing', 'List', 'TypedDict', 'enum', 'Enum', 'InstrumentationType', 'DisableInstrumentations')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/types/__init__.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff020110010c031c16
+   lnotab 0x00ff020110010c031c17
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/utils/.DS_Store` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/tracing/.DS_Store`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/utils/__pycache__/llm.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/utils/__pycache__/llm.cpython-311.pyc`

 * *Files 6% similar despite different names*

#### Python bytecode

```diff
@@ -1,20 +1,20 @@
 magic:    0xa70d0d0a
-moddate:  0x86245866 (Thu May 30 07:02:30 2024 UTC)
-files sz: 2391
+moddate:  0x58e95a66 (Sat Jun  1 09:26:48 2024 UTC)
+files sz: 2240
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 2
    flags     : 0
    code
       0x970064005a00640164026c016d025a020100640164036c036d045a0501
       00640164046c066d075a070100640164056c086d095a090100640164066c
       0a6d0b5a0b0100640784005a0c640884005a0d640984005a0e640a84005a
-      0f640b84005a10640c84005a11640d5300
+      0f640b84005a10640c5300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 ('\nCopyright (c) 2024 Agiflow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n')
                  4 STORE_NAME               0 (__doc__)
    
     17           6 LOAD_CONST               1 (0)
                  8 LOAD_CONST               2 (('get_encoding',))
@@ -63,23 +63,19 @@
                 80 MAKE_FUNCTION            0
                 82 STORE_NAME              14 (calculate_prompt_tokens)
    
     53          84 LOAD_CONST              10 (<code object calculate_price_from_usage, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/utils/llm.py", line 53>)
                 86 MAKE_FUNCTION            0
                 88 STORE_NAME              15 (calculate_price_from_usage)
    
-    65          90 LOAD_CONST              11 (<code object set_span_attributes, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/utils/llm.py", line 65>)
+    65          90 LOAD_CONST              11 (<code object should_send_prompts, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/utils/llm.py", line 65>)
                 92 MAKE_FUNCTION            0
-                94 STORE_NAME              16 (set_span_attributes)
-   
-    72          96 LOAD_CONST              12 (<code object should_send_prompts, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/utils/llm.py", line 72>)
-                98 MAKE_FUNCTION            0
-               100 STORE_NAME              17 (should_send_prompts)
-               102 LOAD_CONST              13 (None)
-               104 RETURN_VALUE
+                94 STORE_NAME              16 (should_send_prompts)
+                96 LOAD_CONST              12 (None)
+                98 RETURN_VALUE
    consts
       '\nCopyright (c) 2024 Agiflow\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n'
       0
       ('get_encoding',)
       ('context',)
       ('is_content_tracing_enabled',)
       ('TIKTOKEN_MODEL_MAPPING',)
@@ -320,65 +316,25 @@
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/utils/llm.py'
          name       'calculate_price_from_usage'
          firstlineno 53
          lnotab 0x020328010402200120ff040202fd0604
       code
-         argcount  : 3
-         nlocals   : 3
-         stacksize : 4
-         flags     : 3
-         code
-            0x97007c02811c7c0264016b030000000072167c00a00000000000000000
-            000000000000000000000000007c017c02a6020000ab0200000000000000
-            00010064005300
-          65           0 RESUME                   0
-         
-          66           2 LOAD_FAST                2 (value)
-                       4 POP_JUMP_FORWARD_IF_NONE    28 (to 62)
-         
-          67           6 LOAD_FAST                2 (value)
-                       8 LOAD_CONST               1 ('')
-                      10 COMPARE_OP               3 (!=)
-                      16 POP_JUMP_FORWARD_IF_FALSE    22 (to 62)
-         
-          68          18 LOAD_FAST                0 (span)
-                      20 LOAD_METHOD              0 (set_attribute)
-                      42 LOAD_FAST                1 (name)
-                      44 LOAD_FAST                2 (value)
-                      46 PRECALL                  2
-                      50 CALL                     2
-                      60 POP_TOP
-         
-          69     >>   62 LOAD_CONST               0 (None)
-                      64 RETURN_VALUE
-         consts
-            None
-            ''
-         names      ('set_attribute',)
-         varnames   ('span', 'name', 'value')
-         freevars   ()
-         cellvars   ()
-         filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/utils/llm.py'
-         name       'set_span_attributes'
-         firstlineno 65
-         lnotab 0x020104010c012c01
-      code
          argcount  : 0
          nlocals   : 0
          stacksize : 3
          flags     : 3
          code
             0x9700740100000000000000000000a6000000ab00000000000000000070
             137403000000000000000000006a0200000000000000006401a6010000ab
             0100000000000000005300
-          72           0 RESUME                   0
+          65           0 RESUME                   0
          
-          73           2 LOAD_GLOBAL              1 (NULL + is_content_tracing_enabled)
+          66           2 LOAD_GLOBAL              1 (NULL + is_content_tracing_enabled)
                       14 PRECALL                  0
                       18 CALL                     0
                       28 JUMP_IF_TRUE_OR_POP     19 (to 68)
                       30 LOAD_GLOBAL              3 (NULL + context_api)
                       42 LOAD_ATTR                2 (get_value)
                       52 LOAD_CONST               1 ('override_enable_content_tracing')
                       54 PRECALL                  1
@@ -389,18 +345,18 @@
             'override_enable_content_tracing'
          names      ('is_content_tracing_enabled', 'context_api', 'get_value')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/utils/llm.py'
          name       'should_send_prompts'
-         firstlineno 72
+         firstlineno 65
          lnotab 0x0201
       None
-   names      ('__doc__', 'tiktoken', 'get_encoding', 'opentelemetry', 'context', 'context_api', 'agiflow.config', 'is_content_tracing_enabled', 'agiflow.opentelemetry.instrumentation.constants.common', 'TIKTOKEN_MODEL_MAPPING', 'agiflow.opentelemetry.instrumentation.constants.openai', 'OPENAI_COST_TABLE', 'estimate_tokens', 'estimate_tokens_using_tiktoken', 'calculate_prompt_tokens', 'calculate_price_from_usage', 'set_span_attributes', 'should_send_prompts')
+   names      ('__doc__', 'tiktoken', 'get_encoding', 'opentelemetry', 'context', 'context_api', 'agiflow.config', 'is_content_tracing_enabled', 'agiflow.opentelemetry.instrumentation.constants.common', 'TIKTOKEN_MODEL_MAPPING', 'agiflow.opentelemetry.instrumentation.constants.openai', 'OPENAI_COST_TABLE', 'estimate_tokens', 'estimate_tokens_using_tiktoken', 'calculate_prompt_tokens', 'calculate_price_from_usage', 'should_send_prompts')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/opentelemetry/utils/llm.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff020104100c020c010c010c010c0306090608060b060c0607
+   lnotab 0x00ff020104100c020c010c010c010c0306090608060b060c
```

### Comparing `agiflow_sdk-0.0.2/agiflow/opentelemetry/utils/llm.py` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/utils/llm.py`

 * *Files 6% similar despite different names*

```diff
@@ -58,16 +58,9 @@
         return (
             cost_table["input"] * usage["prompt_tokens"]
             + cost_table["output"] * usage["completion_tokens"]
         ) / 1000
     return 0
 
 
-def set_span_attributes(span, name, value):
-    if value is not None:
-        if value != "":
-            span.set_attribute(name, value)
-    return
-
-
 def should_send_prompts():
     return is_content_tracing_enabled() or context_api.get_value("override_enable_content_tracing")
```

### Comparing `agiflow_sdk-0.0.2/agiflow/services/__pycache__/fetch.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/services/__pycache__/fetch.cpython-311.pyc`

 * *Files 5% similar despite different names*

#### Python bytecode

```diff
@@ -1,29 +1,30 @@
 magic:    0xa70d0d0a
-moddate:  0x9b045866 (Thu May 30 04:46:19 2024 UTC)
-files sz: 2695
+moddate:  0x83d75b66 (Sun Jun  2 02:22:59 2024 UTC)
+files sz: 2731
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 8
    flags     : 0
    code
       0x9700640064016c005a00640064016c015a01640064016c025a02640064
       026c016d035a036d045a040100640064036c056d065a066d075a076d085a
       086d095a090100640064046c0a6d0b5a0b0100640064056c0c6d0d5a0d01
       00650b6a0e00000000000000005a0f650b6a1000000000000000005a1102
-      004700640684006407a6020000ab0200000000000000005a120200470064
-      08840064096509a6030000ab0300000000000000005a13640a84005a1402
-      00650602006508640b640cac0da6020000ab020000000000000000020065
-      07650fa6010000ab01000000000000000002006513a6000000ab00000000
-      0000000000ac0ea6030000ab030000000000000000640f65156410651566
-      0464118404a6000000ab0000000000000000005a16640f65156410651564
-      126504651565156602190000000000000000006606641384045a17640f65
-      156410651564126504651565156602190000000000000000006606641484
-      045a1864015300
+      0065006a1200000000000000006513a6010000ab0100000000000000005a
+      1402004700640684006407a6020000ab0200000000000000005a15020047
+      006408840064096509a6030000ab0300000000000000005a16640a84005a
+      170200650602006508640b640cac0da6020000ab02000000000000000002
+      006507650fa6010000ab01000000000000000002006516a6000000ab0000
+      00000000000000ac0ea6030000ab030000000000000000640f6518641065
+      18660464118404a6000000ab0000000000000000005a19640f6518641065
+      1864126504651865186602190000000000000000006606641384045a1a64
+      0f6518641065186412650465186518660219000000000000000000660664
+      1484045a1b64015300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 (0)
                  4 LOAD_CONST               1 (None)
                  6 IMPORT_NAME              0 (logging)
                  8 STORE_NAME               0 (logging)
    
@@ -77,107 +78,115 @@
                 92 LOAD_ATTR               14 (AGIFLOW_FETCH_MANAGER_MAX_RETRIES)
                102 STORE_NAME              15 (MAX_RETRIES)
    
     17         104 LOAD_NAME               11 (EnvironmentVars)
                106 LOAD_ATTR               16 (AGIFLOW_FETCH_MANAGER_POLLING_INTERVAL)
                116 STORE_NAME              17 (POLLING_INTERVAL)
    
-    20         118 PUSH_NULL
-               120 LOAD_BUILD_CLASS
-               122 LOAD_CONST               6 (<code object Fetcher, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 20>)
-               124 MAKE_FUNCTION            0
-               126 LOAD_CONST               7 ('Fetcher')
-               128 PRECALL                  2
-               132 CALL                     2
-               142 STORE_NAME              18 (Fetcher)
-   
-    32         144 PUSH_NULL
-               146 LOAD_BUILD_CLASS
-               148 LOAD_CONST               8 (<code object RetryIfServerError, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 32>)
-               150 MAKE_FUNCTION            0
-               152 LOAD_CONST               9 ('RetryIfServerError')
-               154 LOAD_NAME                9 (retry_if_exception)
-               156 PRECALL                  3
-               160 CALL                     3
-               170 STORE_NAME              19 (RetryIfServerError)
-   
-    44         172 LOAD_CONST              10 (<code object check_http_error, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 44>)
-               174 MAKE_FUNCTION            0
-               176 STORE_NAME              20 (check_http_error)
-   
-    50         178 PUSH_NULL
-               180 LOAD_NAME                6 (retry)
-   
-    51         182 PUSH_NULL
-               184 LOAD_NAME                8 (wait_exponential)
-               186 LOAD_CONST              11 (1)
-               188 LOAD_CONST              12 (4)
-               190 KW_NAMES                13
-               192 PRECALL                  2
-               196 CALL                     2
-   
-    52         206 PUSH_NULL
-               208 LOAD_NAME                7 (stop_after_attempt)
-               210 LOAD_NAME               15 (MAX_RETRIES)
-               212 PRECALL                  1
-               216 CALL                     1
-   
-    53         226 PUSH_NULL
-               228 LOAD_NAME               19 (RetryIfServerError)
-               230 PRECALL                  0
-               234 CALL                     0
-   
-    50         244 KW_NAMES                14
-               246 PRECALL                  3
-               250 CALL                     3
-   
-    55         260 LOAD_CONST              15 ('url')
-               262 LOAD_NAME               21 (str)
-               264 LOAD_CONST              16 ('api_key')
-               266 LOAD_NAME               21 (str)
-               268 BUILD_TUPLE              4
-               270 LOAD_CONST              17 (<code object fetch_url, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 50>)
-               272 MAKE_FUNCTION            4 (annotations)
-   
-    50         274 PRECALL                  0
-               278 CALL                     0
-   
-    55         288 STORE_NAME              22 (fetch_url)
-   
-    72         290 LOAD_CONST              15 ('url')
-               292 LOAD_NAME               21 (str)
-               294 LOAD_CONST              16 ('api_key')
-               296 LOAD_NAME               21 (str)
-               298 LOAD_CONST              18 ('body')
-               300 LOAD_NAME                4 (Dict)
-               302 LOAD_NAME               21 (str)
-               304 LOAD_NAME               21 (str)
-               306 BUILD_TUPLE              2
-               308 BINARY_SUBSCR
-               318 BUILD_TUPLE              6
-               320 LOAD_CONST              19 (<code object post_url, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 72>)
-               322 MAKE_FUNCTION            4 (annotations)
-               324 STORE_NAME              23 (post_url)
-   
-    86         326 LOAD_CONST              15 ('url')
-               328 LOAD_NAME               21 (str)
-               330 LOAD_CONST              16 ('api_key')
-               332 LOAD_NAME               21 (str)
-               334 LOAD_CONST              18 ('body')
-               336 LOAD_NAME                4 (Dict)
-               338 LOAD_NAME               21 (str)
-               340 LOAD_NAME               21 (str)
-               342 BUILD_TUPLE              2
-               344 BINARY_SUBSCR
-               354 BUILD_TUPLE              6
-               356 LOAD_CONST              20 (<code object patch_url, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 86>)
-               358 MAKE_FUNCTION            4 (annotations)
-               360 STORE_NAME              24 (patch_url)
-               362 LOAD_CONST               1 (None)
-               364 RETURN_VALUE
+    18         118 PUSH_NULL
+               120 LOAD_NAME                0 (logging)
+               122 LOAD_ATTR               18 (getLogger)
+               132 LOAD_NAME               19 (__name__)
+               134 PRECALL                  1
+               138 CALL                     1
+               148 STORE_NAME              20 (logger)
+   
+    21         150 PUSH_NULL
+               152 LOAD_BUILD_CLASS
+               154 LOAD_CONST               6 (<code object Fetcher, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 21>)
+               156 MAKE_FUNCTION            0
+               158 LOAD_CONST               7 ('Fetcher')
+               160 PRECALL                  2
+               164 CALL                     2
+               174 STORE_NAME              21 (Fetcher)
+   
+    33         176 PUSH_NULL
+               178 LOAD_BUILD_CLASS
+               180 LOAD_CONST               8 (<code object RetryIfServerError, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 33>)
+               182 MAKE_FUNCTION            0
+               184 LOAD_CONST               9 ('RetryIfServerError')
+               186 LOAD_NAME                9 (retry_if_exception)
+               188 PRECALL                  3
+               192 CALL                     3
+               202 STORE_NAME              22 (RetryIfServerError)
+   
+    45         204 LOAD_CONST              10 (<code object check_http_error, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 45>)
+               206 MAKE_FUNCTION            0
+               208 STORE_NAME              23 (check_http_error)
+   
+    51         210 PUSH_NULL
+               212 LOAD_NAME                6 (retry)
+   
+    52         214 PUSH_NULL
+               216 LOAD_NAME                8 (wait_exponential)
+               218 LOAD_CONST              11 (1)
+               220 LOAD_CONST              12 (4)
+               222 KW_NAMES                13
+               224 PRECALL                  2
+               228 CALL                     2
+   
+    53         238 PUSH_NULL
+               240 LOAD_NAME                7 (stop_after_attempt)
+               242 LOAD_NAME               15 (MAX_RETRIES)
+               244 PRECALL                  1
+               248 CALL                     1
+   
+    54         258 PUSH_NULL
+               260 LOAD_NAME               22 (RetryIfServerError)
+               262 PRECALL                  0
+               266 CALL                     0
+   
+    51         276 KW_NAMES                14
+               278 PRECALL                  3
+               282 CALL                     3
+   
+    56         292 LOAD_CONST              15 ('url')
+               294 LOAD_NAME               24 (str)
+               296 LOAD_CONST              16 ('api_key')
+               298 LOAD_NAME               24 (str)
+               300 BUILD_TUPLE              4
+               302 LOAD_CONST              17 (<code object fetch_url, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 51>)
+               304 MAKE_FUNCTION            4 (annotations)
+   
+    51         306 PRECALL                  0
+               310 CALL                     0
+   
+    56         320 STORE_NAME              25 (fetch_url)
+   
+    73         322 LOAD_CONST              15 ('url')
+               324 LOAD_NAME               24 (str)
+               326 LOAD_CONST              16 ('api_key')
+               328 LOAD_NAME               24 (str)
+               330 LOAD_CONST              18 ('body')
+               332 LOAD_NAME                4 (Dict)
+               334 LOAD_NAME               24 (str)
+               336 LOAD_NAME               24 (str)
+               338 BUILD_TUPLE              2
+               340 BINARY_SUBSCR
+               350 BUILD_TUPLE              6
+               352 LOAD_CONST              19 (<code object post_url, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 73>)
+               354 MAKE_FUNCTION            4 (annotations)
+               356 STORE_NAME              26 (post_url)
+   
+    87         358 LOAD_CONST              15 ('url')
+               360 LOAD_NAME               24 (str)
+               362 LOAD_CONST              16 ('api_key')
+               364 LOAD_NAME               24 (str)
+               366 LOAD_CONST              18 ('body')
+               368 LOAD_NAME                4 (Dict)
+               370 LOAD_NAME               24 (str)
+               372 LOAD_NAME               24 (str)
+               374 BUILD_TUPLE              2
+               376 BINARY_SUBSCR
+               386 BUILD_TUPLE              6
+               388 LOAD_CONST              20 (<code object patch_url, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 87>)
+               390 MAKE_FUNCTION            4 (annotations)
+               392 STORE_NAME              27 (patch_url)
+               394 LOAD_CONST               1 (None)
+               396 RETURN_VALUE
    consts
       0
       None
       ('Any', 'Dict')
       ('retry', 'stop_after_attempt', 'wait_exponential', 'retry_if_exception')
       ('EnvironmentVars',)
       ('__version__',)
@@ -187,52 +196,52 @@
          stacksize : 6
          flags     : 0
          code
             0x970065005a0164005a0264016503640265036604640384045a04640465
             0364056505650365066602190000000000000000006604640684045a0764
             04650364056505650365066602190000000000000000006604640784045a
             0864085300
-          20           0 RESUME                   0
+          21           0 RESUME                   0
                        2 LOAD_NAME                0 (__name__)
                        4 STORE_NAME               1 (__module__)
                        6 LOAD_CONST               0 ('Fetcher')
                        8 STORE_NAME               2 (__qualname__)
          
-          21          10 LOAD_CONST               1 ('base_url')
+          22          10 LOAD_CONST               1 ('base_url')
                       12 LOAD_NAME                3 (str)
                       14 LOAD_CONST               2 ('api_key')
                       16 LOAD_NAME                3 (str)
                       18 BUILD_TUPLE              4
-                      20 LOAD_CONST               3 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 21>)
+                      20 LOAD_CONST               3 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 22>)
                       22 MAKE_FUNCTION            4 (annotations)
                       24 STORE_NAME               4 (__init__)
          
-          25          26 LOAD_CONST               4 ('api')
+          26          26 LOAD_CONST               4 ('api')
                       28 LOAD_NAME                3 (str)
                       30 LOAD_CONST               5 ('body')
                       32 LOAD_NAME                5 (Dict)
                       34 LOAD_NAME                3 (str)
                       36 LOAD_NAME                6 (Any)
                       38 BUILD_TUPLE              2
                       40 BINARY_SUBSCR
                       50 BUILD_TUPLE              4
-                      52 LOAD_CONST               6 (<code object post, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 25>)
+                      52 LOAD_CONST               6 (<code object post, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 26>)
                       54 MAKE_FUNCTION            4 (annotations)
                       56 STORE_NAME               7 (post)
          
-          28          58 LOAD_CONST               4 ('api')
+          29          58 LOAD_CONST               4 ('api')
                       60 LOAD_NAME                3 (str)
                       62 LOAD_CONST               5 ('body')
                       64 LOAD_NAME                5 (Dict)
                       66 LOAD_NAME                3 (str)
                       68 LOAD_NAME                6 (Any)
                       70 BUILD_TUPLE              2
                       72 BINARY_SUBSCR
                       82 BUILD_TUPLE              4
-                      84 LOAD_CONST               7 (<code object patch, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 28>)
+                      84 LOAD_CONST               7 (<code object patch, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 29>)
                       86 MAKE_FUNCTION            4 (annotations)
                       88 STORE_NAME               8 (patch)
                       90 LOAD_CONST               8 (None)
                       92 RETURN_VALUE
          consts
             'Fetcher'
             'base_url'
@@ -241,49 +250,49 @@
                argcount  : 3
                nlocals   : 3
                stacksize : 2
                flags     : 3
                code
                   0x97007c017c005f0000000000000000007c027c005f0100000000000000
                   0064005300
-                21           0 RESUME                   0
+                22           0 RESUME                   0
                
-                22           2 LOAD_FAST                1 (base_url)
+                23           2 LOAD_FAST                1 (base_url)
                              4 LOAD_FAST                0 (self)
                              6 STORE_ATTR               0 (_base_url)
                
-                23          16 LOAD_FAST                2 (api_key)
+                24          16 LOAD_FAST                2 (api_key)
                             18 LOAD_FAST                0 (self)
                             20 STORE_ATTR               1 (_api_key)
                             30 LOAD_CONST               0 (None)
                             32 RETURN_VALUE
                consts
                   None
                names      ('_base_url', '_api_key')
                varnames   ('self', 'base_url', 'api_key')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
                name       '__init__'
-               firstlineno 21
+               firstlineno 22
                lnotab 0x02010e01
             'api'
             'body'
             code
                argcount  : 3
                nlocals   : 3
                stacksize : 5
                flags     : 3
                code
                   0x97007401000000000000000000007c006a0100000000000000009b0064
                   017c019b009d037c006a0200000000000000007c02a6030000ab03000000
                   0000000000010064005300
-                25           0 RESUME                   0
+                26           0 RESUME                   0
                
-                26           2 LOAD_GLOBAL              1 (NULL + post_url)
+                27           2 LOAD_GLOBAL              1 (NULL + post_url)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (_base_url)
                             26 FORMAT_VALUE             0
                             28 LOAD_CONST               1 ('/v1/agiflow/')
                             30 LOAD_FAST                1 (api)
                             32 FORMAT_VALUE             0
                             34 BUILD_STRING             3
@@ -300,28 +309,28 @@
                   '/v1/agiflow/'
                names      ('post_url', '_base_url', '_api_key')
                varnames   ('self', 'api', 'body')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
                name       'post'
-               firstlineno 25
+               firstlineno 26
                lnotab 0x0201
             code
                argcount  : 3
                nlocals   : 3
                stacksize : 5
                flags     : 3
                code
                   0x97007401000000000000000000007c006a0100000000000000009b0064
                   017c019b009d037c006a0200000000000000007c02a6030000ab03000000
                   0000000000010064005300
-                28           0 RESUME                   0
+                29           0 RESUME                   0
                
-                29           2 LOAD_GLOBAL              1 (NULL + patch_url)
+                30           2 LOAD_GLOBAL              1 (NULL + patch_url)
                             14 LOAD_FAST                0 (self)
                             16 LOAD_ATTR                1 (_base_url)
                             26 FORMAT_VALUE             0
                             28 LOAD_CONST               1 ('/v1/agiflow/')
                             30 LOAD_FAST                1 (api)
                             32 FORMAT_VALUE             0
                             34 BUILD_STRING             3
@@ -338,24 +347,24 @@
                   '/v1/agiflow/'
                names      ('patch_url', '_base_url', '_api_key')
                varnames   ('self', 'api', 'body')
                freevars   ()
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
                name       'patch'
-               firstlineno 28
+               firstlineno 29
                lnotab 0x0201
             None
          names      ('__name__', '__module__', '__qualname__', 'str', '__init__', 'Dict', 'Any', 'post', 'patch')
          varnames   ()
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
          name       'Fetcher'
-         firstlineno 20
+         firstlineno 21
          lnotab 0x0a0110042003
       'Fetcher'
       code
          argcount  : 0
          nlocals   : 0
          stacksize : 7
          flags     : 0
@@ -363,55 +372,55 @@
             0x8700970065005a0164005a0265036601640165046a0500000000000000
             0065046a06000000000000000065071900000000000000000065046a0800
             0000000000000065046a0600000000000000006507190000000000000000
             006402660219000000000000000000660219000000000000000000640364
             046604880066016405840d5a09880078015a0a5300
                        0 MAKE_CELL                0 (__class__)
          
-          32           2 RESUME                   0
+          33           2 RESUME                   0
                        4 LOAD_NAME                0 (__name__)
                        6 STORE_NAME               1 (__module__)
                        8 LOAD_CONST               0 ('RetryIfServerError')
                       10 STORE_NAME               2 (__qualname__)
          
-          38          12 LOAD_NAME                3 (Exception)
+          39          12 LOAD_NAME                3 (Exception)
          
-          33          14 BUILD_TUPLE              1
+          34          14 BUILD_TUPLE              1
                       16 LOAD_CONST               1 ('exception_types')
          
-          35          18 LOAD_NAME                4 (typing)
+          36          18 LOAD_NAME                4 (typing)
                       20 LOAD_ATTR                5 (Union)
          
-          36          30 LOAD_NAME                4 (typing)
+          37          30 LOAD_NAME                4 (typing)
                       32 LOAD_ATTR                6 (Type)
                       42 LOAD_NAME                7 (BaseException)
                       44 BINARY_SUBSCR
          
-          37          54 LOAD_NAME                4 (typing)
+          38          54 LOAD_NAME                4 (typing)
                       56 LOAD_ATTR                8 (Tuple)
                       66 LOAD_NAME                4 (typing)
                       68 LOAD_ATTR                6 (Type)
                       78 LOAD_NAME                7 (BaseException)
                       80 BINARY_SUBSCR
                       90 LOAD_CONST               2 (Ellipsis)
                       92 BUILD_TUPLE              2
                       94 BINARY_SUBSCR
          
-          36         104 BUILD_TUPLE              2
+          37         104 BUILD_TUPLE              2
          
-          35         106 BINARY_SUBSCR
+          36         106 BINARY_SUBSCR
          
-          33         116 LOAD_CONST               3 ('return')
+          34         116 LOAD_CONST               3 ('return')
          
-          39         118 LOAD_CONST               4 (None)
+          40         118 LOAD_CONST               4 (None)
          
-          33         120 BUILD_TUPLE              4
+          34         120 BUILD_TUPLE              4
                      122 LOAD_CLOSURE             0 (__class__)
                      124 BUILD_TUPLE              1
-                     126 LOAD_CONST               5 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 33>)
+                     126 LOAD_CONST               5 (<code object __init__, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 34>)
                      128 MAKE_FUNCTION           13 (defaults, annotations, closure)
                      130 STORE_NAME               9 (__init__)
                      132 LOAD_CLOSURE             0 (__class__)
                      134 COPY                     1
                      136 STORE_NAME              10 (__classcell__)
                      138 RETURN_VALUE
          consts
@@ -428,25 +437,25 @@
                code
                   0x950197007c017c005f0000000000000000007403000000000000000000
                   00a6000000ab000000000000000000a00200000000000000000000000000
                   0000000000000064018400a6010000ab0100000000000000000100640053
                   00
                              0 COPY_FREE_VARS           1
                
-                33           2 RESUME                   0
+                34           2 RESUME                   0
                
-                40           4 LOAD_FAST                1 (exception_types)
+                41           4 LOAD_FAST                1 (exception_types)
                              6 LOAD_FAST                0 (self)
                              8 STORE_ATTR               0 (exception_types)
                
-                41          18 LOAD_GLOBAL              3 (NULL + super)
+                42          18 LOAD_GLOBAL              3 (NULL + super)
                             30 PRECALL                  0
                             34 CALL                     0
                             44 LOAD_METHOD              2 (__init__)
-                            66 LOAD_CONST               1 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 41>)
+                            66 LOAD_CONST               1 (<code object <lambda>, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py", line 42>)
                             68 MAKE_FUNCTION            0
                             70 PRECALL                  1
                             74 CALL                     1
                             84 POP_TOP
                             86 LOAD_CONST               0 (None)
                             88 RETURN_VALUE
                consts
@@ -455,94 +464,94 @@
                      argcount  : 1
                      nlocals   : 1
                      stacksize : 3
                      flags     : 19
                      code
                         0x97007401000000000000000000007c00a6010000ab0100000000000000
                         005300
-                      41           0 RESUME                   0
+                      42           0 RESUME                   0
                                    2 LOAD_GLOBAL              1 (NULL + check_http_error)
                                   14 LOAD_FAST                0 (e)
                                   16 PRECALL                  1
                                   20 CALL                     1
                                   30 RETURN_VALUE
                      consts
                         None
                      names      ('check_http_error',)
                      varnames   ('e',)
                      freevars   ()
                      cellvars   ()
                      filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
                      name       '<lambda>'
-                     firstlineno 41
+                     firstlineno 42
                      lnotab 0x
                names      ('exception_types', 'super', '__init__')
                varnames   ('self', 'exception_types')
                freevars   ('__class__',)
                cellvars   ()
                filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
                name       '__init__'
-               firstlineno 33
+               firstlineno 34
                lnotab 0x04070e01
          names      ('__name__', '__module__', '__qualname__', 'Exception', 'typing', 'Union', 'Type', 'BaseException', 'Tuple', '__init__', '__classcell__')
          varnames   ()
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
          name       'RetryIfServerError'
-         firstlineno 32
+         firstlineno 33
          lnotab 0x0c0602fb04020c01180132ff02ff0afe020602fa
       'RetryIfServerError'
       code
          argcount  : 1
          nlocals   : 1
          stacksize : 4
          flags     : 3
          code
             0x97007401000000000000000000007c007402000000000000000000006a
             0200000000000000006a030000000000000000a6020000ab020000000000
             0000006f1964017c006a0400000000000000006a05000000000000000063
             0278026b01000000006f0564026b00000000006e02630201005300
-          44           0 RESUME                   0
+          45           0 RESUME                   0
          
-          45           2 LOAD_GLOBAL              1 (NULL + isinstance)
+          46           2 LOAD_GLOBAL              1 (NULL + isinstance)
                       14 LOAD_FAST                0 (e)
                       16 LOAD_GLOBAL              2 (requests)
                       28 LOAD_ATTR                2 (exceptions)
                       38 LOAD_ATTR                3 (HTTPError)
                       48 PRECALL                  2
                       52 CALL                     2
                       62 JUMP_IF_FALSE_OR_POP    25 (to 114)
          
-          46          64 LOAD_CONST               1 (500)
+          47          64 LOAD_CONST               1 (500)
                       66 LOAD_FAST                0 (e)
                       68 LOAD_ATTR                4 (response)
                       78 LOAD_ATTR                5 (status_code)
                       88 SWAP                     2
                       90 COPY                     2
                       92 COMPARE_OP               1 (<=)
                       98 JUMP_IF_FALSE_OR_POP     5 (to 110)
                      100 LOAD_CONST               2 (600)
                      102 COMPARE_OP               0 (<)
                      108 JUMP_FORWARD             2 (to 114)
                  >>  110 SWAP                     2
                      112 POP_TOP
          
-          45     >>  114 RETURN_VALUE
+          46     >>  114 RETURN_VALUE
          consts
             None
             500
             600
          names      ('isinstance', 'requests', 'exceptions', 'HTTPError', 'response', 'status_code')
          varnames   ('e',)
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
          name       'check_http_error'
-         firstlineno 44
+         firstlineno 45
          lnotab 0x02013e0132ff
       1
       4
       ('multiplier', 'min')
       ('wait', 'stop', 'retry')
       'url'
       'api_key'
@@ -551,158 +560,158 @@
          nlocals   : 3
          stacksize : 6
          flags     : 3
          code
             0x97007401000000000000000000006a0100000000000000007c0064017c
             019b009d0274040000000000000000000064029c02ac03a6020000ab0200
             000000000000007d027c026a03000000000000000064046b030000000072
-            4a7c026a03000000000000000064056b0200000000730b7c026a03000000
-            000000000064066b020000000072147409000000000000000000006a0500
-            000000000000006407a6010000ab01000000000000000001007400000000
-            000000000000006a060000000000000000a0070000000000000000000000
-            0000000000000000007c02ac08a6010000ab01000000000000000082017c
-            02a0080000000000000000000000000000000000000000a6000000ab0000
-            000000000000005300
-          50           0 RESUME                   0
+            507c026a03000000000000000064056b0200000000730b7c026a03000000
+            000000000064066b0200000000721a740800000000000000000000a00500
+            000000000000000000000000000000000000006407a6010000ab01000000
+            000000000001007400000000000000000000006a060000000000000000a0
+            0700000000000000000000000000000000000000007c02ac08a6010000ab
+            01000000000000000082017c02a008000000000000000000000000000000
+            0000000000a6000000ab0000000000000000005300
+          51           0 RESUME                   0
          
-          56           2 LOAD_GLOBAL              1 (NULL + requests)
+          57           2 LOAD_GLOBAL              1 (NULL + requests)
                       14 LOAD_ATTR                1 (get)
          
-          57          24 LOAD_FAST                0 (url)
+          58          24 LOAD_FAST                0 (url)
          
-          59          26 LOAD_CONST               1 ('Bearer ')
+          60          26 LOAD_CONST               1 ('Bearer ')
                       28 LOAD_FAST                1 (api_key)
                       30 FORMAT_VALUE             0
                       32 BUILD_STRING             2
          
-          60          34 LOAD_GLOBAL              4 (__version__)
+          61          34 LOAD_GLOBAL              4 (__version__)
          
-          58          46 LOAD_CONST               2 (('Authorization', 'X-Agiflow-SDK-Version'))
+          59          46 LOAD_CONST               2 (('Authorization', 'X-Agiflow-SDK-Version'))
                       48 BUILD_CONST_KEY_MAP      2
          
-          56          50 KW_NAMES                 3
+          57          50 KW_NAMES                 3
                       52 PRECALL                  2
                       56 CALL                     2
                       66 STORE_FAST               2 (response)
          
-          64          68 LOAD_FAST                2 (response)
+          65          68 LOAD_FAST                2 (response)
                       70 LOAD_ATTR                3 (status_code)
                       80 LOAD_CONST               4 (200)
                       82 COMPARE_OP               3 (!=)
-                      88 POP_JUMP_FORWARD_IF_FALSE    74 (to 238)
+                      88 POP_JUMP_FORWARD_IF_FALSE    80 (to 250)
          
-          65          90 LOAD_FAST                2 (response)
+          66          90 LOAD_FAST                2 (response)
                       92 LOAD_ATTR                3 (status_code)
                      102 LOAD_CONST               5 (401)
                      104 COMPARE_OP               2 (==)
                      110 POP_JUMP_FORWARD_IF_TRUE    11 (to 134)
                      112 LOAD_FAST                2 (response)
                      114 LOAD_ATTR                3 (status_code)
                      124 LOAD_CONST               6 (403)
                      126 COMPARE_OP               2 (==)
-                     132 POP_JUMP_FORWARD_IF_FALSE    20 (to 174)
+                     132 POP_JUMP_FORWARD_IF_FALSE    26 (to 186)
          
-          66     >>  134 LOAD_GLOBAL              9 (NULL + logging)
-                     146 LOAD_ATTR                5 (error)
-                     156 LOAD_CONST               7 ('Authorization error: Invalid API key.')
-                     158 PRECALL                  1
-                     162 CALL                     1
-                     172 POP_TOP
-         
-          67     >>  174 LOAD_GLOBAL              0 (requests)
-                     186 LOAD_ATTR                6 (exceptions)
-                     196 LOAD_METHOD              7 (HTTPError)
-                     218 LOAD_FAST                2 (response)
-                     220 KW_NAMES                 8
-                     222 PRECALL                  1
-                     226 CALL                     1
-                     236 RAISE_VARARGS            1
-         
-          69     >>  238 LOAD_FAST                2 (response)
-                     240 LOAD_METHOD              8 (json)
-                     262 PRECALL                  0
-                     266 CALL                     0
-                     276 RETURN_VALUE
+          67     >>  134 LOAD_GLOBAL              8 (logger)
+                     146 LOAD_METHOD              5 (error)
+                     168 LOAD_CONST               7 ('Authorization error: Invalid API key.')
+                     170 PRECALL                  1
+                     174 CALL                     1
+                     184 POP_TOP
+         
+          68     >>  186 LOAD_GLOBAL              0 (requests)
+                     198 LOAD_ATTR                6 (exceptions)
+                     208 LOAD_METHOD              7 (HTTPError)
+                     230 LOAD_FAST                2 (response)
+                     232 KW_NAMES                 8
+                     234 PRECALL                  1
+                     238 CALL                     1
+                     248 RAISE_VARARGS            1
+         
+          70     >>  250 LOAD_FAST                2 (response)
+                     252 LOAD_METHOD              8 (json)
+                     274 PRECALL                  0
+                     278 CALL                     0
+                     288 RETURN_VALUE
          consts
             None
             'Bearer '
             ('Authorization', 'X-Agiflow-SDK-Version')
             ('headers',)
             200
             401
             403
             'Authorization error: Invalid API key.'
             ('response',)
-         names      ('requests', 'get', '__version__', 'status_code', 'logging', 'error', 'exceptions', 'HTTPError', 'json')
+         names      ('requests', 'get', '__version__', 'status_code', 'logger', 'error', 'exceptions', 'HTTPError', 'json')
          varnames   ('url', 'api_key', 'response')
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
          name       'fetch_url'
-         firstlineno 50
-         lnotab 0x02061601020208010cfe04fe120816012c0128014002
+         firstlineno 51
+         lnotab 0x02061601020208010cfe04fe120816012c0134014002
       'body'
       code
          argcount  : 3
          nlocals   : 4
          stacksize : 6
          flags     : 3
          code
             0x97007401000000000000000000006a0100000000000000007c0064017c
             019b009d0274040000000000000000000064029c027c02ac03a6030000ab
             0300000000000000007d037c036a03000000000000000064046b03000000
             00730b7c036a03000000000000000064056b030000000072207400000000
             000000000000006a040000000000000000a0050000000000000000000000
             0000000000000000007c03ac06a6010000ab010000000000000000820164
             005300
-          72           0 RESUME                   0
+          73           0 RESUME                   0
          
-          73           2 LOAD_GLOBAL              1 (NULL + requests)
+          74           2 LOAD_GLOBAL              1 (NULL + requests)
                       14 LOAD_ATTR                1 (post)
          
-          74          24 LOAD_FAST                0 (url)
+          75          24 LOAD_FAST                0 (url)
          
-          76          26 LOAD_CONST               1 ('Bearer ')
+          77          26 LOAD_CONST               1 ('Bearer ')
                       28 LOAD_FAST                1 (api_key)
                       30 FORMAT_VALUE             0
                       32 BUILD_STRING             2
          
-          77          34 LOAD_GLOBAL              4 (__version__)
+          78          34 LOAD_GLOBAL              4 (__version__)
          
-          75          46 LOAD_CONST               2 (('Authorization', 'X-Agiflow-SDK-Version'))
+          76          46 LOAD_CONST               2 (('Authorization', 'X-Agiflow-SDK-Version'))
                       48 BUILD_CONST_KEY_MAP      2
          
-          79          50 LOAD_FAST                2 (body)
+          80          50 LOAD_FAST                2 (body)
          
-          73          52 KW_NAMES                 3
+          74          52 KW_NAMES                 3
                       54 PRECALL                  3
                       58 CALL                     3
                       68 STORE_FAST               3 (response)
          
-          82          70 LOAD_FAST                3 (response)
+          83          70 LOAD_FAST                3 (response)
                       72 LOAD_ATTR                3 (status_code)
                       82 LOAD_CONST               4 (200)
                       84 COMPARE_OP               3 (!=)
                       90 POP_JUMP_FORWARD_IF_TRUE    11 (to 114)
                       92 LOAD_FAST                3 (response)
                       94 LOAD_ATTR                3 (status_code)
                      104 LOAD_CONST               5 (201)
                      106 COMPARE_OP               3 (!=)
                      112 POP_JUMP_FORWARD_IF_FALSE    32 (to 178)
          
-          83     >>  114 LOAD_GLOBAL              0 (requests)
+          84     >>  114 LOAD_GLOBAL              0 (requests)
                      126 LOAD_ATTR                4 (exceptions)
                      136 LOAD_METHOD              5 (HTTPError)
                      158 LOAD_FAST                3 (response)
                      160 KW_NAMES                 6
                      162 PRECALL                  1
                      166 CALL                     1
                      176 RAISE_VARARGS            1
          
-          82     >>  178 LOAD_CONST               0 (None)
+          83     >>  178 LOAD_CONST               0 (None)
                      180 RETURN_VALUE
          consts
             None
             'Bearer '
             ('Authorization', 'X-Agiflow-SDK-Version')
             ('headers', 'json')
             200
@@ -710,87 +719,87 @@
             ('response',)
          names      ('requests', 'post', '__version__', 'status_code', 'exceptions', 'HTTPError')
          varnames   ('url', 'api_key', 'body', 'response')
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
          name       'post_url'
-         firstlineno 72
+         firstlineno 73
          lnotab 0x02011601020208010cfe040402fa12092c0140ff
       code
          argcount  : 3
          nlocals   : 4
          stacksize : 6
          flags     : 3
          code
             0x97007401000000000000000000006a0100000000000000007c0064017c
             019b009d0274040000000000000000000064029c027c02ac03a6030000ab
             0300000000000000007d037c036a03000000000000000064046b03000000
             0072207400000000000000000000006a040000000000000000a005000000
             00000000000000000000000000000000007c03ac05a6010000ab01000000
             0000000000820164005300
-          86           0 RESUME                   0
+          87           0 RESUME                   0
          
-          87           2 LOAD_GLOBAL              1 (NULL + requests)
+          88           2 LOAD_GLOBAL              1 (NULL + requests)
                       14 LOAD_ATTR                1 (patch)
          
-          88          24 LOAD_FAST                0 (url)
+          89          24 LOAD_FAST                0 (url)
          
-          90          26 LOAD_CONST               1 ('Bearer ')
+          91          26 LOAD_CONST               1 ('Bearer ')
                       28 LOAD_FAST                1 (api_key)
                       30 FORMAT_VALUE             0
                       32 BUILD_STRING             2
          
-          91          34 LOAD_GLOBAL              4 (__version__)
+          92          34 LOAD_GLOBAL              4 (__version__)
          
-          89          46 LOAD_CONST               2 (('Authorization', 'X-Agiflow-SDK-Version'))
+          90          46 LOAD_CONST               2 (('Authorization', 'X-Agiflow-SDK-Version'))
                       48 BUILD_CONST_KEY_MAP      2
          
-          93          50 LOAD_FAST                2 (body)
+          94          50 LOAD_FAST                2 (body)
          
-          87          52 KW_NAMES                 3
+          88          52 KW_NAMES                 3
                       54 PRECALL                  3
                       58 CALL                     3
                       68 STORE_FAST               3 (response)
          
-          96          70 LOAD_FAST                3 (response)
+          97          70 LOAD_FAST                3 (response)
                       72 LOAD_ATTR                3 (status_code)
                       82 LOAD_CONST               4 (200)
                       84 COMPARE_OP               3 (!=)
                       90 POP_JUMP_FORWARD_IF_FALSE    32 (to 156)
          
-          97          92 LOAD_GLOBAL              0 (requests)
+          98          92 LOAD_GLOBAL              0 (requests)
                      104 LOAD_ATTR                4 (exceptions)
                      114 LOAD_METHOD              5 (HTTPError)
                      136 LOAD_FAST                3 (response)
                      138 KW_NAMES                 5
                      140 PRECALL                  1
                      144 CALL                     1
                      154 RAISE_VARARGS            1
          
-          96     >>  156 LOAD_CONST               0 (None)
+          97     >>  156 LOAD_CONST               0 (None)
                      158 RETURN_VALUE
          consts
             None
             'Bearer '
             ('Authorization', 'X-Agiflow-SDK-Version')
             ('headers', 'json')
             200
             ('response',)
          names      ('requests', 'patch', '__version__', 'status_code', 'exceptions', 'HTTPError')
          varnames   ('url', 'api_key', 'body', 'response')
          freevars   ()
          cellvars   ()
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
          name       'patch_url'
-         firstlineno 86
+         firstlineno 87
          lnotab 0x02011601020208010cfe040402fa1209160140ff
-   names      ('logging', 'typing', 'requests', 'Any', 'Dict', 'tenacity', 'retry', 'stop_after_attempt', 'wait_exponential', 'retry_if_exception', 'agiflow.config.environment_vars', 'EnvironmentVars', 'agiflow.version', '__version__', 'AGIFLOW_FETCH_MANAGER_MAX_RETRIES', 'MAX_RETRIES', 'AGIFLOW_FETCH_MANAGER_POLLING_INTERVAL', 'POLLING_INTERVAL', 'Fetcher', 'RetryIfServerError', 'check_http_error', 'str', 'fetch_url', 'post_url', 'patch_url')
+   names      ('logging', 'typing', 'requests', 'Any', 'Dict', 'tenacity', 'retry', 'stop_after_attempt', 'wait_exponential', 'retry_if_exception', 'agiflow.config.environment_vars', 'EnvironmentVars', 'agiflow.version', '__version__', 'AGIFLOW_FETCH_MANAGER_MAX_RETRIES', 'MAX_RETRIES', 'AGIFLOW_FETCH_MANAGER_POLLING_INTERVAL', 'POLLING_INTERVAL', 'getLogger', '__name__', 'logger', 'Fetcher', 'RetryIfServerError', 'check_http_error', 'str', 'fetch_url', 'post_url', 'patch_url')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/services/fetch.py'
    name       '<module>'
    firstlineno 1
    lnotab
-      0x00ff0201080108010802100118070c010c020e010e031a0c1c0c060604
-      011801140112fd10050efb0e050211240e
+      0x00ff0201080108010802100118070c010c020e010e0120031a0c1c0c06
+      0604011801140112fd10050efb0e050211240e
```

### Comparing `agiflow_sdk-0.0.2/agiflow/services/fetch.py` & `agiflow_sdk-0.0.3/agiflow/services/fetch.py`

 * *Files 4% similar despite different names*

```diff
@@ -11,14 +11,15 @@
 )
 
 from agiflow.config.environment_vars import EnvironmentVars
 from agiflow.version import __version__
 
 MAX_RETRIES = EnvironmentVars.AGIFLOW_FETCH_MANAGER_MAX_RETRIES
 POLLING_INTERVAL = EnvironmentVars.AGIFLOW_FETCH_MANAGER_POLLING_INTERVAL
+logger = logging.getLogger(__name__)
 
 
 class Fetcher:
     def __init__(self, base_url: str, api_key: str):
         self._base_url = base_url
         self._api_key = api_key
 
@@ -59,15 +60,15 @@
             "Authorization": f"Bearer {api_key}",
             "X-Agiflow-SDK-Version": __version__,
         },
     )
 
     if response.status_code != 200:
         if response.status_code == 401 or response.status_code == 403:
-            logging.error("Authorization error: Invalid API key.")
+            logger.error("Authorization error: Invalid API key.")
         raise requests.exceptions.HTTPError(response=response)
     else:
         return response.json()
 
 
 def post_url(url: str, api_key: str, body: Dict[str, str]):
     response = requests.post(
```

### Comparing `agiflow_sdk-0.0.2/agiflow/telemetry/__init__.py` & `agiflow_sdk-0.0.3/agiflow/telemetry/__init__.py`

 * *Files 2% similar despite different names*

```diff
@@ -67,7 +67,12 @@
     def feature_enabled(self, key: str):
         try:  # don't fail if telemetry fails
             if self._telemetry_enabled:
                 return self._posthog.feature_enabled(key, self._anon_id())
         except Exception:
             pass
         return False
+
+
+__all__ = [
+  'Telemetry'
+]
```

### Comparing `agiflow_sdk-0.0.2/agiflow/telemetry/__pycache__/__init__.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/telemetry/__pycache__/__init__.cpython-311.pyc`

 * *Files 3% similar despite different names*

#### Python bytecode

```diff
@@ -1,20 +1,20 @@
 magic:    0xa70d0d0a
-moddate:  0xc6fe5766 (Thu May 30 04:21:26 2024 UTC)
-files sz: 2492
+moddate:  0xfd955b66 (Sat Jun  1 21:43:25 2024 UTC)
+files sz: 2522
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 4
    flags     : 0
    code
       0x9700640064016c005a00640064016c015a01640064026c026d035a0301
       00640064016c045a04640064016c055a05640064036c066d075a07010064
       0064046c086d095a090100640064056c0a6d0b5a0b010002004700640684
-      006407a6020000ab0200000000000000005a0c64015300
+      006407a6020000ab0200000000000000005a0c640767015a0d64015300
      0           0 RESUME                   0
    
      1           2 LOAD_CONST               0 (0)
                  4 LOAD_CONST               1 (None)
                  6 IMPORT_NAME              0 (os)
                  8 STORE_NAME               0 (os)
    
@@ -65,16 +65,21 @@
                 84 LOAD_BUILD_CLASS
                 86 LOAD_CONST               6 (<code object Telemetry, file "/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/telemetry/__init__.py", line 11>)
                 88 MAKE_FUNCTION            0
                 90 LOAD_CONST               7 ('Telemetry')
                 92 PRECALL                  2
                 96 CALL                     2
                106 STORE_NAME              12 (Telemetry)
-               108 LOAD_CONST               1 (None)
-               110 RETURN_VALUE
+   
+    77         108 LOAD_CONST               7 ('Telemetry')
+   
+    76         110 BUILD_LIST               1
+               112 STORE_NAME              13 (__all__)
+               114 LOAD_CONST               1 (None)
+               116 RETURN_VALUE
    consts
       0
       None
       ('Path',)
       ('Posthog',)
       ('__version__',)
       ('EnvironmentVars',)
@@ -673,15 +678,15 @@
          freevars   ()
          cellvars   ('__class__',)
          filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/telemetry/__init__.py'
          name       'Telemetry'
          firstlineno 11
          lnotab 0x0e010a010a01420104020c110c120c061809
       'Telemetry'
-   names      ('os', 'uuid', 'pathlib', 'Path', 'logging', 'sys', 'posthog', 'Posthog', 'agiflow.version', '__version__', 'agiflow.config.environment_vars', 'EnvironmentVars', 'Telemetry')
+   names      ('os', 'uuid', 'pathlib', 'Path', 'logging', 'sys', 'posthog', 'Posthog', 'agiflow.version', '__version__', 'agiflow.config.environment_vars', 'EnvironmentVars', 'Telemetry', '__all__')
    varnames   ()
    freevars   ()
    cellvars   ()
    filename   '/Users/vuongngo/workspace/agiflow/packages/python/agiflow-sdk/agiflow/telemetry/__init__.py'
    name       '<module>'
    firstlineno 1
-   lnotab 0x00ff0201080108010c01080108010c010c010c03
+   lnotab 0x00ff0201080108010c01080108010c010c010c031a4202ff
```

### Comparing `agiflow_sdk-0.0.2/agiflow/utils/.DS_Store` & `agiflow_sdk-0.0.3/agiflow/opentelemetry/utils/.DS_Store`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/utils/__pycache__/assertion.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/utils/__pycache__/assertion.cpython-311.pyc`

 * *Files 3% similar despite different names*

#### Python bytecode

```diff
@@ -1,9 +1,9 @@
 magic:    0xa70d0d0a
-moddate:  0x2e055866 (Thu May 30 04:48:46 2024 UTC)
+moddate:  0xe1c15966 (Fri May 31 12:26:09 2024 UTC)
 files sz: 207
 code
    argcount  : 0
    nlocals   : 0
    stacksize : 1
    flags     : 0
    code 0x9700640084005a0064015300
```

### Comparing `agiflow_sdk-0.0.2/agiflow/utils/__pycache__/llm.cpython-311.pyc` & `agiflow_sdk-0.0.3/agiflow/utils/__pycache__/llm.cpython-311.pyc`

 * *Files identical despite different names*

### Comparing `agiflow_sdk-0.0.2/agiflow/utils/string.py` & `agiflow_sdk-0.0.3/agiflow/utils/string.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,8 +1,11 @@
 import json
+from agiflow.utils.debugging import Debugger
+
+debugger = Debugger(__name__)
 
 
 def clean_empty(d):
     """Recursively remove empty lists, empty dicts, or None elements from a dictionary."""
     if not isinstance(d, (dict, list)):
         return d
     if isinstance(d, list):
@@ -27,21 +30,26 @@
 def non_serialize(value):
     return f"<<non-serializable: {type(value).__qualname__}>>"
 
 
 def serialise_to_json(value) -> str:
     cleaned_object = clean_empty(value)
     try:
-        return json.dumps(cleaned_object, default=custom_serializer)
+        return json.dumps(cleaned_object)
     except Exception as e:
+        debugger.warn(f"Failed to json.dump {str(e)}")
         try:
-            return json.dumps(value, default=non_serialize)
+            return json.dumps(cleaned_object, default=custom_serializer)
         except Exception as e:
-            print(e)
-            return value
+            debugger.warn(f"Failed to json.dump with custom_serializer {str(e)}")
+            try:
+                return json.dumps(cleaned_object, default=non_serialize)
+            except Exception as e:
+                debugger.warn(f"Failed to json.dump with non_serialize {str(e)}")
+                return value
 
 
 def cameltosnake(camel_string: str) -> str:
     if not camel_string:
         return ""
     elif camel_string[0].isupper():
         return f"_{camel_string[0].lower()}{cameltosnake(camel_string[1:])}"
```

### Comparing `agiflow_sdk-0.0.2/pyproject.toml` & `agiflow_sdk-0.0.3/pyproject.toml`

 * *Files 0% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 
 [tool.coverage.report]
 exclude_lines = [ "if TYPE_CHECKING:" ]
 show_missing = true
 
 [tool.poetry]
 name = "agiflow-sdk"
-version = "0.0.2"
+version = "0.0.3"
 description = "Agiflow Software Development Kit (SDK) for Python"
 authors = [ "Vuong Ngo <vuongngo.pd@gmail.com>" ]
 repository = "https://github.com/agiflowAI/agiflow"
 documentation = "https://docs.agiflow.io/category/python"
 license = "Apache-2.0"
 readme = "README.md"
```

### Comparing `agiflow_sdk-0.0.2/PKG-INFO` & `agiflow_sdk-0.0.3/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: agiflow-sdk
-Version: 0.0.2
+Version: 0.0.3
 Summary: Agiflow Software Development Kit (SDK) for Python
 Home-page: https://github.com/agiflowAI/agiflow
 License: Apache-2.0
 Author: Vuong Ngo
 Author-email: vuongngo.pd@gmail.com
 Requires-Python: >=3.9,<4
 Classifier: License :: OSI Approved :: Apache Software License
```

